(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){require("../../js/transition.js");require("../../js/alert.js");require("../../js/button.js");require("../../js/carousel.js");require("../../js/collapse.js");require("../../js/dropdown.js");require("../../js/modal.js");require("../../js/tooltip.js");require("../../js/popover.js");require("../../js/scrollspy.js");require("../../js/tab.js");require("../../js/affix.js")},{"../../js/affix.js":2,"../../js/alert.js":3,"../../js/button.js":4,"../../js/carousel.js":5,"../../js/collapse.js":6,"../../js/dropdown.js":7,"../../js/modal.js":8,"../../js/popover.js":9,"../../js/scrollspy.js":10,"../../js/tab.js":11,"../../js/tooltip.js":12,"../../js/transition.js":13}],2:[function(require,module,exports){+function($){"use strict";var Affix=function(element,options){this.options=$.extend({},Affix.DEFAULTS,options);this.$target=$(this.options.target).on("scroll.bs.affix.data-api",$.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",$.proxy(this.checkPositionWithEventLoop,this));this.$element=$(element);this.affixed=null;this.unpin=null;this.pinnedOffset=null;this.checkPosition()};Affix.VERSION="3.3.7";Affix.RESET="affix affix-top affix-bottom";Affix.DEFAULTS={offset:0,target:window};Affix.prototype.getState=function(scrollHeight,height,offsetTop,offsetBottom){var scrollTop=this.$target.scrollTop();var position=this.$element.offset();var targetHeight=this.$target.height();if(offsetTop!=null&&this.affixed=="top")return scrollTop<offsetTop?"top":false;if(this.affixed=="bottom"){if(offsetTop!=null)return scrollTop+this.unpin<=position.top?false:"bottom";return scrollTop+targetHeight<=scrollHeight-offsetBottom?false:"bottom"}var initializing=this.affixed==null;var colliderTop=initializing?scrollTop:position.top;var colliderHeight=initializing?targetHeight:height;if(offsetTop!=null&&scrollTop<=offsetTop)return"top";if(offsetBottom!=null&&colliderTop+colliderHeight>=scrollHeight-offsetBottom)return"bottom";return false};Affix.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(Affix.RESET).addClass("affix");var scrollTop=this.$target.scrollTop();var position=this.$element.offset();return this.pinnedOffset=position.top-scrollTop};Affix.prototype.checkPositionWithEventLoop=function(){setTimeout($.proxy(this.checkPosition,this),1)};Affix.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var height=this.$element.height();var offset=this.options.offset;var offsetTop=offset.top;var offsetBottom=offset.bottom;var scrollHeight=Math.max($(document).height(),$(document.body).height());if(typeof offset!="object")offsetBottom=offsetTop=offset;if(typeof offsetTop=="function")offsetTop=offset.top(this.$element);if(typeof offsetBottom=="function")offsetBottom=offset.bottom(this.$element);var affix=this.getState(scrollHeight,height,offsetTop,offsetBottom);if(this.affixed!=affix){if(this.unpin!=null)this.$element.css("top","");var affixType="affix"+(affix?"-"+affix:"");var e=$.Event(affixType+".bs.affix");this.$element.trigger(e);if(e.isDefaultPrevented())return;this.affixed=affix;this.unpin=affix=="bottom"?this.getPinnedOffset():null;this.$element.removeClass(Affix.RESET).addClass(affixType).trigger(affixType.replace("affix","affixed")+".bs.affix")}if(affix=="bottom"){this.$element.offset({top:scrollHeight-height-offsetBottom})}};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.affix");var options=typeof option=="object"&&option;if(!data)$this.data("bs.affix",data=new Affix(this,options));if(typeof option=="string")data[option]()})}var old=$.fn.affix;$.fn.affix=Plugin;$.fn.affix.Constructor=Affix;$.fn.affix.noConflict=function(){$.fn.affix=old;return this};$(window).on("load",function(){$('[data-spy="affix"]').each(function(){var $spy=$(this);var data=$spy.data();data.offset=data.offset||{};if(data.offsetBottom!=null)data.offset.bottom=data.offsetBottom;if(data.offsetTop!=null)data.offset.top=data.offsetTop;Plugin.call($spy,data)})})}(jQuery)},{}],3:[function(require,module,exports){+function($){"use strict";var dismiss='[data-dismiss="alert"]';var Alert=function(el){$(el).on("click",dismiss,this.close)};Alert.VERSION="3.3.7";Alert.TRANSITION_DURATION=150;Alert.prototype.close=function(e){var $this=$(this);var selector=$this.attr("data-target");if(!selector){selector=$this.attr("href");selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")}var $parent=$(selector==="#"?[]:selector);if(e)e.preventDefault();if(!$parent.length){$parent=$this.closest(".alert")}$parent.trigger(e=$.Event("close.bs.alert"));if(e.isDefaultPrevented())return;$parent.removeClass("in");function removeElement(){$parent.detach().trigger("closed.bs.alert").remove()}$.support.transition&&$parent.hasClass("fade")?$parent.one("bsTransitionEnd",removeElement).emulateTransitionEnd(Alert.TRANSITION_DURATION):removeElement()};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.alert");if(!data)$this.data("bs.alert",data=new Alert(this));if(typeof option=="string")data[option].call($this)})}var old=$.fn.alert;$.fn.alert=Plugin;$.fn.alert.Constructor=Alert;$.fn.alert.noConflict=function(){$.fn.alert=old;return this};$(document).on("click.bs.alert.data-api",dismiss,Alert.prototype.close)}(jQuery)},{}],4:[function(require,module,exports){+function($){"use strict";var Button=function(element,options){this.$element=$(element);this.options=$.extend({},Button.DEFAULTS,options);this.isLoading=false};Button.VERSION="3.3.7";Button.DEFAULTS={loadingText:"loading..."};Button.prototype.setState=function(state){var d="disabled";var $el=this.$element;var val=$el.is("input")?"val":"html";var data=$el.data();state+="Text";if(data.resetText==null)$el.data("resetText",$el[val]());setTimeout($.proxy(function(){$el[val](data[state]==null?this.options[state]:data[state]);if(state=="loadingText"){this.isLoading=true;$el.addClass(d).attr(d,d).prop(d,true)}else if(this.isLoading){this.isLoading=false;$el.removeClass(d).removeAttr(d).prop(d,false)}},this),0)};Button.prototype.toggle=function(){var changed=true;var $parent=this.$element.closest('[data-toggle="buttons"]');if($parent.length){var $input=this.$element.find("input");if($input.prop("type")=="radio"){if($input.prop("checked"))changed=false;$parent.find(".active").removeClass("active");this.$element.addClass("active")}else if($input.prop("type")=="checkbox"){if($input.prop("checked")!==this.$element.hasClass("active"))changed=false;this.$element.toggleClass("active")}$input.prop("checked",this.$element.hasClass("active"));if(changed)$input.trigger("change")}else{this.$element.attr("aria-pressed",!this.$element.hasClass("active"));this.$element.toggleClass("active")}};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.button");var options=typeof option=="object"&&option;if(!data)$this.data("bs.button",data=new Button(this,options));if(option=="toggle")data.toggle();else if(option)data.setState(option)})}var old=$.fn.button;$.fn.button=Plugin;$.fn.button.Constructor=Button;$.fn.button.noConflict=function(){$.fn.button=old;return this};$(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var $btn=$(e.target).closest(".btn");Plugin.call($btn,"toggle");if(!$(e.target).is('input[type="radio"], input[type="checkbox"]')){e.preventDefault();if($btn.is("input,button"))$btn.trigger("focus");else $btn.find("input:visible,button:visible").first().trigger("focus")}}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){$(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery)},{}],5:[function(require,module,exports){+function($){"use strict";var Carousel=function(element,options){this.$element=$(element);this.$indicators=this.$element.find(".carousel-indicators");this.options=options;this.paused=null;this.sliding=null;this.interval=null;this.$active=null;this.$items=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",$.proxy(this.keydown,this));this.options.pause=="hover"&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",$.proxy(this.pause,this)).on("mouseleave.bs.carousel",$.proxy(this.cycle,this))};Carousel.VERSION="3.3.7";Carousel.TRANSITION_DURATION=600;Carousel.DEFAULTS={interval:5e3,pause:"hover",wrap:true,keyboard:true};Carousel.prototype.keydown=function(e){if(/input|textarea/i.test(e.target.tagName))return;switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()};Carousel.prototype.cycle=function(e){e||(this.paused=false);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval));return this};Carousel.prototype.getItemIndex=function(item){this.$items=item.parent().children(".item");return this.$items.index(item||this.$active)};Carousel.prototype.getItemForDirection=function(direction,active){var activeIndex=this.getItemIndex(active);var willWrap=direction=="prev"&&activeIndex===0||direction=="next"&&activeIndex==this.$items.length-1;if(willWrap&&!this.options.wrap)return active;var delta=direction=="prev"?-1:1;var itemIndex=(activeIndex+delta)%this.$items.length;return this.$items.eq(itemIndex)};Carousel.prototype.to=function(pos){var that=this;var activeIndex=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(pos>this.$items.length-1||pos<0)return;if(this.sliding)return this.$element.one("slid.bs.carousel",function(){that.to(pos)});if(activeIndex==pos)return this.pause().cycle();return this.slide(pos>activeIndex?"next":"prev",this.$items.eq(pos))};Carousel.prototype.pause=function(e){e||(this.paused=true);if(this.$element.find(".next, .prev").length&&$.support.transition){this.$element.trigger($.support.transition.end);this.cycle(true)}this.interval=clearInterval(this.interval);return this};Carousel.prototype.next=function(){if(this.sliding)return;return this.slide("next")};Carousel.prototype.prev=function(){if(this.sliding)return;return this.slide("prev")};Carousel.prototype.slide=function(type,next){var $active=this.$element.find(".item.active");var $next=next||this.getItemForDirection(type,$active);var isCycling=this.interval;var direction=type=="next"?"left":"right";var that=this;if($next.hasClass("active"))return this.sliding=false;var relatedTarget=$next[0];var slideEvent=$.Event("slide.bs.carousel",{relatedTarget:relatedTarget,direction:direction});this.$element.trigger(slideEvent);if(slideEvent.isDefaultPrevented())return;this.sliding=true;isCycling&&this.pause();if(this.$indicators.length){this.$indicators.find(".active").removeClass("active");var $nextIndicator=$(this.$indicators.children()[this.getItemIndex($next)]);$nextIndicator&&$nextIndicator.addClass("active")}var slidEvent=$.Event("slid.bs.carousel",{relatedTarget:relatedTarget,direction:direction});if($.support.transition&&this.$element.hasClass("slide")){$next.addClass(type);$next[0].offsetWidth;$active.addClass(direction);$next.addClass(direction);$active.one("bsTransitionEnd",function(){$next.removeClass([type,direction].join(" ")).addClass("active");$active.removeClass(["active",direction].join(" "));that.sliding=false;setTimeout(function(){that.$element.trigger(slidEvent)},0)}).emulateTransitionEnd(Carousel.TRANSITION_DURATION)}else{$active.removeClass("active");$next.addClass("active");this.sliding=false;this.$element.trigger(slidEvent)}isCycling&&this.cycle();return this};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.carousel");var options=$.extend({},Carousel.DEFAULTS,$this.data(),typeof option=="object"&&option);var action=typeof option=="string"?option:options.slide;if(!data)$this.data("bs.carousel",data=new Carousel(this,options));if(typeof option=="number")data.to(option);else if(action)data[action]();else if(options.interval)data.pause().cycle()})}var old=$.fn.carousel;$.fn.carousel=Plugin;$.fn.carousel.Constructor=Carousel;$.fn.carousel.noConflict=function(){$.fn.carousel=old;return this};var clickHandler=function(e){var href;var $this=$(this);var $target=$($this.attr("data-target")||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,""));if(!$target.hasClass("carousel"))return;var options=$.extend({},$target.data(),$this.data());var slideIndex=$this.attr("data-slide-to");if(slideIndex)options.interval=false;Plugin.call($target,options);if(slideIndex){$target.data("bs.carousel").to(slideIndex)}e.preventDefault()};$(document).on("click.bs.carousel.data-api","[data-slide]",clickHandler).on("click.bs.carousel.data-api","[data-slide-to]",clickHandler);$(window).on("load",function(){$('[data-ride="carousel"]').each(function(){var $carousel=$(this);Plugin.call($carousel,$carousel.data())})})}(jQuery)},{}],6:[function(require,module,exports){+function($){"use strict";var Collapse=function(element,options){this.$element=$(element);this.options=$.extend({},Collapse.DEFAULTS,options);this.$trigger=$('[data-toggle="collapse"][href="#'+element.id+'"],'+'[data-toggle="collapse"][data-target="#'+element.id+'"]');this.transitioning=null;if(this.options.parent){this.$parent=this.getParent()}else{this.addAriaAndCollapsedClass(this.$element,this.$trigger)}if(this.options.toggle)this.toggle()};Collapse.VERSION="3.3.7";Collapse.TRANSITION_DURATION=350;Collapse.DEFAULTS={toggle:true};Collapse.prototype.dimension=function(){var hasWidth=this.$element.hasClass("width");return hasWidth?"width":"height"};Collapse.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in"))return;var activesData;var actives=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(actives&&actives.length){activesData=actives.data("bs.collapse");if(activesData&&activesData.transitioning)return}var startEvent=$.Event("show.bs.collapse");this.$element.trigger(startEvent);if(startEvent.isDefaultPrevented())return;if(actives&&actives.length){Plugin.call(actives,"hide");activesData||actives.data("bs.collapse",null)}var dimension=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[dimension](0).attr("aria-expanded",true);this.$trigger.removeClass("collapsed").attr("aria-expanded",true);this.transitioning=1;var complete=function(){this.$element.removeClass("collapsing").addClass("collapse in")[dimension]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!$.support.transition)return complete.call(this);var scrollSize=$.camelCase(["scroll",dimension].join("-"));this.$element.one("bsTransitionEnd",$.proxy(complete,this)).emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])};Collapse.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in"))return;var startEvent=$.Event("hide.bs.collapse");this.$element.trigger(startEvent);if(startEvent.isDefaultPrevented())return;var dimension=this.dimension();this.$element[dimension](this.$element[dimension]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",false);this.$trigger.addClass("collapsed").attr("aria-expanded",false);this.transitioning=1;var complete=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!$.support.transition)return complete.call(this);this.$element[dimension](0).one("bsTransitionEnd",$.proxy(complete,this)).emulateTransitionEnd(Collapse.TRANSITION_DURATION)};Collapse.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};Collapse.prototype.getParent=function(){return $(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each($.proxy(function(i,element){var $element=$(element);this.addAriaAndCollapsedClass(getTargetFromTrigger($element),$element)},this)).end()};Collapse.prototype.addAriaAndCollapsedClass=function($element,$trigger){var isOpen=$element.hasClass("in");$element.attr("aria-expanded",isOpen);$trigger.toggleClass("collapsed",!isOpen).attr("aria-expanded",isOpen)};function getTargetFromTrigger($trigger){var href;var target=$trigger.attr("data-target")||(href=$trigger.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,"");return $(target)}function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.collapse");var options=$.extend({},Collapse.DEFAULTS,$this.data(),typeof option=="object"&&option);if(!data&&options.toggle&&/show|hide/.test(option))options.toggle=false;if(!data)$this.data("bs.collapse",data=new Collapse(this,options));if(typeof option=="string")data[option]()})}var old=$.fn.collapse;$.fn.collapse=Plugin;$.fn.collapse.Constructor=Collapse;$.fn.collapse.noConflict=function(){$.fn.collapse=old;return this};$(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var $this=$(this);if(!$this.attr("data-target"))e.preventDefault();var $target=getTargetFromTrigger($this);var data=$target.data("bs.collapse");var option=data?"toggle":$this.data();Plugin.call($target,option)})}(jQuery)},{}],7:[function(require,module,exports){+function($){"use strict";var backdrop=".dropdown-backdrop";var toggle='[data-toggle="dropdown"]';var Dropdown=function(element){$(element).on("click.bs.dropdown",this.toggle)};Dropdown.VERSION="3.3.7";function getParent($this){var selector=$this.attr("data-target");if(!selector){selector=$this.attr("href");selector=selector&&/#[A-Za-z]/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,"")}var $parent=selector&&$(selector);return $parent&&$parent.length?$parent:$this.parent()}function clearMenus(e){if(e&&e.which===3)return;$(backdrop).remove();$(toggle).each(function(){var $this=$(this);var $parent=getParent($this);var relatedTarget={relatedTarget:this};if(!$parent.hasClass("open"))return;if(e&&e.type=="click"&&/input|textarea/i.test(e.target.tagName)&&$.contains($parent[0],e.target))return;$parent.trigger(e=$.Event("hide.bs.dropdown",relatedTarget));if(e.isDefaultPrevented())return;$this.attr("aria-expanded","false");$parent.removeClass("open").trigger($.Event("hidden.bs.dropdown",relatedTarget))})}Dropdown.prototype.toggle=function(e){var $this=$(this);if($this.is(".disabled, :disabled"))return;var $parent=getParent($this);var isActive=$parent.hasClass("open");clearMenus();if(!isActive){if("ontouchstart"in document.documentElement&&!$parent.closest(".navbar-nav").length){$(document.createElement("div")).addClass("dropdown-backdrop").insertAfter($(this)).on("click",clearMenus)}var relatedTarget={relatedTarget:this};$parent.trigger(e=$.Event("show.bs.dropdown",relatedTarget));if(e.isDefaultPrevented())return;$this.trigger("focus").attr("aria-expanded","true");$parent.toggleClass("open").trigger($.Event("shown.bs.dropdown",relatedTarget))}return false};Dropdown.prototype.keydown=function(e){if(!/(38|40|27|32)/.test(e.which)||/input|textarea/i.test(e.target.tagName))return;var $this=$(this);e.preventDefault();e.stopPropagation();if($this.is(".disabled, :disabled"))return;var $parent=getParent($this);var isActive=$parent.hasClass("open");if(!isActive&&e.which!=27||isActive&&e.which==27){if(e.which==27)$parent.find(toggle).trigger("focus");return $this.trigger("click")}var desc=" li:not(.disabled):visible a";var $items=$parent.find(".dropdown-menu"+desc);if(!$items.length)return;var index=$items.index(e.target);if(e.which==38&&index>0)index--;if(e.which==40&&index<$items.length-1)index++;if(!~index)index=0;$items.eq(index).trigger("focus")};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.dropdown");if(!data)$this.data("bs.dropdown",data=new Dropdown(this));if(typeof option=="string")data[option].call($this)})}var old=$.fn.dropdown;$.fn.dropdown=Plugin;$.fn.dropdown.Constructor=Dropdown;$.fn.dropdown.noConflict=function(){$.fn.dropdown=old;return this};$(document).on("click.bs.dropdown.data-api",clearMenus).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",toggle,Dropdown.prototype.toggle).on("keydown.bs.dropdown.data-api",toggle,Dropdown.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",Dropdown.prototype.keydown)}(jQuery)},{}],8:[function(require,module,exports){+function($){"use strict";var Modal=function(element,options){this.options=options;this.$body=$(document.body);this.$element=$(element);this.$dialog=this.$element.find(".modal-dialog");this.$backdrop=null;this.isShown=null;this.originalBodyPad=null;this.scrollbarWidth=0;this.ignoreBackdropClick=false;if(this.options.remote){this.$element.find(".modal-content").load(this.options.remote,$.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))}};Modal.VERSION="3.3.7";Modal.TRANSITION_DURATION=300;Modal.BACKDROP_TRANSITION_DURATION=150;Modal.DEFAULTS={backdrop:true,keyboard:true,show:true};Modal.prototype.toggle=function(_relatedTarget){return this.isShown?this.hide():this.show(_relatedTarget)};Modal.prototype.show=function(_relatedTarget){var that=this;var e=$.Event("show.bs.modal",{relatedTarget:_relatedTarget});this.$element.trigger(e);if(this.isShown||e.isDefaultPrevented())return;this.isShown=true;this.checkScrollbar();this.setScrollbar();this.$body.addClass("modal-open");this.escape();this.resize();this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',$.proxy(this.hide,this));this.$dialog.on("mousedown.dismiss.bs.modal",function(){that.$element.one("mouseup.dismiss.bs.modal",function(e){if($(e.target).is(that.$element))that.ignoreBackdropClick=true})});this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass("fade");if(!that.$element.parent().length){that.$element.appendTo(that.$body)}that.$element.show().scrollTop(0);that.adjustDialog();if(transition){that.$element[0].offsetWidth}that.$element.addClass("in");that.enforceFocus();var e=$.Event("shown.bs.modal",{relatedTarget:_relatedTarget});transition?that.$dialog.one("bsTransitionEnd",function(){that.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(Modal.TRANSITION_DURATION):that.$element.trigger("focus").trigger(e)})};Modal.prototype.hide=function(e){if(e)e.preventDefault();e=$.Event("hide.bs.modal");this.$element.trigger(e);if(!this.isShown||e.isDefaultPrevented())return;this.isShown=false;this.escape();this.resize();$(document).off("focusin.bs.modal");this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal");this.$dialog.off("mousedown.dismiss.bs.modal");$.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",$.proxy(this.hideModal,this)).emulateTransitionEnd(Modal.TRANSITION_DURATION):this.hideModal()};Modal.prototype.enforceFocus=function(){$(document).off("focusin.bs.modal").on("focusin.bs.modal",$.proxy(function(e){if(document!==e.target&&this.$element[0]!==e.target&&!this.$element.has(e.target).length){this.$element.trigger("focus")}},this))};Modal.prototype.escape=function(){if(this.isShown&&this.options.keyboard){this.$element.on("keydown.dismiss.bs.modal",$.proxy(function(e){e.which==27&&this.hide()},this))}else if(!this.isShown){this.$element.off("keydown.dismiss.bs.modal")}};Modal.prototype.resize=function(){if(this.isShown){$(window).on("resize.bs.modal",$.proxy(this.handleUpdate,this))}else{$(window).off("resize.bs.modal")}};Modal.prototype.hideModal=function(){var that=this;this.$element.hide();this.backdrop(function(){that.$body.removeClass("modal-open");that.resetAdjustments();that.resetScrollbar();that.$element.trigger("hidden.bs.modal")})};Modal.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};Modal.prototype.backdrop=function(callback){var that=this;var animate=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate;this.$backdrop=$(document.createElement("div")).addClass("modal-backdrop "+animate).appendTo(this.$body);this.$element.on("click.dismiss.bs.modal",$.proxy(function(e){if(this.ignoreBackdropClick){this.ignoreBackdropClick=false;return}if(e.target!==e.currentTarget)return;this.options.backdrop=="static"?this.$element[0].focus():this.hide()},this));if(doAnimate)this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");if(!callback)return;doAnimate?this.$backdrop.one("bsTransitionEnd",callback).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callback()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var callbackRemove=function(){that.removeBackdrop();callback&&callback()};$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",callbackRemove).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callbackRemove()}else if(callback){callback()}};Modal.prototype.handleUpdate=function(){this.adjustDialog()};Modal.prototype.adjustDialog=function(){var modalIsOverflowing=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&modalIsOverflowing?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!modalIsOverflowing?this.scrollbarWidth:""})};Modal.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};Modal.prototype.checkScrollbar=function(){var fullWindowWidth=window.innerWidth;if(!fullWindowWidth){var documentElementRect=document.documentElement.getBoundingClientRect();fullWindowWidth=documentElementRect.right-Math.abs(documentElementRect.left)}this.bodyIsOverflowing=document.body.clientWidth<fullWindowWidth;this.scrollbarWidth=this.measureScrollbar()};Modal.prototype.setScrollbar=function(){var bodyPad=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";if(this.bodyIsOverflowing)this.$body.css("padding-right",bodyPad+this.scrollbarWidth)};Modal.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};Modal.prototype.measureScrollbar=function(){var scrollDiv=document.createElement("div");scrollDiv.className="modal-scrollbar-measure";this.$body.append(scrollDiv);var scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;this.$body[0].removeChild(scrollDiv);return scrollbarWidth};function Plugin(option,_relatedTarget){return this.each(function(){var $this=$(this);var data=$this.data("bs.modal");var options=$.extend({},Modal.DEFAULTS,$this.data(),typeof option=="object"&&option);if(!data)$this.data("bs.modal",data=new Modal(this,options));if(typeof option=="string")data[option](_relatedTarget);else if(options.show)data.show(_relatedTarget)})}var old=$.fn.modal;$.fn.modal=Plugin;$.fn.modal.Constructor=Modal;$.fn.modal.noConflict=function(){$.fn.modal=old;return this};$(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var $this=$(this);var href=$this.attr("href");var $target=$($this.attr("data-target")||href&&href.replace(/.*(?=#[^\s]+$)/,""));var option=$target.data("bs.modal")?"toggle":$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data());if($this.is("a"))e.preventDefault();$target.one("show.bs.modal",function(showEvent){if(showEvent.isDefaultPrevented())return;$target.one("hidden.bs.modal",function(){$this.is(":visible")&&$this.trigger("focus")})});Plugin.call($target,option,this)})}(jQuery)},{}],9:[function(require,module,exports){+function($){"use strict";var Popover=function(element,options){this.init("popover",element,options)};if(!$.fn.tooltip)throw new Error("Popover requires tooltip.js");Popover.VERSION="3.3.7";Popover.DEFAULTS=$.extend({},$.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});Popover.prototype=$.extend({},$.fn.tooltip.Constructor.prototype);Popover.prototype.constructor=Popover;Popover.prototype.getDefaults=function(){return Popover.DEFAULTS};Popover.prototype.setContent=function(){var $tip=this.tip();var title=this.getTitle();var content=this.getContent();$tip.find(".popover-title")[this.options.html?"html":"text"](title);$tip.find(".popover-content").children().detach().end()[this.options.html?typeof content=="string"?"html":"append":"text"](content);$tip.removeClass("fade top bottom left right in");if(!$tip.find(".popover-title").html())$tip.find(".popover-title").hide()};Popover.prototype.hasContent=function(){return this.getTitle()||this.getContent()};Popover.prototype.getContent=function(){var $e=this.$element;var o=this.options;return $e.attr("data-content")||(typeof o.content=="function"?o.content.call($e[0]):o.content)};Popover.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.popover");var options=typeof option=="object"&&option;if(!data&&/destroy|hide/.test(option))return;if(!data)$this.data("bs.popover",data=new Popover(this,options));if(typeof option=="string")data[option]()})}var old=$.fn.popover;$.fn.popover=Plugin;$.fn.popover.Constructor=Popover;$.fn.popover.noConflict=function(){$.fn.popover=old;return this}}(jQuery)},{}],10:[function(require,module,exports){+function($){"use strict";function ScrollSpy(element,options){this.$body=$(document.body);this.$scrollElement=$(element).is(document.body)?$(window):$(element);this.options=$.extend({},ScrollSpy.DEFAULTS,options);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",$.proxy(this.process,this));this.refresh();this.process()}ScrollSpy.VERSION="3.3.7";ScrollSpy.DEFAULTS={offset:10};ScrollSpy.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};ScrollSpy.prototype.refresh=function(){var that=this;var offsetMethod="offset";var offsetBase=0;this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();if(!$.isWindow(this.$scrollElement[0])){offsetMethod="position";offsetBase=this.$scrollElement.scrollTop()}this.$body.find(this.selector).map(function(){var $el=$(this);var href=$el.data("target")||$el.attr("href");var $href=/^#./.test(href)&&$(href);return $href&&$href.length&&$href.is(":visible")&&[[$href[offsetMethod]().top+offsetBase,href]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){that.offsets.push(this[0]);that.targets.push(this[1])})};ScrollSpy.prototype.process=function(){var scrollTop=this.$scrollElement.scrollTop()+this.options.offset;var scrollHeight=this.getScrollHeight();var maxScroll=this.options.offset+scrollHeight-this.$scrollElement.height();var offsets=this.offsets;var targets=this.targets;var activeTarget=this.activeTarget;var i;if(this.scrollHeight!=scrollHeight){this.refresh()}if(scrollTop>=maxScroll){return activeTarget!=(i=targets[targets.length-1])&&this.activate(i)}if(activeTarget&&scrollTop<offsets[0]){this.activeTarget=null;return this.clear()}for(i=offsets.length;i--;){activeTarget!=targets[i]&&scrollTop>=offsets[i]&&(offsets[i+1]===undefined||scrollTop<offsets[i+1])&&this.activate(targets[i])}};ScrollSpy.prototype.activate=function(target){this.activeTarget=target;this.clear();var selector=this.selector+'[data-target="'+target+'"],'+this.selector+'[href="'+target+'"]'
;var active=$(selector).parents("li").addClass("active");if(active.parent(".dropdown-menu").length){active=active.closest("li.dropdown").addClass("active")}active.trigger("activate.bs.scrollspy")};ScrollSpy.prototype.clear=function(){$(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.scrollspy");var options=typeof option=="object"&&option;if(!data)$this.data("bs.scrollspy",data=new ScrollSpy(this,options));if(typeof option=="string")data[option]()})}var old=$.fn.scrollspy;$.fn.scrollspy=Plugin;$.fn.scrollspy.Constructor=ScrollSpy;$.fn.scrollspy.noConflict=function(){$.fn.scrollspy=old;return this};$(window).on("load.bs.scrollspy.data-api",function(){$('[data-spy="scroll"]').each(function(){var $spy=$(this);Plugin.call($spy,$spy.data())})})}(jQuery)},{}],11:[function(require,module,exports){+function($){"use strict";var Tab=function(element){this.element=$(element)};Tab.VERSION="3.3.7";Tab.TRANSITION_DURATION=150;Tab.prototype.show=function(){var $this=this.element;var $ul=$this.closest("ul:not(.dropdown-menu)");var selector=$this.data("target");if(!selector){selector=$this.attr("href");selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")}if($this.parent("li").hasClass("active"))return;var $previous=$ul.find(".active:last a");var hideEvent=$.Event("hide.bs.tab",{relatedTarget:$this[0]});var showEvent=$.Event("show.bs.tab",{relatedTarget:$previous[0]});$previous.trigger(hideEvent);$this.trigger(showEvent);if(showEvent.isDefaultPrevented()||hideEvent.isDefaultPrevented())return;var $target=$(selector);this.activate($this.closest("li"),$ul);this.activate($target,$target.parent(),function(){$previous.trigger({type:"hidden.bs.tab",relatedTarget:$this[0]});$this.trigger({type:"shown.bs.tab",relatedTarget:$previous[0]})})};Tab.prototype.activate=function(element,container,callback){var $active=container.find("> .active");var transition=callback&&$.support.transition&&($active.length&&$active.hasClass("fade")||!!container.find("> .fade").length);function next(){$active.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",false);element.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",true);if(transition){element[0].offsetWidth;element.addClass("in")}else{element.removeClass("fade")}if(element.parent(".dropdown-menu").length){element.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",true)}callback&&callback()}$active.length&&transition?$active.one("bsTransitionEnd",next).emulateTransitionEnd(Tab.TRANSITION_DURATION):next();$active.removeClass("in")};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.tab");if(!data)$this.data("bs.tab",data=new Tab(this));if(typeof option=="string")data[option]()})}var old=$.fn.tab;$.fn.tab=Plugin;$.fn.tab.Constructor=Tab;$.fn.tab.noConflict=function(){$.fn.tab=old;return this};var clickHandler=function(e){e.preventDefault();Plugin.call($(this),"show")};$(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',clickHandler).on("click.bs.tab.data-api",'[data-toggle="pill"]',clickHandler)}(jQuery)},{}],12:[function(require,module,exports){+function($){"use strict";var Tooltip=function(element,options){this.type=null;this.options=null;this.enabled=null;this.timeout=null;this.hoverState=null;this.$element=null;this.inState=null;this.init("tooltip",element,options)};Tooltip.VERSION="3.3.7";Tooltip.TRANSITION_DURATION=150;Tooltip.DEFAULTS={animation:true,placement:"top",selector:false,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false,viewport:{selector:"body",padding:0}};Tooltip.prototype.init=function(type,element,options){this.enabled=true;this.type=type;this.$element=$(element);this.options=this.getOptions(options);this.$viewport=this.options.viewport&&$($.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport);this.inState={click:false,hover:false,focus:false};if(this.$element[0]instanceof document.constructor&&!this.options.selector){throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!")}var triggers=this.options.trigger.split(" ");for(var i=triggers.length;i--;){var trigger=triggers[i];if(trigger=="click"){this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this))}else if(trigger!="manual"){var eventIn=trigger=="hover"?"mouseenter":"focusin";var eventOut=trigger=="hover"?"mouseleave":"focusout";this.$element.on(eventIn+"."+this.type,this.options.selector,$.proxy(this.enter,this));this.$element.on(eventOut+"."+this.type,this.options.selector,$.proxy(this.leave,this))}}this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};Tooltip.prototype.getDefaults=function(){return Tooltip.DEFAULTS};Tooltip.prototype.getOptions=function(options){options=$.extend({},this.getDefaults(),this.$element.data(),options);if(options.delay&&typeof options.delay=="number"){options.delay={show:options.delay,hide:options.delay}}return options};Tooltip.prototype.getDelegateOptions=function(){var options={};var defaults=this.getDefaults();this._options&&$.each(this._options,function(key,value){if(defaults[key]!=value)options[key]=value});return options};Tooltip.prototype.enter=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data("bs."+this.type);if(!self){self=new this.constructor(obj.currentTarget,this.getDelegateOptions());$(obj.currentTarget).data("bs."+this.type,self)}if(obj instanceof $.Event){self.inState[obj.type=="focusin"?"focus":"hover"]=true}if(self.tip().hasClass("in")||self.hoverState=="in"){self.hoverState="in";return}clearTimeout(self.timeout);self.hoverState="in";if(!self.options.delay||!self.options.delay.show)return self.show();self.timeout=setTimeout(function(){if(self.hoverState=="in")self.show()},self.options.delay.show)};Tooltip.prototype.isInStateTrue=function(){for(var key in this.inState){if(this.inState[key])return true}return false};Tooltip.prototype.leave=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data("bs."+this.type);if(!self){self=new this.constructor(obj.currentTarget,this.getDelegateOptions());$(obj.currentTarget).data("bs."+this.type,self)}if(obj instanceof $.Event){self.inState[obj.type=="focusout"?"focus":"hover"]=false}if(self.isInStateTrue())return;clearTimeout(self.timeout);self.hoverState="out";if(!self.options.delay||!self.options.delay.hide)return self.hide();self.timeout=setTimeout(function(){if(self.hoverState=="out")self.hide()},self.options.delay.hide)};Tooltip.prototype.show=function(){var e=$.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var inDom=$.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!inDom)return;var that=this;var $tip=this.tip();var tipId=this.getUID(this.type);this.setContent();$tip.attr("id",tipId);this.$element.attr("aria-describedby",tipId);if(this.options.animation)$tip.addClass("fade");var placement=typeof this.options.placement=="function"?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement;var autoToken=/\s?auto?\s?/i;var autoPlace=autoToken.test(placement);if(autoPlace)placement=placement.replace(autoToken,"")||"top";$tip.detach().css({top:0,left:0,display:"block"}).addClass(placement).data("bs."+this.type,this);this.options.container?$tip.appendTo(this.options.container):$tip.insertAfter(this.$element);this.$element.trigger("inserted.bs."+this.type);var pos=this.getPosition();var actualWidth=$tip[0].offsetWidth;var actualHeight=$tip[0].offsetHeight;if(autoPlace){var orgPlacement=placement;var viewportDim=this.getPosition(this.$viewport);placement=placement=="bottom"&&pos.bottom+actualHeight>viewportDim.bottom?"top":placement=="top"&&pos.top-actualHeight<viewportDim.top?"bottom":placement=="right"&&pos.right+actualWidth>viewportDim.width?"left":placement=="left"&&pos.left-actualWidth<viewportDim.left?"right":placement;$tip.removeClass(orgPlacement).addClass(placement)}var calculatedOffset=this.getCalculatedOffset(placement,pos,actualWidth,actualHeight);this.applyPlacement(calculatedOffset,placement);var complete=function(){var prevHoverState=that.hoverState;that.$element.trigger("shown.bs."+that.type);that.hoverState=null;if(prevHoverState=="out")that.leave(that)};$.support.transition&&this.$tip.hasClass("fade")?$tip.one("bsTransitionEnd",complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION):complete()}};Tooltip.prototype.applyPlacement=function(offset,placement){var $tip=this.tip();var width=$tip[0].offsetWidth;var height=$tip[0].offsetHeight;var marginTop=parseInt($tip.css("margin-top"),10);var marginLeft=parseInt($tip.css("margin-left"),10);if(isNaN(marginTop))marginTop=0;if(isNaN(marginLeft))marginLeft=0;offset.top+=marginTop;offset.left+=marginLeft;$.offset.setOffset($tip[0],$.extend({using:function(props){$tip.css({top:Math.round(props.top),left:Math.round(props.left)})}},offset),0);$tip.addClass("in");var actualWidth=$tip[0].offsetWidth;var actualHeight=$tip[0].offsetHeight;if(placement=="top"&&actualHeight!=height){offset.top=offset.top+height-actualHeight}var delta=this.getViewportAdjustedDelta(placement,offset,actualWidth,actualHeight);if(delta.left)offset.left+=delta.left;else offset.top+=delta.top;var isVertical=/top|bottom/.test(placement);var arrowDelta=isVertical?delta.left*2-width+actualWidth:delta.top*2-height+actualHeight;var arrowOffsetPosition=isVertical?"offsetWidth":"offsetHeight";$tip.offset(offset);this.replaceArrow(arrowDelta,$tip[0][arrowOffsetPosition],isVertical)};Tooltip.prototype.replaceArrow=function(delta,dimension,isVertical){this.arrow().css(isVertical?"left":"top",50*(1-delta/dimension)+"%").css(isVertical?"top":"left","")};Tooltip.prototype.setContent=function(){var $tip=this.tip();var title=this.getTitle();$tip.find(".tooltip-inner")[this.options.html?"html":"text"](title);$tip.removeClass("fade in top bottom left right")};Tooltip.prototype.hide=function(callback){var that=this;var $tip=$(this.$tip);var e=$.Event("hide.bs."+this.type);function complete(){if(that.hoverState!="in")$tip.detach();if(that.$element){that.$element.removeAttr("aria-describedby").trigger("hidden.bs."+that.type)}callback&&callback()}this.$element.trigger(e);if(e.isDefaultPrevented())return;$tip.removeClass("in");$.support.transition&&$tip.hasClass("fade")?$tip.one("bsTransitionEnd",complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION):complete();this.hoverState=null;return this};Tooltip.prototype.fixTitle=function(){var $e=this.$element;if($e.attr("title")||typeof $e.attr("data-original-title")!="string"){$e.attr("data-original-title",$e.attr("title")||"").attr("title","")}};Tooltip.prototype.hasContent=function(){return this.getTitle()};Tooltip.prototype.getPosition=function($element){$element=$element||this.$element;var el=$element[0];var isBody=el.tagName=="BODY";var elRect=el.getBoundingClientRect();if(elRect.width==null){elRect=$.extend({},elRect,{width:elRect.right-elRect.left,height:elRect.bottom-elRect.top})}var isSvg=window.SVGElement&&el instanceof window.SVGElement;var elOffset=isBody?{top:0,left:0}:isSvg?null:$element.offset();var scroll={scroll:isBody?document.documentElement.scrollTop||document.body.scrollTop:$element.scrollTop()};var outerDims=isBody?{width:$(window).width(),height:$(window).height()}:null;return $.extend({},elRect,scroll,outerDims,elOffset)};Tooltip.prototype.getCalculatedOffset=function(placement,pos,actualWidth,actualHeight){return placement=="bottom"?{top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}:placement=="top"?{top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}:placement=="left"?{top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}:{top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}};Tooltip.prototype.getViewportAdjustedDelta=function(placement,pos,actualWidth,actualHeight){var delta={top:0,left:0};if(!this.$viewport)return delta;var viewportPadding=this.options.viewport&&this.options.viewport.padding||0;var viewportDimensions=this.getPosition(this.$viewport);if(/right|left/.test(placement)){var topEdgeOffset=pos.top-viewportPadding-viewportDimensions.scroll;var bottomEdgeOffset=pos.top+viewportPadding-viewportDimensions.scroll+actualHeight;if(topEdgeOffset<viewportDimensions.top){delta.top=viewportDimensions.top-topEdgeOffset}else if(bottomEdgeOffset>viewportDimensions.top+viewportDimensions.height){delta.top=viewportDimensions.top+viewportDimensions.height-bottomEdgeOffset}}else{var leftEdgeOffset=pos.left-viewportPadding;var rightEdgeOffset=pos.left+viewportPadding+actualWidth;if(leftEdgeOffset<viewportDimensions.left){delta.left=viewportDimensions.left-leftEdgeOffset}else if(rightEdgeOffset>viewportDimensions.right){delta.left=viewportDimensions.left+viewportDimensions.width-rightEdgeOffset}}return delta};Tooltip.prototype.getTitle=function(){var title;var $e=this.$element;var o=this.options;title=$e.attr("data-original-title")||(typeof o.title=="function"?o.title.call($e[0]):o.title);return title};Tooltip.prototype.getUID=function(prefix){do{prefix+=~~(Math.random()*1e6)}while(document.getElementById(prefix));return prefix};Tooltip.prototype.tip=function(){if(!this.$tip){this.$tip=$(this.options.template);if(this.$tip.length!=1){throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!")}}return this.$tip};Tooltip.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};Tooltip.prototype.enable=function(){this.enabled=true};Tooltip.prototype.disable=function(){this.enabled=false};Tooltip.prototype.toggleEnabled=function(){this.enabled=!this.enabled};Tooltip.prototype.toggle=function(e){var self=this;if(e){self=$(e.currentTarget).data("bs."+this.type);if(!self){self=new this.constructor(e.currentTarget,this.getDelegateOptions());$(e.currentTarget).data("bs."+this.type,self)}}if(e){self.inState.click=!self.inState.click;if(self.isInStateTrue())self.enter(self);else self.leave(self)}else{self.tip().hasClass("in")?self.leave(self):self.enter(self)}};Tooltip.prototype.destroy=function(){var that=this;clearTimeout(this.timeout);this.hide(function(){that.$element.off("."+that.type).removeData("bs."+that.type);if(that.$tip){that.$tip.detach()}that.$tip=null;that.$arrow=null;that.$viewport=null;that.$element=null})};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.tooltip");var options=typeof option=="object"&&option;if(!data&&/destroy|hide/.test(option))return;if(!data)$this.data("bs.tooltip",data=new Tooltip(this,options));if(typeof option=="string")data[option]()})}var old=$.fn.tooltip;$.fn.tooltip=Plugin;$.fn.tooltip.Constructor=Tooltip;$.fn.tooltip.noConflict=function(){$.fn.tooltip=old;return this}}(jQuery)},{}],13:[function(require,module,exports){+function($){"use strict";function transitionEnd(){var el=document.createElement("bootstrap");var transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var name in transEndEventNames){if(el.style[name]!==undefined){return{end:transEndEventNames[name]}}}return false}$.fn.emulateTransitionEnd=function(duration){var called=false;var $el=this;$(this).one("bsTransitionEnd",function(){called=true});var callback=function(){if(!called)$($el).trigger($.support.transition.end)};setTimeout(callback,duration);return this};$(function(){$.support.transition=transitionEnd();if(!$.support.transition)return;$.event.special.bsTransitionEnd={bindType:$.support.transition.end,delegateType:$.support.transition.end,handle:function(e){if($(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}})}(jQuery)},{}],14:[function(require,module,exports){(function(root,factory){if(typeof define==="function"&&define.amd){define([],function(){return root["Chartist"]=factory()})}else if(typeof exports==="object"){module.exports=factory()}else{root["Chartist"]=factory()}})(this,function(){var Chartist={version:"0.9.8"};(function(window,document,Chartist){"use strict";Chartist.namespaces={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"};Chartist.noop=function(n){return n};Chartist.alphaNumerate=function(n){return String.fromCharCode(97+n%26)};Chartist.extend=function(target){target=target||{};var sources=Array.prototype.slice.call(arguments,1);sources.forEach(function(source){for(var prop in source){if(typeof source[prop]==="object"&&source[prop]!==null&&!(source[prop]instanceof Array)){target[prop]=Chartist.extend({},target[prop],source[prop])}else{target[prop]=source[prop]}}});return target};Chartist.replaceAll=function(str,subStr,newSubStr){return str.replace(new RegExp(subStr,"g"),newSubStr)};Chartist.ensureUnit=function(value,unit){if(typeof value==="number"){value=value+unit}return value};Chartist.quantity=function(input){if(typeof input==="string"){var match=/^(\d+)\s*(.*)$/g.exec(input);return{value:+match[1],unit:match[2]||undefined}}return{value:input}};Chartist.querySelector=function(query){return query instanceof Node?query:document.querySelector(query)};Chartist.times=function(length){return Array.apply(null,new Array(length))};Chartist.sum=function(previous,current){return previous+(current?current:0)};Chartist.mapMultiply=function(factor){return function(num){return num*factor}};Chartist.mapAdd=function(addend){return function(num){return num+addend}};Chartist.serialMap=function(arr,cb){var result=[],length=Math.max.apply(null,arr.map(function(e){return e.length}));Chartist.times(length).forEach(function(e,index){var args=arr.map(function(e){return e[index]});result[index]=cb.apply(null,args)});return result};Chartist.roundWithPrecision=function(value,digits){var precision=Math.pow(10,digits||Chartist.precision);return Math.round(value*precision)/precision};Chartist.precision=8;Chartist.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};Chartist.serialize=function(data){if(data===null||data===undefined){return data}else if(typeof data==="number"){data=""+data}else if(typeof data==="object"){data=JSON.stringify({data:data})}return Object.keys(Chartist.escapingMap).reduce(function(result,key){return Chartist.replaceAll(result,key,Chartist.escapingMap[key])},data)};Chartist.deserialize=function(data){if(typeof data!=="string"){return data}data=Object.keys(Chartist.escapingMap).reduce(function(result,key){return Chartist.replaceAll(result,Chartist.escapingMap[key],key)},data);try{data=JSON.parse(data);data=data.data!==undefined?data.data:data}catch(e){}return data};Chartist.createSvg=function(container,width,height,className){var svg;width=width||"100%";height=height||"100%";Array.prototype.slice.call(container.querySelectorAll("svg")).filter(function filterChartistSvgObjects(svg){return svg.getAttributeNS(Chartist.namespaces.xmlns,"ct")}).forEach(function removePreviousElement(svg){container.removeChild(svg)});svg=new Chartist.Svg("svg").attr({width:width,height:height}).addClass(className).attr({style:"width: "+width+"; height: "+height+";"});container.appendChild(svg._node);return svg};Chartist.normalizeData=function(data){data=data||{series:[],labels:[]};data.series=data.series||[];data.labels=data.labels||[];if(data.series.length>0&&data.labels.length===0){var normalized=Chartist.getDataArray(data),labelCount;if(normalized.every(function(value){return value instanceof Array})){labelCount=Math.max.apply(null,normalized.map(function(series){return series.length}))}else{labelCount=normalized.length}data.labels=Chartist.times(labelCount).map(function(){return""})}return data};Chartist.reverseData=function(data){data.labels.reverse();data.series.reverse();for(var i=0;i<data.series.length;i++){if(typeof data.series[i]==="object"&&data.series[i].data!==undefined){data.series[i].data.reverse()}else if(data.series[i]instanceof Array){data.series[i].reverse()}}};Chartist.getDataArray=function(data,reverse,multi){if(reverse&&!data.reversed||!reverse&&data.reversed){Chartist.reverseData(data);data.reversed=!data.reversed}function recursiveConvert(value){if(Chartist.isFalseyButZero(value)){return undefined}else if((value.data||value)instanceof Array){return(value.data||value).map(recursiveConvert)}else if(value.hasOwnProperty("value")){return recursiveConvert(value.value)}else{if(multi){var multiValue={};if(typeof multi==="string"){multiValue[multi]=Chartist.getNumberOrUndefined(value)}else{multiValue.y=Chartist.getNumberOrUndefined(value)}multiValue.x=value.hasOwnProperty("x")?Chartist.getNumberOrUndefined(value.x):multiValue.x;multiValue.y=value.hasOwnProperty("y")?Chartist.getNumberOrUndefined(value.y):multiValue.y;return multiValue}else{return Chartist.getNumberOrUndefined(value)}}}return data.series.map(recursiveConvert)};Chartist.normalizePadding=function(padding,fallback){fallback=fallback||0;return typeof padding==="number"?{top:padding,right:padding,bottom:padding,left:padding}:{top:typeof padding.top==="number"?padding.top:fallback,right:typeof padding.right==="number"?padding.right:fallback,bottom:typeof padding.bottom==="number"?padding.bottom:fallback,left:typeof padding.left==="number"?padding.left:fallback}};Chartist.getMetaData=function(series,index){var value=series.data?series.data[index]:series[index];return value?Chartist.serialize(value.meta):undefined};Chartist.orderOfMagnitude=function(value){return Math.floor(Math.log(Math.abs(value))/Math.LN10)};Chartist.projectLength=function(axisLength,length,bounds){return length/bounds.range*axisLength};Chartist.getAvailableHeight=function(svg,options){return Math.max((Chartist.quantity(options.height).value||svg.height())-(options.chartPadding.top+options.chartPadding.bottom)-options.axisX.offset,0)};Chartist.getHighLow=function(data,options,dimension){options=Chartist.extend({},options,dimension?options["axis"+dimension.toUpperCase()]:{});var highLow={high:options.high===undefined?-Number.MAX_VALUE:+options.high,low:options.low===undefined?Number.MAX_VALUE:+options.low};var findHigh=options.high===undefined;var findLow=options.low===undefined;function recursiveHighLow(data){if(data===undefined){return undefined}else if(data instanceof Array){for(var i=0;i<data.length;i++){recursiveHighLow(data[i])}}else{var value=dimension?+data[dimension]:+data;if(findHigh&&value>highLow.high){highLow.high=value}if(findLow&&value<highLow.low){highLow.low=value}}}if(findHigh||findLow){recursiveHighLow(data)}if(options.referenceValue||options.referenceValue===0){highLow.high=Math.max(options.referenceValue,highLow.high);highLow.low=Math.min(options.referenceValue,highLow.low)}if(highLow.high<=highLow.low){if(highLow.low===0){highLow.high=1}else if(highLow.low<0){highLow.high=0}else if(highLow.high>0){highLow.low=0}else{highLow.high=1;highLow.low=0}}return highLow};Chartist.isNum=function(value){return!isNaN(value)&&isFinite(value)};Chartist.isFalseyButZero=function(value){return!value&&value!==0};Chartist.getNumberOrUndefined=function(value){return isNaN(+value)?undefined:+value};Chartist.getMultiValue=function(value,dimension){if(Chartist.isNum(value)){return+value}else if(value){return value[dimension||"y"]||0}else{return 0}};Chartist.rho=function(num){if(num===1){return num}function gcd(p,q){if(p%q===0){return q}else{return gcd(q,p%q)}}function f(x){return x*x+1}var x1=2,x2=2,divisor;if(num%2===0){return 2}do{x1=f(x1)%num;x2=f(f(x2))%num;divisor=gcd(Math.abs(x1-x2),num)}while(divisor===1);return divisor};Chartist.getBounds=function(axisLength,highLow,scaleMinSpace,onlyInteger){var i,optimizationCounter=0,newMin,newMax,bounds={high:highLow.high,low:highLow.low};bounds.valueRange=bounds.high-bounds.low;bounds.oom=Chartist.orderOfMagnitude(bounds.valueRange);bounds.step=Math.pow(10,bounds.oom);bounds.min=Math.floor(bounds.low/bounds.step)*bounds.step;bounds.max=Math.ceil(bounds.high/bounds.step)*bounds.step;bounds.range=bounds.max-bounds.min;bounds.numberOfSteps=Math.round(bounds.range/bounds.step);var length=Chartist.projectLength(axisLength,bounds.step,bounds);var scaleUp=length<scaleMinSpace;var smallestFactor=onlyInteger?Chartist.rho(bounds.range):0;if(onlyInteger&&Chartist.projectLength(axisLength,1,bounds)>=scaleMinSpace){bounds.step=1}else if(onlyInteger&&smallestFactor<bounds.step&&Chartist.projectLength(axisLength,smallestFactor,bounds)>=scaleMinSpace){bounds.step=smallestFactor}else{while(true){if(scaleUp&&Chartist.projectLength(axisLength,bounds.step,bounds)<=scaleMinSpace){bounds.step*=2}else if(!scaleUp&&Chartist.projectLength(axisLength,bounds.step/2,bounds)>=scaleMinSpace){bounds.step/=2;if(onlyInteger&&bounds.step%1!==0){bounds.step*=2;break}}else{break}if(optimizationCounter++>1e3){throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}}}var EPSILON=2.221e-16;bounds.step=Math.max(bounds.step,EPSILON);newMin=bounds.min;newMax=bounds.max;while(newMin+bounds.step<=bounds.low){newMin+=bounds.step}while(newMax-bounds.step>=bounds.high){newMax-=bounds.step}bounds.min=newMin;bounds.max=newMax;bounds.range=bounds.max-bounds.min;var values=[];for(i=bounds.min;i<=bounds.max;i+=bounds.step){var value=Chartist.roundWithPrecision(i);if(value!==values[values.length-1]){values.push(i)}}bounds.values=values;return bounds};Chartist.polarToCartesian=function(centerX,centerY,radius,angleInDegrees){var angleInRadians=(angleInDegrees-90)*Math.PI/180;return{x:centerX+radius*Math.cos(angleInRadians),y:centerY+radius*Math.sin(angleInRadians)}};Chartist.createChartRect=function(svg,options,fallbackPadding){var hasAxis=!!(options.axisX||options.axisY);var yAxisOffset=hasAxis?options.axisY.offset:0;var xAxisOffset=hasAxis?options.axisX.offset:0;var width=svg.width()||Chartist.quantity(options.width).value||0;var height=svg.height()||Chartist.quantity(options.height).value||0;var normalizedPadding=Chartist.normalizePadding(options.chartPadding,fallbackPadding);width=Math.max(width,yAxisOffset+normalizedPadding.left+normalizedPadding.right);height=Math.max(height,xAxisOffset+normalizedPadding.top+normalizedPadding.bottom);var chartRect={padding:normalizedPadding,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};if(hasAxis){if(options.axisX.position==="start"){chartRect.y2=normalizedPadding.top+xAxisOffset;chartRect.y1=Math.max(height-normalizedPadding.bottom,chartRect.y2+1)}else{chartRect.y2=normalizedPadding.top;chartRect.y1=Math.max(height-normalizedPadding.bottom-xAxisOffset,chartRect.y2+1)}if(options.axisY.position==="start"){chartRect.x1=normalizedPadding.left+yAxisOffset;chartRect.x2=Math.max(width-normalizedPadding.right,chartRect.x1+1)}else{chartRect.x1=normalizedPadding.left;chartRect.x2=Math.max(width-normalizedPadding.right-yAxisOffset,chartRect.x1+1)}}else{chartRect.x1=normalizedPadding.left;chartRect.x2=Math.max(width-normalizedPadding.right,chartRect.x1+1);chartRect.y2=normalizedPadding.top;chartRect.y1=Math.max(height-normalizedPadding.bottom,chartRect.y2+1)}return chartRect};Chartist.createGrid=function(position,index,axis,offset,length,group,classes,eventEmitter){var positionalData={};positionalData[axis.units.pos+"1"]=position;positionalData[axis.units.pos+"2"]=position;positionalData[axis.counterUnits.pos+"1"]=offset;positionalData[axis.counterUnits.pos+"2"]=offset+length;var gridElement=group.elem("line",positionalData,classes.join(" "));eventEmitter.emit("draw",Chartist.extend({type:"grid",axis:axis,index:index,group:group,element:gridElement},positionalData))};Chartist.createLabel=function(position,length,index,labels,axis,axisOffset,labelOffset,group,classes,useForeignObject,eventEmitter){var labelElement;var positionalData={};positionalData[axis.units.pos]=position+labelOffset[axis.units.pos];positionalData[axis.counterUnits.pos]=labelOffset[axis.counterUnits.pos];positionalData[axis.units.len]=length;positionalData[axis.counterUnits.len]=Math.max(0,axisOffset-10);if(useForeignObject){var content='<span class="'+classes.join(" ")+'" style="'+axis.units.len+": "+Math.round(positionalData[axis.units.len])+"px; "+axis.counterUnits.len+": "+Math.round(positionalData[axis.counterUnits.len])+'px">'+labels[index]+"</span>";labelElement=group.foreignObject(content,Chartist.extend({style:"overflow: visible;"},positionalData))}else{labelElement=group.elem("text",positionalData,classes.join(" ")).text(labels[index])}eventEmitter.emit("draw",Chartist.extend({type:"label",axis:axis,index:index,group:group,element:labelElement,text:labels[index]},positionalData))};Chartist.getSeriesOption=function(series,options,key){if(series.name&&options.series&&options.series[series.name]){var seriesOptions=options.series[series.name];return seriesOptions.hasOwnProperty(key)?seriesOptions[key]:options[key]}else{return options[key]}};Chartist.optionsProvider=function(options,responsiveOptions,eventEmitter){var baseOptions=Chartist.extend({},options),currentOptions,mediaQueryListeners=[],i;function updateCurrentOptions(mediaEvent){var previousOptions=currentOptions;currentOptions=Chartist.extend({},baseOptions);if(responsiveOptions){for(i=0;i<responsiveOptions.length;i++){var mql=window.matchMedia(responsiveOptions[i][0]);if(mql.matches){currentOptions=Chartist.extend(currentOptions,responsiveOptions[i][1])}}}if(eventEmitter&&mediaEvent){eventEmitter.emit("optionsChanged",{previousOptions:previousOptions,currentOptions:currentOptions})}}function removeMediaQueryListeners(){mediaQueryListeners.forEach(function(mql){mql.removeListener(updateCurrentOptions)})}if(!window.matchMedia){throw"window.matchMedia not found! Make sure you're using a polyfill."}else if(responsiveOptions){for(i=0;i<responsiveOptions.length;i++){var mql=window.matchMedia(responsiveOptions[i][0]);mql.addListener(updateCurrentOptions);mediaQueryListeners.push(mql)}}updateCurrentOptions();return{removeMediaQueryListeners:removeMediaQueryListeners,getCurrentOptions:function getCurrentOptions(){return Chartist.extend({},currentOptions)}}};Chartist.splitIntoSegments=function(pathCoordinates,valueData,options){var defaultOptions={increasingX:false,fillHoles:false};options=Chartist.extend({},defaultOptions,options);var segments=[];var hole=true;for(var i=0;i<pathCoordinates.length;i+=2){if(valueData[i/2].value===undefined){if(!options.fillHoles){hole=true}}else{if(options.increasingX&&i>=2&&pathCoordinates[i]<=pathCoordinates[i-2]){hole=true}if(hole){segments.push({pathCoordinates:[],valueData:[]});hole=false}segments[segments.length-1].pathCoordinates.push(pathCoordinates[i],pathCoordinates[i+1]);segments[segments.length-1].valueData.push(valueData[i/2])}}return segments}})(window,document,Chartist);(function(window,document,Chartist){"use strict";Chartist.Interpolation={};Chartist.Interpolation.none=function(options){var defaultOptions={fillHoles:false};options=Chartist.extend({},defaultOptions,options);return function none(pathCoordinates,valueData){var path=new Chartist.Svg.Path;var hole=true;for(var i=0;i<pathCoordinates.length;i+=2){var currX=pathCoordinates[i];var currY=pathCoordinates[i+1];var currData=valueData[i/2];if(currData.value!==undefined){if(hole){path.move(currX,currY,false,currData)}else{path.line(currX,currY,false,currData)}hole=false}else if(!options.fillHoles){hole=true}}return path}};Chartist.Interpolation.simple=function(options){var defaultOptions={divisor:2,fillHoles:false};options=Chartist.extend({},defaultOptions,options)
;var d=1/Math.max(1,options.divisor);return function simple(pathCoordinates,valueData){var path=new Chartist.Svg.Path;var prevX,prevY,prevData;for(var i=0;i<pathCoordinates.length;i+=2){var currX=pathCoordinates[i];var currY=pathCoordinates[i+1];var length=(currX-prevX)*d;var currData=valueData[i/2];if(currData.value!==undefined){if(prevData===undefined){path.move(currX,currY,false,currData)}else{path.curve(prevX+length,prevY,currX-length,currY,currX,currY,false,currData)}prevX=currX;prevY=currY;prevData=currData}else if(!options.fillHoles){prevX=currX=prevData=undefined}}return path}};Chartist.Interpolation.cardinal=function(options){var defaultOptions={tension:1,fillHoles:false};options=Chartist.extend({},defaultOptions,options);var t=Math.min(1,Math.max(0,options.tension)),c=1-t;return function cardinal(pathCoordinates,valueData){var segments=Chartist.splitIntoSegments(pathCoordinates,valueData,{fillHoles:options.fillHoles});if(!segments.length){return Chartist.Interpolation.none()([])}else if(segments.length>1){var paths=[];segments.forEach(function(segment){paths.push(cardinal(segment.pathCoordinates,segment.valueData))});return Chartist.Svg.Path.join(paths)}else{pathCoordinates=segments[0].pathCoordinates;valueData=segments[0].valueData;if(pathCoordinates.length<=4){return Chartist.Interpolation.none()(pathCoordinates,valueData)}var path=(new Chartist.Svg.Path).move(pathCoordinates[0],pathCoordinates[1],false,valueData[0]),z;for(var i=0,iLen=pathCoordinates.length;iLen-2*!z>i;i+=2){var p=[{x:+pathCoordinates[i-2],y:+pathCoordinates[i-1]},{x:+pathCoordinates[i],y:+pathCoordinates[i+1]},{x:+pathCoordinates[i+2],y:+pathCoordinates[i+3]},{x:+pathCoordinates[i+4],y:+pathCoordinates[i+5]}];if(z){if(!i){p[0]={x:+pathCoordinates[iLen-2],y:+pathCoordinates[iLen-1]}}else if(iLen-4===i){p[3]={x:+pathCoordinates[0],y:+pathCoordinates[1]}}else if(iLen-2===i){p[2]={x:+pathCoordinates[0],y:+pathCoordinates[1]};p[3]={x:+pathCoordinates[2],y:+pathCoordinates[3]}}}else{if(iLen-4===i){p[3]=p[2]}else if(!i){p[0]={x:+pathCoordinates[i],y:+pathCoordinates[i+1]}}}path.curve(t*(-p[0].x+6*p[1].x+p[2].x)/6+c*p[2].x,t*(-p[0].y+6*p[1].y+p[2].y)/6+c*p[2].y,t*(p[1].x+6*p[2].x-p[3].x)/6+c*p[2].x,t*(p[1].y+6*p[2].y-p[3].y)/6+c*p[2].y,p[2].x,p[2].y,false,valueData[(i+2)/2])}return path}}};Chartist.Interpolation.monotoneCubic=function(options){var defaultOptions={fillHoles:false};options=Chartist.extend({},defaultOptions,options);return function monotoneCubic(pathCoordinates,valueData){var segments=Chartist.splitIntoSegments(pathCoordinates,valueData,{fillHoles:options.fillHoles,increasingX:true});if(!segments.length){return Chartist.Interpolation.none()([])}else if(segments.length>1){var paths=[];segments.forEach(function(segment){paths.push(monotoneCubic(segment.pathCoordinates,segment.valueData))});return Chartist.Svg.Path.join(paths)}else{pathCoordinates=segments[0].pathCoordinates;valueData=segments[0].valueData;if(pathCoordinates.length<=4){return Chartist.Interpolation.none()(pathCoordinates,valueData)}var xs=[],ys=[],i,n=pathCoordinates.length/2,ms=[],ds=[],dys=[],dxs=[],path;for(i=0;i<n;i++){xs[i]=pathCoordinates[i*2];ys[i]=pathCoordinates[i*2+1]}for(i=0;i<n-1;i++){dys[i]=ys[i+1]-ys[i];dxs[i]=xs[i+1]-xs[i];ds[i]=dys[i]/dxs[i]}ms[0]=ds[0];ms[n-1]=ds[n-2];for(i=1;i<n-1;i++){if(ds[i]===0||ds[i-1]===0||ds[i-1]>0!==ds[i]>0){ms[i]=0}else{ms[i]=3*(dxs[i-1]+dxs[i])/((2*dxs[i]+dxs[i-1])/ds[i-1]+(dxs[i]+2*dxs[i-1])/ds[i]);if(!isFinite(ms[i])){ms[i]=0}}}path=(new Chartist.Svg.Path).move(xs[0],ys[0],false,valueData[0]);for(i=0;i<n-1;i++){path.curve(xs[i]+dxs[i]/3,ys[i]+ms[i]*dxs[i]/3,xs[i+1]-dxs[i]/3,ys[i+1]-ms[i+1]*dxs[i]/3,xs[i+1],ys[i+1],false,valueData[i+1])}return path}}};Chartist.Interpolation.step=function(options){var defaultOptions={postpone:true,fillHoles:false};options=Chartist.extend({},defaultOptions,options);return function step(pathCoordinates,valueData){var path=new Chartist.Svg.Path;var prevX,prevY,prevData;for(var i=0;i<pathCoordinates.length;i+=2){var currX=pathCoordinates[i];var currY=pathCoordinates[i+1];var currData=valueData[i/2];if(currData.value!==undefined){if(prevData===undefined){path.move(currX,currY,false,currData)}else{if(options.postpone){path.line(currX,prevY,false,prevData)}else{path.line(prevX,currY,false,currData)}path.line(currX,currY,false,currData)}prevX=currX;prevY=currY;prevData=currData}else if(!options.fillHoles){prevX=prevY=prevData=undefined}}return path}}})(window,document,Chartist);(function(window,document,Chartist){"use strict";Chartist.EventEmitter=function(){var handlers=[];function addEventHandler(event,handler){handlers[event]=handlers[event]||[];handlers[event].push(handler)}function removeEventHandler(event,handler){if(handlers[event]){if(handler){handlers[event].splice(handlers[event].indexOf(handler),1);if(handlers[event].length===0){delete handlers[event]}}else{delete handlers[event]}}}function emit(event,data){if(handlers[event]){handlers[event].forEach(function(handler){handler(data)})}if(handlers["*"]){handlers["*"].forEach(function(starHandler){starHandler(event,data)})}}return{addEventHandler:addEventHandler,removeEventHandler:removeEventHandler,emit:emit}}})(window,document,Chartist);(function(window,document,Chartist){"use strict";function listToArray(list){var arr=[];if(list.length){for(var i=0;i<list.length;i++){arr.push(list[i])}}return arr}function extend(properties,superProtoOverride){var superProto=superProtoOverride||this.prototype||Chartist.Class;var proto=Object.create(superProto);Chartist.Class.cloneDefinitions(proto,properties);var constr=function(){var fn=proto.constructor||function(){},instance;instance=this===Chartist?Object.create(proto):this;fn.apply(instance,Array.prototype.slice.call(arguments,0));return instance};constr.prototype=proto;constr.super=superProto;constr.extend=this.extend;return constr}function cloneDefinitions(){var args=listToArray(arguments);var target=args[0];args.splice(1,args.length-1).forEach(function(source){Object.getOwnPropertyNames(source).forEach(function(propName){delete target[propName];Object.defineProperty(target,propName,Object.getOwnPropertyDescriptor(source,propName))})});return target}Chartist.Class={extend:extend,cloneDefinitions:cloneDefinitions}})(window,document,Chartist);(function(window,document,Chartist){"use strict";function update(data,options,override){if(data){this.data=data;this.eventEmitter.emit("data",{type:"update",data:this.data})}if(options){this.options=Chartist.extend({},override?this.options:this.defaultOptions,options);if(!this.initializeTimeoutId){this.optionsProvider.removeMediaQueryListeners();this.optionsProvider=Chartist.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter)}}if(!this.initializeTimeoutId){this.createChart(this.optionsProvider.getCurrentOptions())}return this}function detach(){if(!this.initializeTimeoutId){window.removeEventListener("resize",this.resizeListener);this.optionsProvider.removeMediaQueryListeners()}else{window.clearTimeout(this.initializeTimeoutId)}return this}function on(event,handler){this.eventEmitter.addEventHandler(event,handler);return this}function off(event,handler){this.eventEmitter.removeEventHandler(event,handler);return this}function initialize(){window.addEventListener("resize",this.resizeListener);this.optionsProvider=Chartist.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter);this.eventEmitter.addEventHandler("optionsChanged",function(){this.update()}.bind(this));if(this.options.plugins){this.options.plugins.forEach(function(plugin){if(plugin instanceof Array){plugin[0](this,plugin[1])}else{plugin(this)}}.bind(this))}this.eventEmitter.emit("data",{type:"initial",data:this.data});this.createChart(this.optionsProvider.getCurrentOptions());this.initializeTimeoutId=undefined}function Base(query,data,defaultOptions,options,responsiveOptions){this.container=Chartist.querySelector(query);this.data=data;this.defaultOptions=defaultOptions;this.options=options;this.responsiveOptions=responsiveOptions;this.eventEmitter=Chartist.EventEmitter();this.supportsForeignObject=Chartist.Svg.isSupported("Extensibility");this.supportsAnimations=Chartist.Svg.isSupported("AnimationEventsAttribute");this.resizeListener=function resizeListener(){this.update()}.bind(this);if(this.container){if(this.container.__chartist__){this.container.__chartist__.detach()}this.container.__chartist__=this}this.initializeTimeoutId=setTimeout(initialize.bind(this),0)}Chartist.Base=Chartist.Class.extend({constructor:Base,optionsProvider:undefined,container:undefined,svg:undefined,eventEmitter:undefined,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:update,detach:detach,on:on,off:off,version:Chartist.version,supportsForeignObject:false})})(window,document,Chartist);(function(window,document,Chartist){"use strict";function Svg(name,attributes,className,parent,insertFirst){if(name instanceof Element){this._node=name}else{this._node=document.createElementNS(Chartist.namespaces.svg,name);if(name==="svg"){this.attr({"xmlns:ct":Chartist.namespaces.ct})}}if(attributes){this.attr(attributes)}if(className){this.addClass(className)}if(parent){if(insertFirst&&parent._node.firstChild){parent._node.insertBefore(this._node,parent._node.firstChild)}else{parent._node.appendChild(this._node)}}}function attr(attributes,ns){if(typeof attributes==="string"){if(ns){return this._node.getAttributeNS(ns,attributes)}else{return this._node.getAttribute(attributes)}}Object.keys(attributes).forEach(function(key){if(attributes[key]===undefined){return}if(key.indexOf(":")!==-1){var namespacedAttribute=key.split(":");this._node.setAttributeNS(Chartist.namespaces[namespacedAttribute[0]],key,attributes[key])}else{this._node.setAttribute(key,attributes[key])}}.bind(this));return this}function elem(name,attributes,className,insertFirst){return new Chartist.Svg(name,attributes,className,this,insertFirst)}function parent(){return this._node.parentNode instanceof SVGElement?new Chartist.Svg(this._node.parentNode):null}function root(){var node=this._node;while(node.nodeName!=="svg"){node=node.parentNode}return new Chartist.Svg(node)}function querySelector(selector){var foundNode=this._node.querySelector(selector);return foundNode?new Chartist.Svg(foundNode):null}function querySelectorAll(selector){var foundNodes=this._node.querySelectorAll(selector);return foundNodes.length?new Chartist.Svg.List(foundNodes):null}function foreignObject(content,attributes,className,insertFirst){if(typeof content==="string"){var container=document.createElement("div");container.innerHTML=content;content=container.firstChild}content.setAttribute("xmlns",Chartist.namespaces.xmlns);var fnObj=this.elem("foreignObject",attributes,className,insertFirst);fnObj._node.appendChild(content);return fnObj}function text(t){this._node.appendChild(document.createTextNode(t));return this}function empty(){while(this._node.firstChild){this._node.removeChild(this._node.firstChild)}return this}function remove(){this._node.parentNode.removeChild(this._node);return this.parent()}function replace(newElement){this._node.parentNode.replaceChild(newElement._node,this._node);return newElement}function append(element,insertFirst){if(insertFirst&&this._node.firstChild){this._node.insertBefore(element._node,this._node.firstChild)}else{this._node.appendChild(element._node)}return this}function classes(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]}function addClass(names){this._node.setAttribute("class",this.classes(this._node).concat(names.trim().split(/\s+/)).filter(function(elem,pos,self){return self.indexOf(elem)===pos}).join(" "));return this}function removeClass(names){var removedClasses=names.trim().split(/\s+/);this._node.setAttribute("class",this.classes(this._node).filter(function(name){return removedClasses.indexOf(name)===-1}).join(" "));return this}function removeAllClasses(){this._node.setAttribute("class","");return this}function height(){return this._node.getBoundingClientRect().height}function width(){return this._node.getBoundingClientRect().width}function animate(animations,guided,eventEmitter){if(guided===undefined){guided=true}Object.keys(animations).forEach(function createAnimateForAttributes(attribute){function createAnimate(animationDefinition,guided){var attributeProperties={},animate,timeout,easing;if(animationDefinition.easing){easing=animationDefinition.easing instanceof Array?animationDefinition.easing:Chartist.Svg.Easing[animationDefinition.easing];delete animationDefinition.easing}animationDefinition.begin=Chartist.ensureUnit(animationDefinition.begin,"ms");animationDefinition.dur=Chartist.ensureUnit(animationDefinition.dur,"ms");if(easing){animationDefinition.calcMode="spline";animationDefinition.keySplines=easing.join(" ");animationDefinition.keyTimes="0;1"}if(guided){animationDefinition.fill="freeze";attributeProperties[attribute]=animationDefinition.from;this.attr(attributeProperties);timeout=Chartist.quantity(animationDefinition.begin||0).value;animationDefinition.begin="indefinite"}animate=this.elem("animate",Chartist.extend({attributeName:attribute},animationDefinition));if(guided){setTimeout(function(){try{animate._node.beginElement()}catch(err){attributeProperties[attribute]=animationDefinition.to;this.attr(attributeProperties);animate.remove()}}.bind(this),timeout)}if(eventEmitter){animate._node.addEventListener("beginEvent",function handleBeginEvent(){eventEmitter.emit("animationBegin",{element:this,animate:animate._node,params:animationDefinition})}.bind(this))}animate._node.addEventListener("endEvent",function handleEndEvent(){if(eventEmitter){eventEmitter.emit("animationEnd",{element:this,animate:animate._node,params:animationDefinition})}if(guided){attributeProperties[attribute]=animationDefinition.to;this.attr(attributeProperties);animate.remove()}}.bind(this))}if(animations[attribute]instanceof Array){animations[attribute].forEach(function(animationDefinition){createAnimate.bind(this)(animationDefinition,false)}.bind(this))}else{createAnimate.bind(this)(animations[attribute],guided)}}.bind(this));return this}Chartist.Svg=Chartist.Class.extend({constructor:Svg,attr:attr,elem:elem,parent:parent,root:root,querySelector:querySelector,querySelectorAll:querySelectorAll,foreignObject:foreignObject,text:text,empty:empty,remove:remove,replace:replace,append:append,classes:classes,addClass:addClass,removeClass:removeClass,removeAllClasses:removeAllClasses,height:height,width:width,animate:animate});Chartist.Svg.isSupported=function(feature){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#"+feature,"1.1")};var easingCubicBeziers={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};Chartist.Svg.Easing=easingCubicBeziers;function SvgList(nodeList){var list=this;this.svgElements=[];for(var i=0;i<nodeList.length;i++){this.svgElements.push(new Chartist.Svg(nodeList[i]))}Object.keys(Chartist.Svg.prototype).filter(function(prototypeProperty){return["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(prototypeProperty)===-1}).forEach(function(prototypeProperty){list[prototypeProperty]=function(){var args=Array.prototype.slice.call(arguments,0);list.svgElements.forEach(function(element){Chartist.Svg.prototype[prototypeProperty].apply(element,args)});return list}})}Chartist.Svg.List=Chartist.Class.extend({constructor:SvgList})})(window,document,Chartist);(function(window,document,Chartist){"use strict";var elementDescriptions={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]};var defaultOptions={accuracy:3};function element(command,params,pathElements,pos,relative,data){var pathElement=Chartist.extend({command:relative?command.toLowerCase():command.toUpperCase()},params,data?{data:data}:{});pathElements.splice(pos,0,pathElement)}function forEachParam(pathElements,cb){pathElements.forEach(function(pathElement,pathElementIndex){elementDescriptions[pathElement.command.toLowerCase()].forEach(function(paramName,paramIndex){cb(pathElement,paramName,pathElementIndex,paramIndex,pathElements)})})}function SvgPath(close,options){this.pathElements=[];this.pos=0;this.close=close;this.options=Chartist.extend({},defaultOptions,options)}function position(pos){if(pos!==undefined){this.pos=Math.max(0,Math.min(this.pathElements.length,pos));return this}else{return this.pos}}function remove(count){this.pathElements.splice(this.pos,count);return this}function move(x,y,relative,data){element("M",{x:+x,y:+y},this.pathElements,this.pos++,relative,data);return this}function line(x,y,relative,data){element("L",{x:+x,y:+y},this.pathElements,this.pos++,relative,data);return this}function curve(x1,y1,x2,y2,x,y,relative,data){element("C",{x1:+x1,y1:+y1,x2:+x2,y2:+y2,x:+x,y:+y},this.pathElements,this.pos++,relative,data);return this}function arc(rx,ry,xAr,lAf,sf,x,y,relative,data){element("A",{rx:+rx,ry:+ry,xAr:+xAr,lAf:+lAf,sf:+sf,x:+x,y:+y},this.pathElements,this.pos++,relative,data);return this}function parse(path){var chunks=path.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce(function(result,element){if(element.match(/[A-Za-z]/)){result.push([])}result[result.length-1].push(element);return result},[]);if(chunks[chunks.length-1][0].toUpperCase()==="Z"){chunks.pop()}var elements=chunks.map(function(chunk){var command=chunk.shift(),description=elementDescriptions[command.toLowerCase()];return Chartist.extend({command:command},description.reduce(function(result,paramName,index){result[paramName]=+chunk[index];return result},{}))});var spliceArgs=[this.pos,0];Array.prototype.push.apply(spliceArgs,elements);Array.prototype.splice.apply(this.pathElements,spliceArgs);this.pos+=elements.length;return this}function stringify(){var accuracyMultiplier=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(function(path,pathElement){var params=elementDescriptions[pathElement.command.toLowerCase()].map(function(paramName){return this.options.accuracy?Math.round(pathElement[paramName]*accuracyMultiplier)/accuracyMultiplier:pathElement[paramName]}.bind(this));return path+pathElement.command+params.join(",")}.bind(this),"")+(this.close?"Z":"")}function scale(x,y){forEachParam(this.pathElements,function(pathElement,paramName){pathElement[paramName]*=paramName[0]==="x"?x:y});return this}function translate(x,y){forEachParam(this.pathElements,function(pathElement,paramName){pathElement[paramName]+=paramName[0]==="x"?x:y});return this}function transform(transformFnc){forEachParam(this.pathElements,function(pathElement,paramName,pathElementIndex,paramIndex,pathElements){var transformed=transformFnc(pathElement,paramName,pathElementIndex,paramIndex,pathElements);if(transformed||transformed===0){pathElement[paramName]=transformed}});return this}function clone(close){var c=new Chartist.Svg.Path(close||this.close);c.pos=this.pos;c.pathElements=this.pathElements.slice().map(function cloneElements(pathElement){return Chartist.extend({},pathElement)});c.options=Chartist.extend({},this.options);return c}function splitByCommand(command){var split=[new Chartist.Svg.Path];this.pathElements.forEach(function(pathElement){if(pathElement.command===command.toUpperCase()&&split[split.length-1].pathElements.length!==0){split.push(new Chartist.Svg.Path)}split[split.length-1].pathElements.push(pathElement)});return split}function join(paths,close,options){var joinedPath=new Chartist.Svg.Path(close,options);for(var i=0;i<paths.length;i++){var path=paths[i];for(var j=0;j<path.pathElements.length;j++){joinedPath.pathElements.push(path.pathElements[j])}}return joinedPath}Chartist.Svg.Path=Chartist.Class.extend({constructor:SvgPath,position:position,remove:remove,move:move,line:line,curve:curve,arc:arc,scale:scale,translate:translate,transform:transform,parse:parse,stringify:stringify,clone:clone,splitByCommand:splitByCommand});Chartist.Svg.Path.elementDescriptions=elementDescriptions;Chartist.Svg.Path.join=join})(window,document,Chartist);(function(window,document,Chartist){"use strict";var axisUnits={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};function Axis(units,chartRect,ticks,options){this.units=units;this.counterUnits=units===axisUnits.x?axisUnits.y:axisUnits.x;this.chartRect=chartRect;this.axisLength=chartRect[units.rectEnd]-chartRect[units.rectStart];this.gridOffset=chartRect[units.rectOffset];this.ticks=ticks;this.options=options}function createGridAndLabels(gridGroup,labelGroup,useForeignObject,chartOptions,eventEmitter){var axisOptions=chartOptions["axis"+this.units.pos.toUpperCase()];var projectedValues=this.ticks.map(this.projectValue.bind(this));var labelValues=this.ticks.map(axisOptions.labelInterpolationFnc);projectedValues.forEach(function(projectedValue,index){var labelOffset={x:0,y:0};var labelLength;if(projectedValues[index+1]){labelLength=projectedValues[index+1]-projectedValue}else{labelLength=Math.max(this.axisLength-projectedValue,30)}if(Chartist.isFalseyButZero(labelValues[index])&&labelValues[index]!==""){return}if(this.units.pos==="x"){projectedValue=this.chartRect.x1+projectedValue;labelOffset.x=chartOptions.axisX.labelOffset.x;if(chartOptions.axisX.position==="start"){labelOffset.y=this.chartRect.padding.top+chartOptions.axisX.labelOffset.y+(useForeignObject?5:20)}else{labelOffset.y=this.chartRect.y1+chartOptions.axisX.labelOffset.y+(useForeignObject?5:20)}}else{projectedValue=this.chartRect.y1-projectedValue;labelOffset.y=chartOptions.axisY.labelOffset.y-(useForeignObject?labelLength:0);if(chartOptions.axisY.position==="start"){labelOffset.x=useForeignObject?this.chartRect.padding.left+chartOptions.axisY.labelOffset.x:this.chartRect.x1-10}else{labelOffset.x=this.chartRect.x2+chartOptions.axisY.labelOffset.x+10}}if(axisOptions.showGrid){Chartist.createGrid(projectedValue,index,this,this.gridOffset,this.chartRect[this.counterUnits.len](),gridGroup,[chartOptions.classNames.grid,chartOptions.classNames[this.units.dir]],eventEmitter)}if(axisOptions.showLabel){Chartist.createLabel(projectedValue,labelLength,index,labelValues,this,axisOptions.offset,labelOffset,labelGroup,[chartOptions.classNames.label,chartOptions.classNames[this.units.dir],chartOptions.classNames[axisOptions.position]],useForeignObject,eventEmitter)}}.bind(this))}Chartist.Axis=Chartist.Class.extend({constructor:Axis,createGridAndLabels:createGridAndLabels,projectValue:function(value,index,data){throw new Error("Base axis can't be instantiated!")}});Chartist.Axis.units=axisUnits})(window,document,Chartist);(function(window,document,Chartist){"use strict";function AutoScaleAxis(axisUnit,data,chartRect,options){var highLow=options.highLow||Chartist.getHighLow(data.normalized,options,axisUnit.pos);this.bounds=Chartist.getBounds(chartRect[axisUnit.rectEnd]-chartRect[axisUnit.rectStart],highLow,options.scaleMinSpace||20,options.onlyInteger);this.range={min:this.bounds.min,max:this.bounds.max};Chartist.AutoScaleAxis.super.constructor.call(this,axisUnit,chartRect,this.bounds.values,options)}function projectValue(value){return this.axisLength*(+Chartist.getMultiValue(value,this.units.pos)-this.bounds.min)/this.bounds.range}Chartist.AutoScaleAxis=Chartist.Axis.extend({constructor:AutoScaleAxis,projectValue:projectValue})})(window,document,Chartist);(function(window,document,Chartist){"use strict";function FixedScaleAxis(axisUnit,data,chartRect,options){var highLow=options.highLow||Chartist.getHighLow(data.normalized,options,axisUnit.pos);this.divisor=options.divisor||1;this.ticks=options.ticks||Chartist.times(this.divisor).map(function(value,index){return highLow.low+(highLow.high-highLow.low)/this.divisor*index}.bind(this));this.ticks.sort(function(a,b){return a-b});this.range={min:highLow.low,max:highLow.high};Chartist.FixedScaleAxis.super.constructor.call(this,axisUnit,chartRect,this.ticks,options);this.stepLength=this.axisLength/this.divisor}function projectValue(value){return this.axisLength*(+Chartist.getMultiValue(value,this.units.pos)-this.range.min)/(this.range.max-this.range.min)}Chartist.FixedScaleAxis=Chartist.Axis.extend({constructor:FixedScaleAxis,projectValue:projectValue})})(window,document,Chartist);(function(window,document,Chartist){"use strict";function StepAxis(axisUnit,data,chartRect,options){Chartist.StepAxis.super.constructor.call(this,axisUnit,chartRect,options.ticks,options);this.stepLength=this.axisLength/(options.ticks.length-(options.stretch?1:0))}function projectValue(value,index){return this.stepLength*index}Chartist.StepAxis=Chartist.Axis.extend({constructor:StepAxis,projectValue:projectValue})})(window,document,Chartist);(function(window,document,Chartist){"use strict";var defaultOptions={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:true,showGrid:true,labelInterpolationFnc:Chartist.noop,type:undefined},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:true,showGrid:true,labelInterpolationFnc:Chartist.noop,type:undefined,scaleMinSpace:20,onlyInteger:false},width:undefined,height:undefined,showLine:true,showPoint:true,showArea:false,areaBase:0,lineSmooth:true,low:undefined,high:undefined,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:false,reverseData:false,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};function createChart(options){this.data=Chartist.normalizeData(this.data);var data={raw:this.data,normalized:Chartist.getDataArray(this.data,options.reverseData,true)};this.svg=Chartist.createSvg(this.container,options.width,options.height,options.classNames.chart);var gridGroup=this.svg.elem("g").addClass(options.classNames.gridGroup);var seriesGroup=this.svg.elem("g");var labelGroup=this.svg.elem("g").addClass(options.classNames.labelGroup);var chartRect=Chartist.createChartRect(this.svg,options,defaultOptions.padding);var axisX,axisY;if(options.axisX.type===undefined){axisX=new Chartist.StepAxis(Chartist.Axis.units.x,data,chartRect,Chartist.extend({},options.axisX,{ticks:data.raw.labels,stretch:options.fullWidth}))}else{axisX=options.axisX.type.call(Chartist,Chartist.Axis.units.x,data,chartRect,options.axisX)}if(options.axisY.type===undefined){axisY=new Chartist.AutoScaleAxis(Chartist.Axis.units.y,data,chartRect,Chartist.extend({},options.axisY,{high:Chartist.isNum(options.high)?options.high:options.axisY.high,low:Chartist.isNum(options.low)?options.low:options.axisY.low}))}else{axisY=options.axisY.type.call(Chartist,Chartist.Axis.units.y,data,chartRect,options.axisY)}axisX.createGridAndLabels(gridGroup,labelGroup,this.supportsForeignObject,options,this.eventEmitter);axisY.createGridAndLabels(gridGroup,labelGroup,this.supportsForeignObject,options,this.eventEmitter);data.raw.series.forEach(function(series,seriesIndex){var seriesElement=seriesGroup.elem("g");seriesElement.attr({"ct:series-name":series.name,"ct:meta":Chartist.serialize(series.meta)});seriesElement.addClass([options.classNames.series,series.className||options.classNames.series+"-"+Chartist.alphaNumerate(seriesIndex)].join(" "));var pathCoordinates=[],pathData=[];data.normalized[seriesIndex].forEach(function(value,valueIndex){var p={x:chartRect.x1+axisX.projectValue(value,valueIndex,data.normalized[seriesIndex]),y:chartRect.y1-axisY.projectValue(value,valueIndex,data.normalized[seriesIndex])};pathCoordinates.push(p.x,p.y);pathData.push({value:value,valueIndex:valueIndex,meta:Chartist.getMetaData(series,valueIndex)})}.bind(this));var seriesOptions={lineSmooth:Chartist.getSeriesOption(series,options,"lineSmooth"),showPoint:Chartist.getSeriesOption(series,options,"showPoint"),showLine:Chartist.getSeriesOption(series,options,"showLine"),showArea:Chartist.getSeriesOption(series,options,"showArea"),areaBase:Chartist.getSeriesOption(series,options,"areaBase")};var smoothing=typeof seriesOptions.lineSmooth==="function"?seriesOptions.lineSmooth:seriesOptions.lineSmooth?Chartist.Interpolation.monotoneCubic():Chartist.Interpolation.none();var path=smoothing(pathCoordinates,pathData);if(seriesOptions.showPoint){path.pathElements.forEach(function(pathElement){var point=seriesElement.elem("line",{x1:pathElement.x,y1:pathElement.y,x2:pathElement.x+.01,y2:pathElement.y},options.classNames.point).attr({"ct:value":[pathElement.data.value.x,pathElement.data.value.y].filter(Chartist.isNum).join(","),"ct:meta":pathElement.data.meta});this.eventEmitter.emit("draw",{type:"point",value:pathElement.data.value,index:pathElement.data.valueIndex,meta:pathElement.data.meta,series:series,seriesIndex:seriesIndex,axisX:axisX,axisY:axisY,group:seriesElement,element:point,x:pathElement.x,y:pathElement.y})}.bind(this))}if(seriesOptions.showLine){var line=seriesElement.elem("path",{d:path.stringify()},options.classNames.line,true);this.eventEmitter.emit("draw",{type:"line",values:data.normalized[seriesIndex],path:path.clone(),chartRect:chartRect,index:seriesIndex,series:series,seriesIndex:seriesIndex,axisX:axisX,axisY:axisY,group:seriesElement,element:line})}if(seriesOptions.showArea&&axisY.range){var areaBase=Math.max(Math.min(seriesOptions.areaBase,axisY.range.max),axisY.range.min);var areaBaseProjected=chartRect.y1-axisY.projectValue(areaBase);path.splitByCommand("M").filter(function onlySolidSegments(pathSegment){return pathSegment.pathElements.length>1}).map(function convertToArea(solidPathSegments){var firstElement=solidPathSegments.pathElements[0];var lastElement=solidPathSegments.pathElements[solidPathSegments.pathElements.length-1];return solidPathSegments.clone(true).position(0).remove(1).move(firstElement.x,areaBaseProjected).line(firstElement.x,firstElement.y).position(solidPathSegments.pathElements.length+1).line(lastElement.x,areaBaseProjected)}).forEach(function createArea(areaPath){var area=seriesElement.elem("path",{d:areaPath.stringify()},options.classNames.area,true);this.eventEmitter.emit("draw",{type:"area",values:data.normalized[seriesIndex],path:areaPath.clone(),series:series,seriesIndex:seriesIndex,axisX:axisX,axisY:axisY,chartRect:chartRect,index:seriesIndex,group:seriesElement,element:area})}.bind(this))}}.bind(this));this.eventEmitter.emit("created",{bounds:axisY.bounds,chartRect:chartRect,axisX:axisX,axisY:axisY,svg:this.svg,options:options})}function Line(query,data,options,responsiveOptions){Chartist.Line.super.constructor.call(this,query,data,defaultOptions,Chartist.extend({},defaultOptions,options),responsiveOptions)}Chartist.Line=Chartist.Base.extend({constructor:Line,createChart:createChart})})(window,document,Chartist);(function(window,document,Chartist){"use strict";var defaultOptions={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:true,showGrid:true,labelInterpolationFnc:Chartist.noop,scaleMinSpace:30,onlyInteger:false},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:true,showGrid:true,labelInterpolationFnc:Chartist.noop,scaleMinSpace:20,onlyInteger:false},width:undefined,height:undefined,high:undefined,low:undefined,
chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:false,stackMode:"accumulate",horizontalBars:false,distributeSeries:false,reverseData:false,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};function createChart(options){this.data=Chartist.normalizeData(this.data);var data={raw:this.data,normalized:options.distributeSeries?Chartist.getDataArray(this.data,options.reverseData,options.horizontalBars?"x":"y").map(function(value){return[value]}):Chartist.getDataArray(this.data,options.reverseData,options.horizontalBars?"x":"y")};var highLow;this.svg=Chartist.createSvg(this.container,options.width,options.height,options.classNames.chart+(options.horizontalBars?" "+options.classNames.horizontalBars:""));var gridGroup=this.svg.elem("g").addClass(options.classNames.gridGroup);var seriesGroup=this.svg.elem("g");var labelGroup=this.svg.elem("g").addClass(options.classNames.labelGroup);if(options.stackBars&&data.normalized.length!==0){var serialSums=Chartist.serialMap(data.normalized,function serialSums(){return Array.prototype.slice.call(arguments).map(function(value){return value}).reduce(function(prev,curr){return{x:prev.x+(curr&&curr.x)||0,y:prev.y+(curr&&curr.y)||0}},{x:0,y:0})});highLow=Chartist.getHighLow([serialSums],Chartist.extend({},options,{referenceValue:0}),options.horizontalBars?"x":"y")}else{highLow=Chartist.getHighLow(data.normalized,Chartist.extend({},options,{referenceValue:0}),options.horizontalBars?"x":"y")}highLow.high=+options.high||(options.high===0?0:highLow.high);highLow.low=+options.low||(options.low===0?0:highLow.low);var chartRect=Chartist.createChartRect(this.svg,options,defaultOptions.padding);var valueAxis,labelAxisTicks,labelAxis,axisX,axisY;if(options.distributeSeries&&options.stackBars){labelAxisTicks=data.raw.labels.slice(0,1)}else{labelAxisTicks=data.raw.labels}if(options.horizontalBars){if(options.axisX.type===undefined){valueAxis=axisX=new Chartist.AutoScaleAxis(Chartist.Axis.units.x,data,chartRect,Chartist.extend({},options.axisX,{highLow:highLow,referenceValue:0}))}else{valueAxis=axisX=options.axisX.type.call(Chartist,Chartist.Axis.units.x,data,chartRect,Chartist.extend({},options.axisX,{highLow:highLow,referenceValue:0}))}if(options.axisY.type===undefined){labelAxis=axisY=new Chartist.StepAxis(Chartist.Axis.units.y,data,chartRect,{ticks:labelAxisTicks})}else{labelAxis=axisY=options.axisY.type.call(Chartist,Chartist.Axis.units.y,data,chartRect,options.axisY)}}else{if(options.axisX.type===undefined){labelAxis=axisX=new Chartist.StepAxis(Chartist.Axis.units.x,data,chartRect,{ticks:labelAxisTicks})}else{labelAxis=axisX=options.axisX.type.call(Chartist,Chartist.Axis.units.x,data,chartRect,options.axisX)}if(options.axisY.type===undefined){valueAxis=axisY=new Chartist.AutoScaleAxis(Chartist.Axis.units.y,data,chartRect,Chartist.extend({},options.axisY,{highLow:highLow,referenceValue:0}))}else{valueAxis=axisY=options.axisY.type.call(Chartist,Chartist.Axis.units.y,data,chartRect,Chartist.extend({},options.axisY,{highLow:highLow,referenceValue:0}))}}var zeroPoint=options.horizontalBars?chartRect.x1+valueAxis.projectValue(0):chartRect.y1-valueAxis.projectValue(0);var stackedBarValues=[];labelAxis.createGridAndLabels(gridGroup,labelGroup,this.supportsForeignObject,options,this.eventEmitter);valueAxis.createGridAndLabels(gridGroup,labelGroup,this.supportsForeignObject,options,this.eventEmitter);data.raw.series.forEach(function(series,seriesIndex){var biPol=seriesIndex-(data.raw.series.length-1)/2;var periodHalfLength;var seriesElement;if(options.distributeSeries&&!options.stackBars){periodHalfLength=labelAxis.axisLength/data.normalized.length/2}else if(options.distributeSeries&&options.stackBars){periodHalfLength=labelAxis.axisLength/2}else{periodHalfLength=labelAxis.axisLength/data.normalized[seriesIndex].length/2}seriesElement=seriesGroup.elem("g");seriesElement.attr({"ct:series-name":series.name,"ct:meta":Chartist.serialize(series.meta)});seriesElement.addClass([options.classNames.series,series.className||options.classNames.series+"-"+Chartist.alphaNumerate(seriesIndex)].join(" "));data.normalized[seriesIndex].forEach(function(value,valueIndex){var projected,bar,previousStack,labelAxisValueIndex;if(options.distributeSeries&&!options.stackBars){labelAxisValueIndex=seriesIndex}else if(options.distributeSeries&&options.stackBars){labelAxisValueIndex=0}else{labelAxisValueIndex=valueIndex}if(options.horizontalBars){projected={x:chartRect.x1+valueAxis.projectValue(value&&value.x?value.x:0,valueIndex,data.normalized[seriesIndex]),y:chartRect.y1-labelAxis.projectValue(value&&value.y?value.y:0,labelAxisValueIndex,data.normalized[seriesIndex])}}else{projected={x:chartRect.x1+labelAxis.projectValue(value&&value.x?value.x:0,labelAxisValueIndex,data.normalized[seriesIndex]),y:chartRect.y1-valueAxis.projectValue(value&&value.y?value.y:0,valueIndex,data.normalized[seriesIndex])}}if(labelAxis instanceof Chartist.StepAxis){if(!labelAxis.options.stretch){projected[labelAxis.units.pos]+=periodHalfLength*(options.horizontalBars?-1:1)}projected[labelAxis.units.pos]+=options.stackBars||options.distributeSeries?0:biPol*options.seriesBarDistance*(options.horizontalBars?-1:1)}previousStack=stackedBarValues[valueIndex]||zeroPoint;stackedBarValues[valueIndex]=previousStack-(zeroPoint-projected[labelAxis.counterUnits.pos]);if(value===undefined){return}var positions={};positions[labelAxis.units.pos+"1"]=projected[labelAxis.units.pos];positions[labelAxis.units.pos+"2"]=projected[labelAxis.units.pos];if(options.stackBars&&(options.stackMode==="accumulate"||!options.stackMode)){positions[labelAxis.counterUnits.pos+"1"]=previousStack;positions[labelAxis.counterUnits.pos+"2"]=stackedBarValues[valueIndex]}else{positions[labelAxis.counterUnits.pos+"1"]=zeroPoint;positions[labelAxis.counterUnits.pos+"2"]=projected[labelAxis.counterUnits.pos]}positions.x1=Math.min(Math.max(positions.x1,chartRect.x1),chartRect.x2);positions.x2=Math.min(Math.max(positions.x2,chartRect.x1),chartRect.x2);positions.y1=Math.min(Math.max(positions.y1,chartRect.y2),chartRect.y1);positions.y2=Math.min(Math.max(positions.y2,chartRect.y2),chartRect.y1);bar=seriesElement.elem("line",positions,options.classNames.bar).attr({"ct:value":[value.x,value.y].filter(Chartist.isNum).join(","),"ct:meta":Chartist.getMetaData(series,valueIndex)});this.eventEmitter.emit("draw",Chartist.extend({type:"bar",value:value,index:valueIndex,meta:Chartist.getMetaData(series,valueIndex),series:series,seriesIndex:seriesIndex,axisX:axisX,axisY:axisY,chartRect:chartRect,group:seriesElement,element:bar},positions))}.bind(this))}.bind(this));this.eventEmitter.emit("created",{bounds:valueAxis.bounds,chartRect:chartRect,axisX:axisX,axisY:axisY,svg:this.svg,options:options})}function Bar(query,data,options,responsiveOptions){Chartist.Bar.super.constructor.call(this,query,data,defaultOptions,Chartist.extend({},defaultOptions,options),responsiveOptions)}Chartist.Bar=Chartist.Base.extend({constructor:Bar,createChart:createChart})})(window,document,Chartist);(function(window,document,Chartist){"use strict";var defaultOptions={width:undefined,height:undefined,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",label:"ct-label"},startAngle:0,total:undefined,donut:false,donutWidth:60,showLabel:true,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:Chartist.noop,labelDirection:"neutral",reverseData:false,ignoreEmptyValues:false};function determineAnchorPosition(center,label,direction){var toTheRight=label.x>center.x;if(toTheRight&&direction==="explode"||!toTheRight&&direction==="implode"){return"start"}else if(toTheRight&&direction==="implode"||!toTheRight&&direction==="explode"){return"end"}else{return"middle"}}function createChart(options){this.data=Chartist.normalizeData(this.data);var seriesGroups=[],labelsGroup,chartRect,radius,labelRadius,totalDataSum,startAngle=options.startAngle,dataArray=Chartist.getDataArray(this.data,options.reverseData);this.svg=Chartist.createSvg(this.container,options.width,options.height,options.donut?options.classNames.chartDonut:options.classNames.chartPie);chartRect=Chartist.createChartRect(this.svg,options,defaultOptions.padding);radius=Math.min(chartRect.width()/2,chartRect.height()/2);totalDataSum=options.total||dataArray.reduce(function(previousValue,currentValue){return previousValue+currentValue},0);var donutWidth=Chartist.quantity(options.donutWidth);if(donutWidth.unit==="%"){donutWidth.value*=radius/100}radius-=options.donut?donutWidth.value/2:0;if(options.labelPosition==="outside"||options.donut){labelRadius=radius}else if(options.labelPosition==="center"){labelRadius=0}else{labelRadius=radius/2}labelRadius+=options.labelOffset;var center={x:chartRect.x1+chartRect.width()/2,y:chartRect.y2+chartRect.height()/2};var hasSingleValInSeries=this.data.series.filter(function(val){return val.hasOwnProperty("value")?val.value!==0:val!==0}).length===1;if(options.showLabel){labelsGroup=this.svg.elem("g",null,null,true)}for(var i=0;i<this.data.series.length;i++){if(dataArray[i]===0&&options.ignoreEmptyValues)continue;var series=this.data.series[i];seriesGroups[i]=this.svg.elem("g",null,null,true);seriesGroups[i].attr({"ct:series-name":series.name});seriesGroups[i].addClass([options.classNames.series,series.className||options.classNames.series+"-"+Chartist.alphaNumerate(i)].join(" "));var endAngle=startAngle+dataArray[i]/totalDataSum*360;var overlappigStartAngle=Math.max(0,startAngle-(i===0||hasSingleValInSeries?0:.2));if(endAngle-overlappigStartAngle>=359.99){endAngle=overlappigStartAngle+359.99}var start=Chartist.polarToCartesian(center.x,center.y,radius,overlappigStartAngle),end=Chartist.polarToCartesian(center.x,center.y,radius,endAngle);var path=new Chartist.Svg.Path(!options.donut).move(end.x,end.y).arc(radius,radius,0,endAngle-startAngle>180,0,start.x,start.y);if(!options.donut){path.line(center.x,center.y)}var pathElement=seriesGroups[i].elem("path",{d:path.stringify()},options.donut?options.classNames.sliceDonut:options.classNames.slicePie);pathElement.attr({"ct:value":dataArray[i],"ct:meta":Chartist.serialize(series.meta)});if(options.donut){pathElement.attr({style:"stroke-width: "+donutWidth.value+"px"})}this.eventEmitter.emit("draw",{type:"slice",value:dataArray[i],totalDataSum:totalDataSum,index:i,meta:series.meta,series:series,group:seriesGroups[i],element:pathElement,path:path.clone(),center:center,radius:radius,startAngle:startAngle,endAngle:endAngle});if(options.showLabel){var labelPosition=Chartist.polarToCartesian(center.x,center.y,labelRadius,startAngle+(endAngle-startAngle)/2),interpolatedValue=options.labelInterpolationFnc(this.data.labels&&!Chartist.isFalseyButZero(this.data.labels[i])?this.data.labels[i]:dataArray[i],i);if(interpolatedValue||interpolatedValue===0){var labelElement=labelsGroup.elem("text",{dx:labelPosition.x,dy:labelPosition.y,"text-anchor":determineAnchorPosition(center,labelPosition,options.labelDirection)},options.classNames.label).text(""+interpolatedValue);this.eventEmitter.emit("draw",{type:"label",index:i,group:labelsGroup,element:labelElement,text:""+interpolatedValue,x:labelPosition.x,y:labelPosition.y})}}startAngle=endAngle}this.eventEmitter.emit("created",{chartRect:chartRect,svg:this.svg,options:options})}function Pie(query,data,options,responsiveOptions){Chartist.Pie.super.constructor.call(this,query,data,defaultOptions,Chartist.extend({},defaultOptions,options),responsiveOptions)}Chartist.Pie=Chartist.Base.extend({constructor:Pie,createChart:createChart,determineAnchorPosition:determineAnchorPosition})})(window,document,Chartist);return Chartist})},{}],15:[function(require,module,exports){(function(exports){var dloc=document.location;function dlocHashEmpty(){return dloc.hash===""||dloc.hash==="#"}var listener={mode:"modern",hash:dloc.hash,history:false,check:function(){var h=dloc.hash;if(h!=this.hash){this.hash=h;this.onHashChanged()}},fire:function(){if(this.mode==="modern"){this.history===true?window.onpopstate():window.onhashchange()}else{this.onHashChanged()}},init:function(fn,history){var self=this;this.history=history;if(!Router.listeners){Router.listeners=[]}function onchange(onChangeEvent){for(var i=0,l=Router.listeners.length;i<l;i++){Router.listeners[i](onChangeEvent)}}if("onhashchange"in window&&(document.documentMode===undefined||document.documentMode>7)){if(this.history===true){setTimeout(function(){window.onpopstate=onchange},500)}else{window.onhashchange=onchange}this.mode="modern"}else{var frame=document.createElement("iframe");frame.id="state-frame";frame.style.display="none";document.body.appendChild(frame);this.writeFrame("");if("onpropertychange"in document&&"attachEvent"in document){document.attachEvent("onpropertychange",function(){if(event.propertyName==="location"){self.check()}})}window.setInterval(function(){self.check()},50);this.onHashChanged=onchange;this.mode="legacy"}Router.listeners.push(fn);return this.mode},destroy:function(fn){if(!Router||!Router.listeners){return}var listeners=Router.listeners;for(var i=listeners.length-1;i>=0;i--){if(listeners[i]===fn){listeners.splice(i,1)}}},setHash:function(s){if(this.mode==="legacy"){this.writeFrame(s)}if(this.history===true){window.history.pushState({},document.title,s);this.fire()}else{dloc.hash=s[0]==="/"?s:"/"+s}return this},writeFrame:function(s){var f=document.getElementById("state-frame");var d=f.contentDocument||f.contentWindow.document;d.open();d.write("<script>_hash = '"+s+"'; onload = parent.listener.syncHash;<script>");d.close()},syncHash:function(){var s=this._hash;if(s!=dloc.hash){dloc.hash=s}return this},onHashChanged:function(){}};var Router=exports.Router=function(routes){if(!(this instanceof Router))return new Router(routes);this.params={};this.routes={};this.methods=["on","once","after","before"];this.scope=[];this._methods={};this._insert=this.insert;this.insert=this.insertEx;this.historySupport=(window.history!=null?window.history.pushState:null)!=null;this.configure();this.mount(routes||{})};Router.prototype.init=function(r){var self=this,routeTo;this.handler=function(onChangeEvent){var newURL=onChangeEvent&&onChangeEvent.newURL||window.location.hash;var url=self.history===true?self.getPath():newURL.replace(/.*#/,"");self.dispatch("on",url.charAt(0)==="/"?url:"/"+url)};listener.init(this.handler,this.history);if(this.history===false){if(dlocHashEmpty()&&r){dloc.hash=r}else if(!dlocHashEmpty()){self.dispatch("on","/"+dloc.hash.replace(/^(#\/|#|\/)/,""))}}else{if(this.convert_hash_in_init){routeTo=dlocHashEmpty()&&r?r:!dlocHashEmpty()?dloc.hash.replace(/^#/,""):null;if(routeTo){window.history.replaceState({},document.title,routeTo)}}else{routeTo=this.getPath()}if(routeTo||this.run_in_init===true){this.handler()}}return this};Router.prototype.explode=function(){var v=this.history===true?this.getPath():dloc.hash;if(v.charAt(1)==="/"){v=v.slice(1)}return v.slice(1,v.length).split("/")};Router.prototype.setRoute=function(i,v,val){var url=this.explode();if(typeof i==="number"&&typeof v==="string"){url[i]=v}else if(typeof val==="string"){url.splice(i,v,s)}else{url=[i]}listener.setHash(url.join("/"));return url};Router.prototype.insertEx=function(method,path,route,parent){if(method==="once"){method="on";route=function(route){var once=false;return function(){if(once)return;once=true;return route.apply(this,arguments)}}(route)}return this._insert(method,path,route,parent)};Router.prototype.getRoute=function(v){var ret=v;if(typeof v==="number"){ret=this.explode()[v]}else if(typeof v==="string"){var h=this.explode();ret=h.indexOf(v)}else{ret=this.explode()}return ret};Router.prototype.destroy=function(){listener.destroy(this.handler);return this};Router.prototype.getPath=function(){var path=window.location.pathname;if(path.substr(0,1)!=="/"){path="/"+path}return path};function _every(arr,iterator){for(var i=0;i<arr.length;i+=1){if(iterator(arr[i],i,arr)===false){return}}}function _flatten(arr){var flat=[];for(var i=0,n=arr.length;i<n;i++){flat=flat.concat(arr[i])}return flat}function _asyncEverySeries(arr,iterator,callback){if(!arr.length){return callback()}var completed=0;(function iterate(){iterator(arr[completed],function(err){if(err||err===false){callback(err);callback=function(){}}else{completed+=1;if(completed===arr.length){callback()}else{iterate()}}})})()}function paramifyString(str,params,mod){mod=str;for(var param in params){if(params.hasOwnProperty(param)){mod=params[param](str);if(mod!==str){break}}}return mod===str?"([._a-zA-Z0-9-%()]+)":mod}function regifyString(str,params){var matches,last=0,out="";while(matches=str.substr(last).match(/[^\w\d\- %@&]*\*[^\w\d\- %@&]*/)){last=matches.index+matches[0].length;matches[0]=matches[0].replace(/^\*/,"([_.()!\\ %@&a-zA-Z0-9-]+)");out+=str.substr(0,matches.index)+matches[0]}str=out+=str.substr(last);var captures=str.match(/:([^\/]+)/gi),capture,length;if(captures){length=captures.length;for(var i=0;i<length;i++){capture=captures[i];if(capture.slice(0,2)==="::"){str=capture.slice(1)}else{str=str.replace(capture,paramifyString(capture,params))}}}return str}function terminator(routes,delimiter,start,stop){var last=0,left=0,right=0,start=(start||"(").toString(),stop=(stop||")").toString(),i;for(i=0;i<routes.length;i++){var chunk=routes[i];if(chunk.indexOf(start,last)>chunk.indexOf(stop,last)||~chunk.indexOf(start,last)&&!~chunk.indexOf(stop,last)||!~chunk.indexOf(start,last)&&~chunk.indexOf(stop,last)){left=chunk.indexOf(start,last);right=chunk.indexOf(stop,last);if(~left&&!~right||!~left&&~right){var tmp=routes.slice(0,(i||1)+1).join(delimiter);routes=[tmp].concat(routes.slice((i||1)+1))}last=(right>left?right:left)+1;i=0}else{last=0}}return routes}var QUERY_SEPARATOR=/\?.*/;Router.prototype.configure=function(options){options=options||{};for(var i=0;i<this.methods.length;i++){this._methods[this.methods[i]]=true}this.recurse=options.recurse||this.recurse||false;this.async=options.async||false;this.delimiter=options.delimiter||"/";this.strict=typeof options.strict==="undefined"?true:options.strict;this.notfound=options.notfound;this.resource=options.resource;this.history=options.html5history&&this.historySupport||false;this.run_in_init=this.history===true&&options.run_handler_in_init!==false;this.convert_hash_in_init=this.history===true&&options.convert_hash_in_init!==false;this.every={after:options.after||null,before:options.before||null,on:options.on||null};return this};Router.prototype.param=function(token,matcher){if(token[0]!==":"){token=":"+token}var compiled=new RegExp(token,"g");this.params[token]=function(str){return str.replace(compiled,matcher.source||matcher)};return this};Router.prototype.on=Router.prototype.route=function(method,path,route){var self=this;if(!route&&typeof path=="function"){route=path;path=method;method="on"}if(Array.isArray(path)){return path.forEach(function(p){self.on(method,p,route)})}if(path.source){path=path.source.replace(/\\\//gi,"/")}if(Array.isArray(method)){return method.forEach(function(m){self.on(m.toLowerCase(),path,route)})}path=path.split(new RegExp(this.delimiter));path=terminator(path,this.delimiter);this.insert(method,this.scope.concat(path),route)};Router.prototype.path=function(path,routesFn){var self=this,length=this.scope.length;if(path.source){path=path.source.replace(/\\\//gi,"/")}path=path.split(new RegExp(this.delimiter));path=terminator(path,this.delimiter);this.scope=this.scope.concat(path);routesFn.call(this,this);this.scope.splice(length,path.length)};Router.prototype.dispatch=function(method,path,callback){var self=this,fns=this.traverse(method,path.replace(QUERY_SEPARATOR,""),this.routes,""),invoked=this._invoked,after;this._invoked=true;if(!fns||fns.length===0){this.last=[];if(typeof this.notfound==="function"){this.invoke([this.notfound],{method:method,path:path},callback)}return false}if(this.recurse==="forward"){fns=fns.reverse()}function updateAndInvoke(){self.last=fns.after;self.invoke(self.runlist(fns),self,callback)}after=this.every&&this.every.after?[this.every.after].concat(this.last):[this.last];if(after&&after.length>0&&invoked){if(this.async){this.invoke(after,this,updateAndInvoke)}else{this.invoke(after,this);updateAndInvoke()}return true}updateAndInvoke();return true};Router.prototype.invoke=function(fns,thisArg,callback){var self=this;var apply;if(this.async){apply=function(fn,next){if(Array.isArray(fn)){return _asyncEverySeries(fn,apply,next)}else if(typeof fn=="function"){fn.apply(thisArg,(fns.captures||[]).concat(next))}};_asyncEverySeries(fns,apply,function(){if(callback){callback.apply(thisArg,arguments)}})}else{apply=function(fn){if(Array.isArray(fn)){return _every(fn,apply)}else if(typeof fn==="function"){return fn.apply(thisArg,fns.captures||[])}else if(typeof fn==="string"&&self.resource){self.resource[fn].apply(thisArg,fns.captures||[])}};_every(fns,apply)}};Router.prototype.traverse=function(method,path,routes,regexp,filter){var fns=[],current,exact,match,next,that;function filterRoutes(routes){if(!filter){return routes}function deepCopy(source){var result=[];for(var i=0;i<source.length;i++){result[i]=Array.isArray(source[i])?deepCopy(source[i]):source[i]}return result}function applyFilter(fns){for(var i=fns.length-1;i>=0;i--){if(Array.isArray(fns[i])){applyFilter(fns[i]);if(fns[i].length===0){fns.splice(i,1)}}else{if(!filter(fns[i])){fns.splice(i,1)}}}}var newRoutes=deepCopy(routes);newRoutes.matched=routes.matched;newRoutes.captures=routes.captures;newRoutes.after=routes.after.filter(filter);applyFilter(newRoutes);return newRoutes}if(path===this.delimiter&&routes[method]){next=[[routes.before,routes[method]].filter(Boolean)];next.after=[routes.after].filter(Boolean);next.matched=true;next.captures=[];return filterRoutes(next)}for(var r in routes){if(routes.hasOwnProperty(r)&&(!this._methods[r]||this._methods[r]&&typeof routes[r]==="object"&&!Array.isArray(routes[r]))){current=exact=regexp+this.delimiter+r;if(!this.strict){exact+="["+this.delimiter+"]?"}match=path.match(new RegExp("^"+exact));if(!match){continue}if(match[0]&&match[0]==path&&routes[r][method]){next=[[routes[r].before,routes[r][method]].filter(Boolean)];next.after=[routes[r].after].filter(Boolean);next.matched=true;next.captures=match.slice(1);if(this.recurse&&routes===this.routes){next.push([routes.before,routes.on].filter(Boolean));next.after=next.after.concat([routes.after].filter(Boolean))}return filterRoutes(next)}next=this.traverse(method,path,routes[r],current);if(next.matched){if(next.length>0){fns=fns.concat(next)}if(this.recurse){fns.push([routes[r].before,routes[r].on].filter(Boolean));next.after=next.after.concat([routes[r].after].filter(Boolean));if(routes===this.routes){fns.push([routes["before"],routes["on"]].filter(Boolean));next.after=next.after.concat([routes["after"]].filter(Boolean))}}fns.matched=true;fns.captures=next.captures;fns.after=next.after;return filterRoutes(fns)}}}return false};Router.prototype.insert=function(method,path,route,parent){var methodType,parentType,isArray,nested,part;path=path.filter(function(p){return p&&p.length>0});parent=parent||this.routes;part=path.shift();if(/\:|\*/.test(part)&&!/\\d|\\w/.test(part)){part=regifyString(part,this.params)}if(path.length>0){parent[part]=parent[part]||{};return this.insert(method,path,route,parent[part])}if(!part&&!path.length&&parent===this.routes){methodType=typeof parent[method];switch(methodType){case"function":parent[method]=[parent[method],route];return;case"object":parent[method].push(route);return;case"undefined":parent[method]=route;return}return}parentType=typeof parent[part];isArray=Array.isArray(parent[part]);if(parent[part]&&!isArray&&parentType=="object"){methodType=typeof parent[part][method];switch(methodType){case"function":parent[part][method]=[parent[part][method],route];return;case"object":parent[part][method].push(route);return;case"undefined":parent[part][method]=route;return}}else if(parentType=="undefined"){nested={};nested[method]=route;parent[part]=nested;return}throw new Error("Invalid route context: "+parentType)};Router.prototype.extend=function(methods){var self=this,len=methods.length,i;function extend(method){self._methods[method]=true;self[method]=function(){var extra=arguments.length===1?[method,""]:[method];self.on.apply(self,extra.concat(Array.prototype.slice.call(arguments)))}}for(i=0;i<len;i++){extend(methods[i])}};Router.prototype.runlist=function(fns){var runlist=this.every&&this.every.before?[this.every.before].concat(_flatten(fns)):_flatten(fns);if(this.every&&this.every.on){runlist.push(this.every.on)}runlist.captures=fns.captures;runlist.source=fns.source;return runlist};Router.prototype.mount=function(routes,path){if(!routes||typeof routes!=="object"||Array.isArray(routes)){return}var self=this;path=path||[];if(!Array.isArray(path)){path=path.split(self.delimiter)}function insertOrMount(route,local){var rename=route,parts=route.split(self.delimiter),routeType=typeof routes[route],isRoute=parts[0]===""||!self._methods[parts[0]],event=isRoute?"on":rename;if(isRoute){rename=rename.slice((rename.match(new RegExp("^"+self.delimiter))||[""])[0].length);parts.shift()}if(isRoute&&routeType==="object"&&!Array.isArray(routes[route])){local=local.concat(parts);self.mount(routes[route],local);return}if(isRoute){local=local.concat(rename.split(self.delimiter));local=terminator(local,self.delimiter)}self.insert(event,local,routes[route])}for(var route in routes){if(routes.hasOwnProperty(route)){insertOrMount(route,path.slice(0))}}}})(typeof exports==="object"?exports:window)},{}],16:[function(require,module,exports){(function(global,factory){if(typeof module==="object"&&typeof module.exports==="object"){module.exports=global.document?factory(global,true):function(w){if(!w.document){throw new Error("jQuery requires a window with a document")}return factory(w)}}else{factory(global)}})(typeof window!=="undefined"?window:this,function(window,noGlobal){var arr=[];var document=window.document;var slice=arr.slice;var concat=arr.concat;var push=arr.push;var indexOf=arr.indexOf;var class2type={};var toString=class2type.toString;var hasOwn=class2type.hasOwnProperty;var support={};var version="2.2.4",jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(num){return num!=null?num<0?this[num+this.length]:this[num]:slice.call(this)},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);ret.prevObject=this;ret.context=this.context;return ret},each:function(callback){return jQuery.each(this,callback)},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(j>=0&&j<len?[this[j]]:[])},end:function(){return this.prevObject||this.constructor()},push:push,sort:arr.sort,splice:arr.splice};jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;if(typeof target==="boolean"){deep=target;target=arguments[i]||{};i++}if(typeof target!=="object"&&!jQuery.isFunction(target)){target={}}if(i===length){target=this;i--}for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue}if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&jQuery.isArray(src)?src:[]}else{clone=src&&jQuery.isPlainObject(src)?src:{}}target[name]=jQuery.extend(deep,clone,copy)}else if(copy!==undefined){target[name]=copy}}}}return target};jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:true,error:function(msg){throw new Error(msg)},noop:function(){},isFunction:function(obj){return jQuery.type(obj)==="function"},isArray:Array.isArray,isWindow:function(obj){return obj!=null&&obj===obj.window},isNumeric:function(obj){var realStringObj=obj&&obj.toString();return!jQuery.isArray(obj)&&realStringObj-parseFloat(realStringObj)+1>=0},isPlainObject:function(obj){var key;if(jQuery.type(obj)!=="object"||obj.nodeType||jQuery.isWindow(obj)){return false}if(obj.constructor&&!hasOwn.call(obj,"constructor")&&!hasOwn.call(obj.constructor.prototype||{},"isPrototypeOf")){return false}for(key in obj){}return key===undefined||hasOwn.call(obj,key)},isEmptyObject:function(obj){var name;for(name in obj){return false}return true},type:function(obj){if(obj==null){return obj+""}return typeof obj==="object"||typeof obj==="function"?class2type[toString.call(obj)]||"object":typeof obj},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code);if(code){if(code.indexOf("use strict")===1){script=document.createElement("script");script.text=code;document.head.appendChild(script).parentNode.removeChild(script)}else{indirect(code)}}},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback){var length,i=0;if(isArrayLike(obj)){length=obj.length;for(;i<length;i++){if(callback.call(obj[i],i,obj[i])===false){break}}}else{for(i in obj){if(callback.call(obj[i],i,obj[i])===false){break}}}return obj},trim:function(text){return text==null?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var ret=results||[];if(arr!=null){if(isArrayLike(Object(arr))){jQuery.merge(ret,typeof arr==="string"?[arr]:arr)}else{push.call(ret,arr)}}return ret},inArray:function(elem,arr,i){return arr==null?-1:indexOf.call(arr,elem,i)},merge:function(first,second){var len=+second.length,j=0,i=first.length;for(;j<len;j++){first[i++]=second[j]}first.length=i;return first},grep:function(elems,callback,invert){var callbackInverse,matches=[],i=0,length=elems.length,callbackExpect=!invert;for(;i<length;i++){callbackInverse=!callback(elems[i],i);if(callbackInverse!==callbackExpect){matches.push(elems[i])}}return matches},map:function(elems,callback,arg){var length,value,i=0,ret=[];if(isArrayLike(elems)){length=elems.length;for(;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret.push(value)}}}else{for(i in elems){value=callback(elems[i],i,arg);if(value!=null){ret.push(value)}}}return concat.apply([],ret)},guid:1,proxy:function(fn,context){var tmp,args,proxy;if(typeof context==="string"){tmp=fn[context];context=fn;fn=tmp}if(!jQuery.isFunction(fn)){return undefined}args=slice.call(arguments,2);proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))};proxy.guid=fn.guid=fn.guid||jQuery.guid++;return proxy},now:Date.now,support:support});if(typeof Symbol==="function"){jQuery.fn[Symbol.iterator]=arr[Symbol.iterator]}jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});function isArrayLike(obj){var length=!!obj&&"length"in obj&&obj.length,type=jQuery.type(obj);if(type==="function"||jQuery.isWindow(obj)){return false}return type==="array"||length===0||typeof length==="number"&&length>0&&length-1 in obj}var Sizzle=function(window){
var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+1*new Date,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){if(a===b){hasDuplicate=true}return 0},MAX_NEGATIVE=1<<31,hasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=function(list,elem){var i=0,len=list.length;for(;i<len;i++){if(list[i]===elem){return i}}return-1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",identifier="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",attributes="\\["+whitespace+"*("+identifier+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+whitespace+"*\\]",pseudos=":("+identifier+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|"+".*"+")\\)|)",rwhitespace=new RegExp(whitespace+"+","g"),rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*?)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+identifier+")"),CLASS:new RegExp("^\\.("+identifier+")"),TAG:new RegExp("^("+identifier+"|[*])"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),bool:new RegExp("^(?:"+booleans+")$","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,rescape=/'|\\/g,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-65536;return high!==high||escapedWhitespace?escaped:high<0?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,high&1023|56320)},unloadHandler=function(){setDocument()};try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes);arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){var j=target.length,i=0;while(target[j++]=els[i++]){}target.length=j-1}}}function Sizzle(selector,context,results,seed){var m,i,elem,nid,nidselect,match,groups,newSelector,newContext=context&&context.ownerDocument,nodeType=context?context.nodeType:9;results=results||[];if(typeof selector!=="string"||!selector||nodeType!==1&&nodeType!==9&&nodeType!==11){return results}if(!seed){if((context?context.ownerDocument||context:preferredDoc)!==document){setDocument(context)}context=context||document;if(documentIsHTML){if(nodeType!==11&&(match=rquickExpr.exec(selector))){if(m=match[1]){if(nodeType===9){if(elem=context.getElementById(m)){if(elem.id===m){results.push(elem);return results}}else{return results}}else{if(newContext&&(elem=newContext.getElementById(m))&&contains(context,elem)&&elem.id===m){results.push(elem);return results}}}else if(match[2]){push.apply(results,context.getElementsByTagName(selector));return results}else if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName){push.apply(results,context.getElementsByClassName(m));return results}}if(support.qsa&&!compilerCache[selector+" "]&&(!rbuggyQSA||!rbuggyQSA.test(selector))){if(nodeType!==1){newContext=context;newSelector=selector}else if(context.nodeName.toLowerCase()!=="object"){if(nid=context.getAttribute("id")){nid=nid.replace(rescape,"\\$&")}else{context.setAttribute("id",nid=expando)}groups=tokenize(selector);i=groups.length;nidselect=ridentifier.test(nid)?"#"+nid:"[id='"+nid+"']";while(i--){groups[i]=nidselect+" "+toSelector(groups[i])}newSelector=groups.join(",");newContext=rsibling.test(selector)&&testContext(context.parentNode)||context}if(newSelector){try{push.apply(results,newContext.querySelectorAll(newSelector));return results}catch(qsaError){}finally{if(nid===expando){context.removeAttribute("id")}}}}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function createCache(){var keys=[];function cache(key,value){if(keys.push(key+" ")>Expr.cacheLength){delete cache[keys.shift()]}return cache[key+" "]=value}return cache}function markFunction(fn){fn[expando]=true;return fn}function assert(fn){var div=document.createElement("div");try{return!!fn(div)}catch(e){return false}finally{if(div.parentNode){div.parentNode.removeChild(div)}div=null}}function addHandle(attrs,handler){var arr=attrs.split("|"),i=arr.length;while(i--){Expr.attrHandle[arr[i]]=handler}}function siblingCheck(a,b){var cur=b&&a,diff=cur&&a.nodeType===1&&b.nodeType===1&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff){return diff}if(cur){while(cur=cur.nextSibling){if(cur===b){return-1}}}return a?1:-1}function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){argument=+argument;return markFunction(function(seed,matches){var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;while(i--){if(seed[j=matchIndexes[i]]){seed[j]=!(matches[j]=seed[j])}}})})}function testContext(context){return context&&typeof context.getElementsByTagName!=="undefined"&&context}support=Sizzle.support={};isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?documentElement.nodeName!=="HTML":false};setDocument=Sizzle.setDocument=function(node){var hasCompare,parent,doc=node?node.ownerDocument||node:preferredDoc;if(doc===document||doc.nodeType!==9||!doc.documentElement){return document}document=doc;docElem=document.documentElement;documentIsHTML=!isXML(document);if((parent=document.defaultView)&&parent.top!==parent){if(parent.addEventListener){parent.addEventListener("unload",unloadHandler,false)}else if(parent.attachEvent){parent.attachEvent("onunload",unloadHandler)}}support.attributes=assert(function(div){div.className="i";return!div.getAttribute("className")});support.getElementsByTagName=assert(function(div){div.appendChild(document.createComment(""));return!div.getElementsByTagName("*").length});support.getElementsByClassName=rnative.test(document.getElementsByClassName);support.getById=assert(function(div){docElem.appendChild(div).id=expando;return!document.getElementsByName||!document.getElementsByName(expando).length});if(support.getById){Expr.find["ID"]=function(id,context){if(typeof context.getElementById!=="undefined"&&documentIsHTML){var m=context.getElementById(id);return m?[m]:[]}};Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}}}else{delete Expr.find["ID"];Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=typeof elem.getAttributeNode!=="undefined"&&elem.getAttributeNode("id");return node&&node.value===attrId}}}Expr.find["TAG"]=support.getElementsByTagName?function(tag,context){if(typeof context.getElementsByTagName!=="undefined"){return context.getElementsByTagName(tag)}else if(support.qsa){return context.querySelectorAll(tag)}}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if(tag==="*"){while(elem=results[i++]){if(elem.nodeType===1){tmp.push(elem)}}return tmp}return results};Expr.find["CLASS"]=support.getElementsByClassName&&function(className,context){if(typeof context.getElementsByClassName!=="undefined"&&documentIsHTML){return context.getElementsByClassName(className)}};rbuggyMatches=[];rbuggyQSA=[];if(support.qsa=rnative.test(document.querySelectorAll)){assert(function(div){docElem.appendChild(div).innerHTML="<a id='"+expando+"'></a>"+"<select id='"+expando+"-\r\\' msallowcapture=''>"+"<option selected=''></option></select>";if(div.querySelectorAll("[msallowcapture^='']").length){rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")")}if(!div.querySelectorAll("[selected]").length){rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")")}if(!div.querySelectorAll("[id~="+expando+"-]").length){rbuggyQSA.push("~=")}if(!div.querySelectorAll(":checked").length){rbuggyQSA.push(":checked")}if(!div.querySelectorAll("a#"+expando+"+*").length){rbuggyQSA.push(".#.+[+~]")}});assert(function(div){var input=document.createElement("input");input.setAttribute("type","hidden");div.appendChild(input).setAttribute("name","D");if(div.querySelectorAll("[name=d]").length){rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?=")}if(!div.querySelectorAll(":enabled").length){rbuggyQSA.push(":enabled",":disabled")}div.querySelectorAll("*,:x");rbuggyQSA.push(",.*:")})}if(support.matchesSelector=rnative.test(matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector)){assert(function(div){support.disconnectedMatch=matches.call(div,"div");matches.call(div,"[s!='']:x");rbuggyMatches.push("!=",pseudos)})}rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|"));rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|"));hasCompare=rnative.test(docElem.compareDocumentPosition);contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&bup.nodeType===1&&(adown.contains?adown.contains(bup):a.compareDocumentPosition&&a.compareDocumentPosition(bup)&16))}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return true}}}return false};sortOrder=hasCompare?function(a,b){if(a===b){hasDuplicate=true;return 0}var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;if(compare){return compare}compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;if(compare&1||!support.sortDetached&&b.compareDocumentPosition(a)===compare){if(a===document||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)){return-1}if(b===document||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)){return 1}return sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0}return compare&4?-1:1}:function(a,b){if(a===b){hasDuplicate=true;return 0}var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup){return a===document?-1:b===document?1:aup?-1:bup?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0}else if(aup===bup){return siblingCheck(a,b)}cur=a;while(cur=cur.parentNode){ap.unshift(cur)}cur=b;while(cur=cur.parentNode){bp.unshift(cur)}while(ap[i]===bp[i]){i++}return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0};return document};Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)};Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document){setDocument(elem)}expr=expr.replace(rattributeQuotes,"='$1']");if(support.matchesSelector&&documentIsHTML&&!compilerCache[expr+" "]&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr))){try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&elem.document.nodeType!==11){return ret}}catch(e){}}return Sizzle(expr,document,null,[elem]).length>0};Sizzle.contains=function(context,elem){if((context.ownerDocument||context)!==document){setDocument(context)}return contains(context,elem)};Sizzle.attr=function(elem,name){if((elem.ownerDocument||elem)!==document){setDocument(elem)}var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):undefined;return val!==undefined?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null};Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)};Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;hasDuplicate=!support.detectDuplicates;sortInput=!support.sortStable&&results.slice(0);results.sort(sortOrder);if(hasDuplicate){while(elem=results[i++]){if(elem===results[i]){j=duplicates.push(i)}}while(j--){results.splice(duplicates[j],1)}}sortInput=null;return results};getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(!nodeType){while(node=elem[i++]){ret+=getText(node)}}else if(nodeType===1||nodeType===9||nodeType===11){if(typeof elem.textContent==="string"){return elem.textContent}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem)}}}else if(nodeType===3||nodeType===4){return elem.nodeValue}return ret};Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){match[1]=match[1].replace(runescape,funescape);match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape);if(match[2]==="~="){match[3]=" "+match[3]+" "}return match.slice(0,4)},CHILD:function(match){match[1]=match[1].toLowerCase();if(match[1].slice(0,3)==="nth"){if(!match[3]){Sizzle.error(match[0])}match[4]=+(match[4]?match[5]+(match[6]||1):2*(match[3]==="even"||match[3]==="odd"));match[5]=+(match[7]+match[8]||match[3]==="odd")}else if(match[3]){Sizzle.error(match[0])}return match},PSEUDO:function(match){var excess,unquoted=!match[6]&&match[2];if(matchExpr["CHILD"].test(match[0])){return null}if(match[3]){match[2]=match[4]||match[5]||""}else if(unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,true))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)){match[0]=match[0].slice(0,excess);match[2]=unquoted.slice(0,excess)}return match.slice(0,3)}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return nodeNameSelector==="*"?function(){return true}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test(typeof elem.className==="string"&&elem.className||typeof elem.getAttribute!=="undefined"&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);if(result==null){return operator==="!="}if(!operator){return true}result+="";return operator==="="?result===check:operator==="!="?result!==check:operator==="^="?check&&result.indexOf(check)===0:operator==="*="?check&&result.indexOf(check)>-1:operator==="$="?check&&result.slice(-check.length)===check:operator==="~="?(" "+result.replace(rwhitespace," ")+" ").indexOf(check)>-1:operator==="|="?result===check||result.slice(0,check.length+1)===check+"-":false}},CHILD:function(type,what,argument,first,last){var simple=type.slice(0,3)!=="nth",forward=type.slice(-4)!=="last",ofType=what==="of-type";return first===1&&last===0?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,uniqueCache,outerCache,node,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType,diff=false;if(parent){if(simple){while(dir){node=elem;while(node=node[dir]){if(ofType?node.nodeName.toLowerCase()===name:node.nodeType===1){return false}}start=dir=type==="only"&&!start&&"nextSibling"}return true}start=[forward?parent.firstChild:parent.lastChild];if(forward&&useCache){node=parent;outerCache=node[expando]||(node[expando]={});uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={});cache=uniqueCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=nodeIndex&&cache[2];node=nodeIndex&&parent.childNodes[nodeIndex];while(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop()){if(node.nodeType===1&&++diff&&node===elem){uniqueCache[type]=[dirruns,nodeIndex,diff];break}}}else{if(useCache){node=elem;outerCache=node[expando]||(node[expando]={});uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={});cache=uniqueCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=nodeIndex}if(diff===false){while(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop()){if((ofType?node.nodeName.toLowerCase()===name:node.nodeType===1)&&++diff){if(useCache){outerCache=node[expando]||(node[expando]={});uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={});uniqueCache[type]=[dirruns,diff]}if(node===elem){break}}}}}diff-=last;return diff===first||diff%first===0&&diff/first>=0}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);if(fn[expando]){return fn(argument)}if(fn.length>1){args=[pseudo,pseudo,"",argument];return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){var idx,matched=fn(seed,argument),i=matched.length;while(i--){idx=indexOf(seed,matched[i]);seed[idx]=!(matches[idx]=matched[i])}}):function(elem){return fn(elem,0,args)}}return fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;while(i--){if(elem=unmatched[i]){seed[i]=!(matches[i]=elem)}}}):function(elem,context,xml){input[0]=elem;matcher(input,null,xml,results);input[0]=null;return!results.pop()}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),contains:markFunction(function(text){text=text.replace(runescape,funescape);return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),lang:markFunction(function(lang){if(!ridentifier.test(lang||"")){Sizzle.error("unsupported lang: "+lang)}lang=lang.replace(runescape,funescape).toLowerCase();return function(elem){var elemLang;do{if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang")){elemLang=elemLang.toLowerCase();return elemLang===lang||elemLang.indexOf(lang+"-")===0}}while((elem=elem.parentNode)&&elem.nodeType===1);return false}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:function(elem){return elem.disabled===false},disabled:function(elem){return elem.disabled===true},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return nodeName==="input"&&!!elem.checked||nodeName==="option"&&!!elem.selected},selected:function(elem){if(elem.parentNode){elem.parentNode.selectedIndex}return elem.selected===true},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling){if(elem.nodeType<6){return false}}return true},parent:function(elem){return!Expr.pseudos["empty"](elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type==="button"||name==="button"},text:function(elem){var attr;return elem.nodeName.toLowerCase()==="input"&&elem.type==="text"&&((attr=elem.getAttribute("type"))==null||attr.toLowerCase()==="text")},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[argument<0?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){var i=0;for(;i<length;i+=2){matchIndexes.push(i)}return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){var i=1;for(;i<length;i+=2){matchIndexes.push(i)}return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;--i>=0;){matchIndexes.push(i)}return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;++i<length;){matchIndexes.push(i)}return matchIndexes})}};Expr.pseudos["nth"]=Expr.pseudos["eq"];for(i in{radio:true,checkbox:true,file:true,password:true,image:true}){Expr.pseudos[i]=createInputPseudo(i)}for(i in{submit:true,reset:true}){Expr.pseudos[i]=createButtonPseudo(i)}function setFilters(){}setFilters.prototype=Expr.filters=Expr.pseudos;Expr.setFilters=new setFilters;tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached){return parseOnly?0:cached.slice(0)}soFar=selector;groups=[];preFilters=Expr.preFilter;while(soFar){if(!matched||(match=rcomma.exec(soFar))){if(match){soFar=soFar.slice(match[0].length)||soFar}groups.push(tokens=[])}matched=false;if(match=rcombinators.exec(soFar)){matched=match.shift();tokens.push({value:matched,type:match[0].replace(rtrim," ")});soFar=soFar.slice(matched.length)}for(type in Expr.filter){if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match)))){matched=match.shift();tokens.push({value:matched,type:type,matches:match});soFar=soFar.slice(matched.length)}}if(!matched){break}}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)};function toSelector(tokens){var i=0,len=tokens.length,selector="";for(;i<len;i++){selector+=tokens[i].value}return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&dir==="parentNode",doneName=done++;return combinator.first?function(elem,context,xml){while(elem=elem[dir]){if(elem.nodeType===1||checkNonElements){return matcher(elem,context,xml)}}}:function(elem,context,xml){var oldCache,uniqueCache,outerCache,newCache=[dirruns,doneName];if(xml){while(elem=elem[dir]){if(elem.nodeType===1||checkNonElements){if(matcher(elem,context,xml)){return true}}}}else{while(elem=elem[dir]){if(elem.nodeType===1||checkNonElements){outerCache=elem[expando]||(elem[expando]={});uniqueCache=outerCache[elem.uniqueID]||(outerCache[elem.uniqueID]={});if((oldCache=uniqueCache[dir])&&oldCache[0]===dirruns&&oldCache[1]===doneName){return newCache[2]=oldCache[2]}else{uniqueCache[dir]=newCache;if(newCache[2]=matcher(elem,context,xml)){return true}}}}}}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){var i=matchers.length;while(i--){if(!matchers[i](elem,context,xml)){return false}}return true}:matchers[0]}function multipleContexts(selector,contexts,results){var i=0,len=contexts.length;for(;i<len;i++){Sizzle(selector,contexts[i],results)}return results}function condense(unmatched,map,filter,context,xml){var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=map!=null;for(;i<len;i++){if(elem=unmatched[i]){if(!filter||filter(elem,context,xml)){newUnmatched.push(elem);if(mapped){map.push(i)}}}}return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){if(postFilter&&!postFilter[expando]){postFilter=setMatcher(postFilter)}if(postFinder&&!postFinder[expando]){postFinder=setMatcher(postFinder,postSelector)}return markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=preFilter&&(seed||!selector)?condense(elems,preMap,preFilter,context,xml):elems,matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher){matcher(matcherIn,matcherOut,context,xml)}if(postFilter){temp=condense(matcherOut,postMap);postFilter(temp,[],context,xml);i=temp.length;while(i--){if(elem=temp[i]){matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem)}}}if(seed){if(postFinder||preFilter){if(postFinder){temp=[];i=matcherOut.length;while(i--){if(elem=matcherOut[i]){temp.push(matcherIn[i]=elem)}}postFinder(null,matcherOut=[],temp,xml)}i=matcherOut.length;while(i--){if((elem=matcherOut[i])&&(temp=postFinder?indexOf(seed,elem):preMap[i])>-1){seed[temp]=!(results[temp]=elem)}}}}else{matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut);if(postFinder){postFinder(null,results,matcherOut,xml)}else{push.apply(results,matcherOut)}}})}function matcherFromTokens(tokens){var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,true),matchAnyContext=addCombinator(function(elem){return indexOf(checkContext,elem)>-1},implicitRelative,true),matchers=[function(elem,context,xml){var ret=!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));checkContext=null;return ret}];for(;i<len;i++){if(matcher=Expr.relative[tokens[i].type]){matchers=[addCombinator(elementMatcher(matchers),matcher)]}else{matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches);if(matcher[expando]){j=++i;for(;j<len;j++){if(Expr.relative[tokens[j].type]){break}}return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:tokens[i-2].type===" "?"*":""})).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens(tokens=tokens.slice(j)),j<len&&toSelector(tokens))}matchers.push(matcher)}}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find["TAG"]("*",outermost),dirrunsUnique=dirruns+=contextBackup==null?1:Math.random()||.1,len=elems.length;if(outermost){outermostContext=context===document||context||outermost}for(;i!==len&&(elem=elems[i])!=null;i++){if(byElement&&elem){j=0;if(!context&&elem.ownerDocument!==document){setDocument(elem);xml=!documentIsHTML}while(matcher=elementMatchers[j++]){if(matcher(elem,context||document,xml)){results.push(elem);break}}if(outermost){dirruns=dirrunsUnique}}if(bySet){if(elem=!matcher&&elem){matchedCount--}if(seed){unmatched.push(elem)}}}matchedCount+=i;if(bySet&&i!==matchedCount){j=0;while(matcher=setMatchers[j++]){matcher(unmatched,setMatched,context,xml)}if(seed){if(matchedCount>0){while(i--){if(!(unmatched[i]||setMatched[i])){setMatched[i]=pop.call(results)}}}setMatched=condense(setMatched)}push.apply(results,setMatched);if(outermost&&!seed&&setMatched.length>0&&matchedCount+setMatchers.length>1){Sizzle.uniqueSort(results)}}if(outermost){dirruns=dirrunsUnique;outermostContext=contextBackup}return unmatched};return bySet?markFunction(superMatcher):superMatcher}compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){if(!match){match=tokenize(selector)}i=match.length;while(i--){cached=matcherFromTokens(match[i]);if(cached[expando]){setMatchers.push(cached)}else{elementMatchers.push(cached)}}cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers));cached.selector=selector}return cached};select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled=typeof selector==="function"&&selector,match=!seed&&tokenize(selector=compiled.selector||selector);results=results||[];if(match.length===1){tokens=match[0]=match[0].slice(0);if(tokens.length>2&&(token=tokens[0]).type==="ID"&&support.getById&&context.nodeType===9&&documentIsHTML&&Expr.relative[tokens[1].type]){context=(Expr.find["ID"](token.matches[0].replace(runescape,funescape),context)||[])[0];if(!context){return results}else if(compiled){context=context.parentNode}selector=selector.slice(tokens.shift().value.length)}i=matchExpr["needsContext"].test(selector)?0:tokens.length;while(i--){token=tokens[i];if(Expr.relative[type=token.type]){break}if(find=Expr.find[type]){if(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context)){tokens.splice(i,1);selector=seed.length&&toSelector(tokens);if(!selector){push.apply(results,seed);return results}break}}}}(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,!context||rsibling.test(selector)&&testContext(context.parentNode)||context);return results};support.sortStable=expando.split("").sort(sortOrder).join("")===expando;support.detectDuplicates=!!hasDuplicate;setDocument();support.sortDetached=assert(function(div1){return div1.compareDocumentPosition(document.createElement("div"))&1});if(!assert(function(div){div.innerHTML="<a href='#'></a>";return div.firstChild.getAttribute("href")==="#"})){addHandle("type|href|height|width",function(elem,name,isXML){if(!isXML){return elem.getAttribute(name,name.toLowerCase()==="type"?1:2)}})}if(!support.attributes||!assert(function(div){div.innerHTML="<input/>";div.firstChild.setAttribute("value","");return div.firstChild.getAttribute("value")===""})){addHandle("value",function(elem,name,isXML){if(!isXML&&elem.nodeName.toLowerCase()==="input"){return elem.defaultValue}})}if(!assert(function(div){return div.getAttribute("disabled")==null})){addHandle(booleans,function(elem,name,isXML){var val;if(!isXML){return elem[name]===true?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null}})}return Sizzle}(window);jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.pseudos;jQuery.uniqueSort=jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains;var dir=function(elem,dir,until){var matched=[],truncate=until!==undefined;while((elem=elem[dir])&&elem.nodeType!==9){if(elem.nodeType===1){if(truncate&&jQuery(elem).is(until)){break}matched.push(elem)}}return matched};var siblings=function(n,elem){var matched=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){matched.push(n)}}return matched};var rneedsContext=jQuery.expr.match.needsContext;var rsingleTag=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/;var risSimple=/^.[^:#\[\.,]*$/;function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not})}if(qualifier.nodeType){return jQuery.grep(elements,function(elem){return elem===qualifier!==not})}if(typeof qualifier==="string"){if(risSimple.test(qualifier)){return jQuery.filter(qualifier,elements,not)}qualifier=jQuery.filter(qualifier,elements)}return jQuery.grep(elements,function(elem){return indexOf.call(qualifier,elem)>-1!==not})}jQuery.filter=function(expr,elems,not){var elem=elems[0]
;if(not){expr=":not("+expr+")"}return elems.length===1&&elem.nodeType===1?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return elem.nodeType===1}))};jQuery.fn.extend({find:function(selector){var i,len=this.length,ret=[],self=this;if(typeof selector!=="string"){return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++){if(jQuery.contains(self[i],this)){return true}}}))}for(i=0;i<len;i++){jQuery.find(selector,self[i],ret)}ret=this.pushStack(len>1?jQuery.unique(ret):ret);ret.selector=this.selector?this.selector+" "+selector:selector;return ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],false))},not:function(selector){return this.pushStack(winnow(this,selector||[],true))},is:function(selector){return!!winnow(this,typeof selector==="string"&&rneedsContext.test(selector)?jQuery(selector):selector||[],false).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(selector,context,root){var match,elem;if(!selector){return this}root=root||rootjQuery;if(typeof selector==="string"){if(selector[0]==="<"&&selector[selector.length-1]===">"&&selector.length>=3){match=[null,selector,null]}else{match=rquickExpr.exec(selector)}if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context;jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,true));if(rsingleTag.test(match[1])&&jQuery.isPlainObject(context)){for(match in context){if(jQuery.isFunction(this[match])){this[match](context[match])}else{this.attr(match,context[match])}}}return this}else{elem=document.getElementById(match[2]);if(elem&&elem.parentNode){this.length=1;this[0]=elem}this.context=document;this.selector=selector;return this}}else if(!context||context.jquery){return(context||root).find(selector)}else{return this.constructor(context).find(selector)}}else if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this}else if(jQuery.isFunction(selector)){return root.ready!==undefined?root.ready(selector):selector(jQuery)}if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context}return jQuery.makeArray(selector,this)};init.prototype=jQuery.fn;rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:true,contents:true,next:true,prev:true};jQuery.fn.extend({has:function(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){var i=0;for(;i<l;i++){if(jQuery.contains(this,targets[i])){return true}}})},closest:function(selectors,context){var cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||typeof selectors!=="string"?jQuery(selectors,context||this.context):0;for(;i<l;i++){for(cur=this[i];cur&&cur!==context;cur=cur.parentNode){if(cur.nodeType<11&&(pos?pos.index(cur)>-1:cur.nodeType===1&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}}}return this.pushStack(matched.length>1?jQuery.uniqueSort(matched):matched)},index:function(elem){if(!elem){return this[0]&&this[0].parentNode?this.first().prevAll().length:-1}if(typeof elem==="string"){return indexOf.call(jQuery(elem),this[0])}return indexOf.call(this,elem.jquery?elem[0]:elem)},add:function(selector,context){return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector))}});function sibling(cur,dir){while((cur=cur[dir])&&cur.nodeType!==1){}return cur}jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null},parents:function(elem){return dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return dir(elem,"nextSibling")},prevAll:function(elem){return dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return dir(elem,"previousSibling",until)},siblings:function(elem){return siblings((elem.parentNode||{}).firstChild,elem)},children:function(elem){return siblings(elem.firstChild)},contents:function(elem){return elem.contentDocument||jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);if(name.slice(-5)!=="Until"){selector=until}if(selector&&typeof selector==="string"){matched=jQuery.filter(selector,matched)}if(this.length>1){if(!guaranteedUnique[name]){jQuery.uniqueSort(matched)}if(rparentsprev.test(name)){matched.reverse()}}return this.pushStack(matched)}});var rnotwhite=/\S+/g;function createOptions(options){var object={};jQuery.each(options.match(rnotwhite)||[],function(_,flag){object[flag]=true});return object}jQuery.Callbacks=function(options){options=typeof options==="string"?createOptions(options):jQuery.extend({},options);var firing,memory,fired,locked,list=[],queue=[],firingIndex=-1,fire=function(){locked=options.once;fired=firing=true;for(;queue.length;firingIndex=-1){memory=queue.shift();while(++firingIndex<list.length){if(list[firingIndex].apply(memory[0],memory[1])===false&&options.stopOnFalse){firingIndex=list.length;memory=false}}}if(!options.memory){memory=false}firing=false;if(locked){if(memory){list=[]}else{list=""}}},self={add:function(){if(list){if(memory&&!firing){firingIndex=list.length-1;queue.push(memory)}(function add(args){jQuery.each(args,function(_,arg){if(jQuery.isFunction(arg)){if(!options.unique||!self.has(arg)){list.push(arg)}}else if(arg&&arg.length&&jQuery.type(arg)!=="string"){add(arg)}})})(arguments);if(memory&&!firing){fire()}}return this},remove:function(){jQuery.each(arguments,function(_,arg){var index;while((index=jQuery.inArray(arg,list,index))>-1){list.splice(index,1);if(index<=firingIndex){firingIndex--}}});return this},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:list.length>0},empty:function(){if(list){list=[]}return this},disable:function(){locked=queue=[];list=memory="";return this},disabled:function(){return!list},lock:function(){locked=queue=[];if(!memory){list=memory=""}return this},locked:function(){return!!locked},fireWith:function(context,args){if(!locked){args=args||[];args=[context,args.slice?args.slice():args];queue.push(args);if(!firing){fire()}}return this},fire:function(){self.fireWith(this,arguments);return this},fired:function(){return!!fired}};return self};jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){deferred.done(arguments).fail(arguments);return this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);if(returned&&jQuery.isFunction(returned.promise)){returned.promise().progress(newDefer.notify).done(newDefer.resolve).fail(newDefer.reject)}else{newDefer[tuple[0]+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)}})});fns=null}).promise()},promise:function(obj){return obj!=null?jQuery.extend(obj,promise):promise}},deferred={};promise.pipe=promise.then;jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add;if(stateString){list.add(function(){state=stateString},tuples[i^1][2].disable,tuples[2][2].lock)}deferred[tuple[0]]=function(){deferred[tuple[0]+"With"](this===deferred?promise:this,arguments);return this};deferred[tuple[0]+"With"]=list.fireWith});promise.promise(deferred);if(func){func.call(deferred,deferred)}return deferred},when:function(subordinate){var i=0,resolveValues=slice.call(arguments),length=resolveValues.length,remaining=length!==1||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=remaining===1?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this;values[i]=arguments.length>1?slice.call(arguments):value;if(values===progressValues){deferred.notifyWith(contexts,values)}else if(!--remaining){deferred.resolveWith(contexts,values)}}},progressValues,progressContexts,resolveContexts;if(length>1){progressValues=new Array(length);progressContexts=new Array(length);resolveContexts=new Array(length);for(;i<length;i++){if(resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)){resolveValues[i].promise().progress(updateFunc(i,progressContexts,progressValues)).done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject)}else{--remaining}}}if(!remaining){deferred.resolveWith(resolveContexts,resolveValues)}return deferred.promise()}});var readyList;jQuery.fn.ready=function(fn){jQuery.ready.promise().done(fn);return this};jQuery.extend({isReady:false,readyWait:1,holdReady:function(hold){if(hold){jQuery.readyWait++}else{jQuery.ready(true)}},ready:function(wait){if(wait===true?--jQuery.readyWait:jQuery.isReady){return}jQuery.isReady=true;if(wait!==true&&--jQuery.readyWait>0){return}readyList.resolveWith(document,[jQuery]);if(jQuery.fn.triggerHandler){jQuery(document).triggerHandler("ready");jQuery(document).off("ready")}}});function completed(){document.removeEventListener("DOMContentLoaded",completed);window.removeEventListener("load",completed);jQuery.ready()}jQuery.ready.promise=function(obj){if(!readyList){readyList=jQuery.Deferred();if(document.readyState==="complete"||document.readyState!=="loading"&&!document.documentElement.doScroll){window.setTimeout(jQuery.ready)}else{document.addEventListener("DOMContentLoaded",completed);window.addEventListener("load",completed)}}return readyList.promise(obj)};jQuery.ready.promise();var access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=key==null;if(jQuery.type(key)==="object"){chainable=true;for(i in key){access(elems,fn,i,key[i],true,emptyGet,raw)}}else if(value!==undefined){chainable=true;if(!jQuery.isFunction(value)){raw=true}if(bulk){if(raw){fn.call(elems,value);fn=null}else{bulk=fn;fn=function(elem,key,value){return bulk.call(jQuery(elem),value)}}}if(fn){for(;i<len;i++){fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)))}}}return chainable?elems:bulk?fn.call(elems):len?fn(elems[0],key):emptyGet};var acceptData=function(owner){return owner.nodeType===1||owner.nodeType===9||!+owner.nodeType};function Data(){this.expando=jQuery.expando+Data.uid++}Data.uid=1;Data.prototype={register:function(owner,initial){var value=initial||{};if(owner.nodeType){owner[this.expando]=value}else{Object.defineProperty(owner,this.expando,{value:value,writable:true,configurable:true})}return owner[this.expando]},cache:function(owner){if(!acceptData(owner)){return{}}var value=owner[this.expando];if(!value){value={};if(acceptData(owner)){if(owner.nodeType){owner[this.expando]=value}else{Object.defineProperty(owner,this.expando,{value:value,configurable:true})}}}return value},set:function(owner,data,value){var prop,cache=this.cache(owner);if(typeof data==="string"){cache[data]=value}else{for(prop in data){cache[prop]=data[prop]}}return cache},get:function(owner,key){return key===undefined?this.cache(owner):owner[this.expando]&&owner[this.expando][key]},access:function(owner,key,value){var stored;if(key===undefined||key&&typeof key==="string"&&value===undefined){stored=this.get(owner,key);return stored!==undefined?stored:this.get(owner,jQuery.camelCase(key))}this.set(owner,key,value);return value!==undefined?value:key},remove:function(owner,key){var i,name,camel,cache=owner[this.expando];if(cache===undefined){return}if(key===undefined){this.register(owner)}else{if(jQuery.isArray(key)){name=key.concat(key.map(jQuery.camelCase))}else{camel=jQuery.camelCase(key);if(key in cache){name=[key,camel]}else{name=camel;name=name in cache?[name]:name.match(rnotwhite)||[]}}i=name.length;while(i--){delete cache[name[i]]}}if(key===undefined||jQuery.isEmptyObject(cache)){if(owner.nodeType){owner[this.expando]=undefined}else{delete owner[this.expando]}}},hasData:function(owner){var cache=owner[this.expando];return cache!==undefined&&!jQuery.isEmptyObject(cache)}};var dataPriv=new Data;var dataUser=new Data;var rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/[A-Z]/g;function dataAttr(elem,key,data){var name;if(data===undefined&&elem.nodeType===1){name="data-"+key.replace(rmultiDash,"-$&").toLowerCase();data=elem.getAttribute(name);if(typeof data==="string"){try{data=data==="true"?true:data==="false"?false:data==="null"?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}dataUser.set(elem,key,data)}else{data=undefined}}return data}jQuery.extend({hasData:function(elem){return dataUser.hasData(elem)||dataPriv.hasData(elem)},data:function(elem,name,data){return dataUser.access(elem,name,data)},removeData:function(elem,name){dataUser.remove(elem,name)},_data:function(elem,name,data){return dataPriv.access(elem,name,data)},_removeData:function(elem,name){dataPriv.remove(elem,name)}});jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(key===undefined){if(this.length){data=dataUser.get(elem);if(elem.nodeType===1&&!dataPriv.get(elem,"hasDataAttrs")){i=attrs.length;while(i--){if(attrs[i]){name=attrs[i].name;if(name.indexOf("data-")===0){name=jQuery.camelCase(name.slice(5));dataAttr(elem,name,data[name])}}}dataPriv.set(elem,"hasDataAttrs",true)}}return data}if(typeof key==="object"){return this.each(function(){dataUser.set(this,key)})}return access(this,function(value){var data,camelKey;if(elem&&value===undefined){data=dataUser.get(elem,key)||dataUser.get(elem,key.replace(rmultiDash,"-$&").toLowerCase());if(data!==undefined){return data}camelKey=jQuery.camelCase(key);data=dataUser.get(elem,camelKey);if(data!==undefined){return data}data=dataAttr(elem,camelKey,undefined);if(data!==undefined){return data}return}camelKey=jQuery.camelCase(key);this.each(function(){var data=dataUser.get(this,camelKey);dataUser.set(this,camelKey,value);if(key.indexOf("-")>-1&&data!==undefined){dataUser.set(this,key,value)}})},null,value,arguments.length>1,null,true)},removeData:function(key){return this.each(function(){dataUser.remove(this,key)})}});jQuery.extend({queue:function(elem,type,data){var queue;if(elem){type=(type||"fx")+"queue";queue=dataPriv.get(elem,type);if(data){if(!queue||jQuery.isArray(data)){queue=dataPriv.access(elem,type,jQuery.makeArray(data))}else{queue.push(data)}}return queue||[]}},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};if(fn==="inprogress"){fn=queue.shift();startLength--}if(fn){if(type==="fx"){queue.unshift("inprogress")}delete hooks.stop;fn.call(elem,next,hooks)}if(!startLength&&hooks){hooks.empty.fire()}},_queueHooks:function(elem,type){var key=type+"queueHooks";return dataPriv.get(elem,key)||dataPriv.access(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){dataPriv.remove(elem,[type+"queue",key])})})}});jQuery.fn.extend({queue:function(type,data){var setter=2;if(typeof type!=="string"){data=type;type="fx";setter--}if(arguments.length<setter){return jQuery.queue(this[0],type)}return data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type);if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type)}})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){if(!--count){defer.resolveWith(elements,[elements])}};if(typeof type!=="string"){obj=type;type=undefined}type=type||"fx";while(i--){tmp=dataPriv.get(elements[i],type+"queueHooks");if(tmp&&tmp.empty){count++;tmp.empty.add(resolve)}}resolve();return defer.promise(obj)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;var rcssNum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i");var cssExpand=["Top","Right","Bottom","Left"];var isHidden=function(elem,el){elem=el||elem;return jQuery.css(elem,"display")==="none"||!jQuery.contains(elem.ownerDocument,elem)};function adjustCSS(elem,prop,valueParts,tween){var adjusted,scale=1,maxIterations=20,currentValue=tween?function(){return tween.cur()}:function(){return jQuery.css(elem,prop,"")},initial=currentValue(),unit=valueParts&&valueParts[3]||(jQuery.cssNumber[prop]?"":"px"),initialInUnit=(jQuery.cssNumber[prop]||unit!=="px"&&+initial)&&rcssNum.exec(jQuery.css(elem,prop));if(initialInUnit&&initialInUnit[3]!==unit){unit=unit||initialInUnit[3];valueParts=valueParts||[];initialInUnit=+initial||1;do{scale=scale||".5";initialInUnit=initialInUnit/scale;jQuery.style(elem,prop,initialInUnit+unit)}while(scale!==(scale=currentValue()/initial)&&scale!==1&&--maxIterations)}if(valueParts){initialInUnit=+initialInUnit||+initial||0;adjusted=valueParts[1]?initialInUnit+(valueParts[1]+1)*valueParts[2]:+valueParts[2];if(tween){tween.unit=unit;tween.start=initialInUnit;tween.end=adjusted}}return adjusted}var rcheckableType=/^(?:checkbox|radio)$/i;var rtagName=/<([\w:-]+)/;var rscriptType=/^$|\/(?:java|ecma)script/i;var wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;function getAll(context,tag){var ret=typeof context.getElementsByTagName!=="undefined"?context.getElementsByTagName(tag||"*"):typeof context.querySelectorAll!=="undefined"?context.querySelectorAll(tag||"*"):[];return tag===undefined||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],ret):ret}function setGlobalEval(elems,refElements){var i=0,l=elems.length;for(;i<l;i++){dataPriv.set(elems[i],"globalEval",!refElements||dataPriv.get(refElements[i],"globalEval"))}}var rhtml=/<|&#?\w+;/;function buildFragment(elems,context,scripts,selection,ignored){var elem,tmp,tag,wrap,contains,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;for(;i<l;i++){elem=elems[i];if(elem||elem===0){if(jQuery.type(elem)==="object"){jQuery.merge(nodes,elem.nodeType?[elem]:elem)}else if(!rhtml.test(elem)){nodes.push(context.createTextNode(elem))}else{tmp=tmp||fragment.appendChild(context.createElement("div"));tag=(rtagName.exec(elem)||["",""])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;tmp.innerHTML=wrap[1]+jQuery.htmlPrefilter(elem)+wrap[2];j=wrap[0];while(j--){tmp=tmp.lastChild}jQuery.merge(nodes,tmp.childNodes);tmp=fragment.firstChild;tmp.textContent=""}}}fragment.textContent="";i=0;while(elem=nodes[i++]){if(selection&&jQuery.inArray(elem,selection)>-1){if(ignored){ignored.push(elem)}continue}contains=jQuery.contains(elem.ownerDocument,elem);tmp=getAll(fragment.appendChild(elem),"script");if(contains){setGlobalEval(tmp)}if(scripts){j=0;while(elem=tmp[j++]){if(rscriptType.test(elem.type||"")){scripts.push(elem)}}}}return fragment}(function(){var fragment=document.createDocumentFragment(),div=fragment.appendChild(document.createElement("div")),input=document.createElement("input");input.setAttribute("type","radio");input.setAttribute("checked","checked");input.setAttribute("name","t");div.appendChild(input);support.checkClone=div.cloneNode(true).cloneNode(true).lastChild.checked;div.innerHTML="<textarea>x</textarea>";support.noCloneChecked=!!div.cloneNode(true).lastChild.defaultValue})();var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rtypenamespace=/^([^.]*)(?:\.(.+)|)/;function returnTrue(){return true}function returnFalse(){return false}function safeActiveElement(){try{return document.activeElement}catch(err){}}function on(elem,types,selector,data,fn,one){var origFn,type;if(typeof types==="object"){if(typeof selector!=="string"){data=data||selector;selector=undefined}for(type in types){on(elem,type,selector,data,types[type],one)}return elem}if(data==null&&fn==null){fn=selector;data=selector=undefined}else if(fn==null){if(typeof selector==="string"){fn=data;data=undefined}else{fn=data;data=selector;selector=undefined}}if(fn===false){fn=returnFalse}else if(!fn){return elem}if(one===1){origFn=fn;fn=function(event){jQuery().off(event);return origFn.apply(this,arguments)};fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)}return elem.each(function(){jQuery.event.add(this,types,fn,data,selector)})}jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.get(elem);if(!elemData){return}if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler;selector=handleObjIn.selector}if(!handler.guid){handler.guid=jQuery.guid++}if(!(events=elemData.events)){events=elemData.events={}}if(!(eventHandle=elemData.handle)){eventHandle=elemData.handle=function(e){return typeof jQuery!=="undefined"&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):undefined}}types=(types||"").match(rnotwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){continue}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;special=jQuery.event.special[type]||{};handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn);if(!(handlers=events[type])){handlers=events[type]=[];handlers.delegateCount=0;if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false){if(elem.addEventListener){elem.addEventListener(type,eventHandle)}}}if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid}}if(selector){handlers.splice(handlers.delegateCount++,0,handleObj)}else{handlers.push(handleObj)}jQuery.event.global[type]=true}},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.hasData(elem)&&dataPriv.get(elem);if(!elemData||!(events=elemData.events)){return}types=(types||"").match(rnotwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){for(type in events){jQuery.event.remove(elem,type+types[t],handler,selector,true)}continue}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;handlers=events[type]||[];tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)");origCount=j=handlers.length;while(j--){handleObj=handlers[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!tmp||tmp.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||selector==="**"&&handleObj.selector)){handlers.splice(j,1);if(handleObj.selector){handlers.delegateCount--}if(special.remove){special.remove.call(elem,handleObj)}}}if(origCount&&!handlers.length){if(!special.teardown||special.teardown.call(elem,namespaces,elemData.handle)===false){jQuery.removeEvent(elem,type,elemData.handle)}delete events[type]}}if(jQuery.isEmptyObject(events)){dataPriv.remove(elem,"handle events")}},dispatch:function(event){event=jQuery.event.fix(event);var i,j,ret,matched,handleObj,handlerQueue=[],args=slice.call(arguments),handlers=(dataPriv.get(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};args[0]=event;event.delegateTarget=this;if(special.preDispatch&&special.preDispatch.call(this,event)===false){return}handlerQueue=jQuery.event.handlers.call(this,event,handlers);i=0;while((matched=handlerQueue[i++])&&!event.isPropagationStopped()){event.currentTarget=matched.elem;j=0;while((handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped()){if(!event.rnamespace||event.rnamespace.test(handleObj.namespace)){event.handleObj=handleObj;event.data=handleObj.data;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);if(ret!==undefined){if((event.result=ret)===false){event.preventDefault();event.stopPropagation()}}}}}if(special.postDispatch){special.postDispatch.call(this,event)}return event.result},handlers:function(event,handlers){var i,matches,sel,handleObj,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&(event.type!=="click"||isNaN(event.button)||event.button<1)){for(;cur!==this;cur=cur.parentNode||this){if(cur.nodeType===1&&(cur.disabled!==true||event.type!=="click")){matches=[];for(i=0;i<delegateCount;i++){handleObj=handlers[i];sel=handleObj.selector+" ";if(matches[sel]===undefined){matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>-1:jQuery.find(sel,this,null,[cur]).length}if(matches[sel]){matches.push(handleObj)}}if(matches.length){handlerQueue.push({elem:cur,handlers:matches})}}}}if(delegateCount<handlers.length){handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)})}return handlerQueue},props:("altKey bubbles cancelable ctrlKey currentTarget detail eventPhase "+"metaKey relatedTarget shiftKey target timeStamp view which").split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){if(event.which==null){event.which=original.charCode!=null?original.charCode:original.keyCode}return event}},mouseHooks:{props:("button buttons clientX clientY offsetX offsetY pageX pageY "+"screenX screenY toElement").split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button;if(event.pageX==null&&original.clientX!=null){eventDoc=event.target.ownerDocument||document;doc=eventDoc.documentElement;body=eventDoc.body;event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}if(!event.which&&button!==undefined){event.which=button&1?1:button&2?3:button&4?2:0}return event}},fix:function(event){if(event[jQuery.expando]){return event}var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];if(!fixHook){this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}}copy=fixHook.props?this.props.concat(fixHook.props):this.props;event=new jQuery.Event(originalEvent);i=copy.length;while(i--){prop=copy[i];event[prop]=originalEvent[prop]}if(!event.target){event.target=document}if(event.target.nodeType===3){event.target=event.target.parentNode}return fixHook.filter?fixHook.filter(event,originalEvent):event},special:{load:{noBubble:true},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus){this.focus();return false}},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur){this.blur();return false}},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&jQuery.nodeName(this,"input")){this.click();return false}},_default:function(event){return jQuery.nodeName(event.target,"a")}},beforeunload:{postDispatch:function(event){if(event.result!==undefined&&event.originalEvent){event.originalEvent.returnValue=event.result}}}}};jQuery.removeEvent=function(elem,type,handle){if(elem.removeEventListener){elem.removeEventListener(type,handle)}};jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event)){return new jQuery.Event(src,props)}if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=src.defaultPrevented||src.defaultPrevented===undefined&&src.returnValue===false?returnTrue:returnFalse}else{this.type=src}if(props){jQuery.extend(this,props)}this.timeStamp=src&&src.timeStamp||jQuery.now();this[jQuery.expando]=true};jQuery.Event.prototype={constructor:jQuery.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,isSimulated:false,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue;if(e&&!this.isSimulated){e.preventDefault()}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue;if(e&&!this.isSimulated){e.stopPropagation()}},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue;if(e&&!this.isSimulated){e.stopImmediatePropagation()}this.stopPropagation()}};jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;if(!related||related!==target&&!jQuery.contains(target,related)){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix}return ret}}});jQuery.fn.extend({on:function(types,selector,data,fn){return on(this,types,selector,data,fn)},one:function(types,selector,data,fn){return on(this,types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj){handleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler);return this}if(typeof types==="object"){for(type in types){this.off(type,selector,types[type])}return this}if(selector===false||typeof selector==="function"){fn=selector;selector=undefined}if(fn===false){fn=returnFalse}return this.each(function(){jQuery.event.remove(this,types,fn,selector)})}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,rnoInnerhtml=/<script|<style|<link/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function manipulationTarget(elem,content){return jQuery.nodeName(elem,"table")&&jQuery.nodeName(content.nodeType!==11?content:content.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem}function disableScript(elem){elem.type=(elem.getAttribute("type")!==null)+"/"+elem.type;return elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);if(match){elem.type=match[1]}else{elem.removeAttribute("type")}return elem}function cloneCopyEvent(src,dest){var i,l,type,pdataOld,pdataCur,udataOld,udataCur,events;if(dest.nodeType!==1){return}if(dataPriv.hasData(src)){pdataOld=dataPriv.access(src);pdataCur=dataPriv.set(dest,pdataOld);events=pdataOld.events;if(events){delete pdataCur.handle;pdataCur.events={};for(type in events){for(i=0,l=events[type].length;i<l;i++){jQuery.event.add(dest,type,events[type][i])}}}}if(dataUser.hasData(src)){udataOld=dataUser.access(src);udataCur=jQuery.extend({},udataOld);dataUser.set(dest,udataCur)}}function fixInput(src,dest){var nodeName=dest.nodeName.toLowerCase();if(nodeName==="input"&&rcheckableType.test(src.type)){dest.checked=src.checked}else if(nodeName==="input"||nodeName==="textarea"){dest.defaultValue=src.defaultValue}}
function domManip(collection,args,callback,ignored){args=concat.apply([],args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=collection.length,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||l>1&&typeof value==="string"&&!support.checkClone&&rchecked.test(value)){return collection.each(function(index){var self=collection.eq(index);if(isFunction){args[0]=value.call(this,index,self.html())}domManip(self,args,callback,ignored)})}if(l){fragment=buildFragment(args,collection[0].ownerDocument,false,collection,ignored);first=fragment.firstChild;if(fragment.childNodes.length===1){fragment=first}if(first||ignored){scripts=jQuery.map(getAll(fragment,"script"),disableScript);hasScripts=scripts.length;for(;i<l;i++){node=fragment;if(i!==iNoClone){node=jQuery.clone(node,true,true);if(hasScripts){jQuery.merge(scripts,getAll(node,"script"))}}callback.call(collection[i],node,i)}if(hasScripts){doc=scripts[scripts.length-1].ownerDocument;jQuery.map(scripts,restoreScript);for(i=0;i<hasScripts;i++){node=scripts[i];if(rscriptType.test(node.type||"")&&!dataPriv.access(node,"globalEval")&&jQuery.contains(doc,node)){if(node.src){if(jQuery._evalUrl){jQuery._evalUrl(node.src)}}else{jQuery.globalEval(node.textContent.replace(rcleanScript,""))}}}}}}return collection}function remove(elem,selector,keepData){var node,nodes=selector?jQuery.filter(selector,elem):elem,i=0;for(;(node=nodes[i])!=null;i++){if(!keepData&&node.nodeType===1){jQuery.cleanData(getAll(node))}if(node.parentNode){if(keepData&&jQuery.contains(node.ownerDocument,node)){setGlobalEval(getAll(node,"script"))}node.parentNode.removeChild(node)}}return elem}jQuery.extend({htmlPrefilter:function(html){return html.replace(rxhtmlTag,"<$1></$2>")},clone:function(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,clone=elem.cloneNode(true),inPage=jQuery.contains(elem.ownerDocument,elem);if(!support.noCloneChecked&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){destElements=getAll(clone);srcElements=getAll(elem);for(i=0,l=srcElements.length;i<l;i++){fixInput(srcElements[i],destElements[i])}}if(dataAndEvents){if(deepDataAndEvents){srcElements=srcElements||getAll(elem);destElements=destElements||getAll(clone);for(i=0,l=srcElements.length;i<l;i++){cloneCopyEvent(srcElements[i],destElements[i])}}else{cloneCopyEvent(elem,clone)}}destElements=getAll(clone,"script");if(destElements.length>0){setGlobalEval(destElements,!inPage&&getAll(elem,"script"))}return clone},cleanData:function(elems){var data,elem,type,special=jQuery.event.special,i=0;for(;(elem=elems[i])!==undefined;i++){if(acceptData(elem)){if(data=elem[dataPriv.expando]){if(data.events){for(type in data.events){if(special[type]){jQuery.event.remove(elem,type)}else{jQuery.removeEvent(elem,type,data.handle)}}}elem[dataPriv.expando]=undefined}if(elem[dataUser.expando]){elem[dataUser.expando]=undefined}}}}});jQuery.fn.extend({domManip:domManip,detach:function(selector){return remove(this,selector,true)},remove:function(selector){return remove(this,selector)},text:function(value){return access(this,function(value){return value===undefined?jQuery.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.textContent=value}})},null,value,arguments.length)},append:function(){return domManip(this,arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.appendChild(elem)}})},prepend:function(){return domManip(this,arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function(){return domManip(this,arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this)}})},after:function(){return domManip(this,arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this.nextSibling)}})},empty:function(){var elem,i=0;for(;(elem=this[i])!=null;i++){if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false));elem.textContent=""}}return this},clone:function(dataAndEvents,deepDataAndEvents){dataAndEvents=dataAndEvents==null?false:dataAndEvents;deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined&&elem.nodeType===1){return elem.innerHTML}if(typeof value==="string"&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=jQuery.htmlPrefilter(value);try{for(;i<l;i++){elem=this[i]||{};if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false));elem.innerHTML=value}}elem=0}catch(e){}}if(elem){this.empty().append(value)}},null,value,arguments.length)},replaceWith:function(){var ignored=[];return domManip(this,arguments,function(elem){var parent=this.parentNode;if(jQuery.inArray(this,ignored)<0){jQuery.cleanData(getAll(this));if(parent){parent.replaceChild(elem,this)}}},ignored)}});jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;for(;i<=last;i++){elems=i===last?this:this.clone(true);jQuery(insert[i])[original](elems);push.apply(ret,elems.get())}return this.pushStack(ret)}});var iframe,elemdisplay={HTML:"block",BODY:"block"};function actualDisplay(name,doc){var elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=jQuery.css(elem[0],"display");elem.detach();return display}function defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];if(!display){display=actualDisplay(nodeName,doc);if(display==="none"||!display){iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement);doc=iframe[0].contentDocument;doc.write();doc.close();display=actualDisplay(nodeName,doc);iframe.detach()}elemdisplay[nodeName]=display}return display}var rmargin=/^margin/;var rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i");var getStyles=function(elem){var view=elem.ownerDocument.defaultView;if(!view||!view.opener){view=window}return view.getComputedStyle(elem)};var swap=function(elem,options,callback,args){var ret,name,old={};for(name in options){old[name]=elem.style[name];elem.style[name]=options[name]}ret=callback.apply(elem,args||[]);for(name in options){elem.style[name]=old[name]}return ret};var documentElement=document.documentElement;(function(){var pixelPositionVal,boxSizingReliableVal,pixelMarginRightVal,reliableMarginLeftVal,container=document.createElement("div"),div=document.createElement("div");if(!div.style){return}div.style.backgroundClip="content-box";div.cloneNode(true).style.backgroundClip="";support.clearCloneStyle=div.style.backgroundClip==="content-box";container.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;"+"padding:0;margin-top:1px;position:absolute";container.appendChild(div);function computeStyleTests(){div.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;"+"position:relative;display:block;"+"margin:auto;border:1px;padding:1px;"+"top:1%;width:50%";div.innerHTML="";documentElement.appendChild(container);var divStyle=window.getComputedStyle(div);pixelPositionVal=divStyle.top!=="1%";reliableMarginLeftVal=divStyle.marginLeft==="2px";boxSizingReliableVal=divStyle.width==="4px";div.style.marginRight="50%";pixelMarginRightVal=divStyle.marginRight==="4px";documentElement.removeChild(container)}jQuery.extend(support,{pixelPosition:function(){computeStyleTests();return pixelPositionVal},boxSizingReliable:function(){if(boxSizingReliableVal==null){computeStyleTests()}return boxSizingReliableVal},pixelMarginRight:function(){if(boxSizingReliableVal==null){computeStyleTests()}return pixelMarginRightVal},reliableMarginLeft:function(){if(boxSizingReliableVal==null){computeStyleTests()}return reliableMarginLeftVal},reliableMarginRight:function(){var ret,marginDiv=div.appendChild(document.createElement("div"));marginDiv.style.cssText=div.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;"+"display:block;margin:0;border:0;padding:0";marginDiv.style.marginRight=marginDiv.style.width="0";div.style.width="1px";documentElement.appendChild(container);ret=!parseFloat(window.getComputedStyle(marginDiv).marginRight);documentElement.removeChild(container);div.removeChild(marginDiv);return ret}})})();function curCSS(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;computed=computed||getStyles(elem);ret=computed?computed.getPropertyValue(name)||computed[name]:undefined;if((ret===""||ret===undefined)&&!jQuery.contains(elem.ownerDocument,elem)){ret=jQuery.style(elem,name)}if(computed){if(!support.pixelMarginRight()&&rnumnonpx.test(ret)&&rmargin.test(name)){width=style.width;minWidth=style.minWidth;maxWidth=style.maxWidth;style.minWidth=style.maxWidth=style.width=ret;ret=computed.width;style.width=width;style.minWidth=minWidth;style.maxWidth=maxWidth}}return ret!==undefined?ret+"":ret}function addGetHookIf(conditionFn,hookFn){return{get:function(){if(conditionFn()){delete this.get;return}return(this.get=hookFn).apply(this,arguments)}}}var rdisplayswap=/^(none|table(?!-c[ea]).+)/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"},cssPrefixes=["Webkit","O","Moz","ms"],emptyStyle=document.createElement("div").style;function vendorPropName(name){if(name in emptyStyle){return name}var capName=name[0].toUpperCase()+name.slice(1),i=cssPrefixes.length;while(i--){name=cssPrefixes[i]+capName;if(name in emptyStyle){return name}}}function setPositiveNumber(elem,value,subtract){var matches=rcssNum.exec(value);return matches?Math.max(0,matches[2]-(subtract||0))+(matches[3]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){var i=extra===(isBorderBox?"border":"content")?4:name==="width"?1:0,val=0;for(;i<4;i+=2){if(extra==="margin"){val+=jQuery.css(elem,extra+cssExpand[i],true,styles)}if(isBorderBox){if(extra==="content"){val-=jQuery.css(elem,"padding"+cssExpand[i],true,styles)}if(extra!=="margin"){val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles)}}else{val+=jQuery.css(elem,"padding"+cssExpand[i],true,styles);if(extra!=="padding"){val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles)}}}return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=true,val=name==="width"?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox=jQuery.css(elem,"boxSizing",false,styles)==="border-box";if(val<=0||val==null){val=curCSS(elem,name,styles);if(val<0||val==null){val=elem.style[name]}if(rnumnonpx.test(val)){return val}valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===elem.style[name]);val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles)+"px"}function showHide(elements,show){var display,elem,hidden,values=[],index=0,length=elements.length;for(;index<length;index++){elem=elements[index];if(!elem.style){continue}values[index]=dataPriv.get(elem,"olddisplay");display=elem.style.display;if(show){if(!values[index]&&display==="none"){elem.style.display=""}if(elem.style.display===""&&isHidden(elem)){values[index]=dataPriv.access(elem,"olddisplay",defaultDisplay(elem.nodeName))}}else{hidden=isHidden(elem);if(display!=="none"||!hidden){dataPriv.set(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"))}}}for(index=0;index<length;index++){elem=elements[index];if(!elem.style){continue}if(!show||elem.style.display==="none"||elem.style.display===""){elem.style.display=show?values[index]||"":"none"}}return elements}jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return ret===""?"1":ret}}}},cssNumber:{animationIterationCount:true,columnCount:true,fillOpacity:true,flexGrow:true,flexShrink:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{float:"cssFloat"},style:function(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style){return}var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(origName)||origName);hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(value!==undefined){type=typeof value;if(type==="string"&&(ret=rcssNum.exec(value))&&ret[1]){value=adjustCSS(elem,name,ret);type="number"}if(value==null||value!==value){return}if(type==="number"){value+=ret&&ret[3]||(jQuery.cssNumber[origName]?"":"px")}if(!support.clearCloneStyle&&value===""&&name.indexOf("background")===0){style[name]="inherit"}if(!hooks||!("set"in hooks)||(value=hooks.set(elem,value,extra))!==undefined){style[name]=value}}else{if(hooks&&"get"in hooks&&(ret=hooks.get(elem,false,extra))!==undefined){return ret}return style[name]}},css:function(elem,name,extra,styles){var val,num,hooks,origName=jQuery.camelCase(name);name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(origName)||origName);hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(hooks&&"get"in hooks){val=hooks.get(elem,true,extra)}if(val===undefined){val=curCSS(elem,name,styles)}if(val==="normal"&&name in cssNormalTransform){val=cssNormalTransform[name]}if(extra===""||extra){num=parseFloat(val);return extra===true||isFinite(num)?num||0:val}return val}});jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed){return rdisplayswap.test(jQuery.css(elem,"display"))&&elem.offsetWidth===0?swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra)}},set:function(elem,value,extra){var matches,styles=extra&&getStyles(elem),subtract=extra&&augmentWidthOrHeight(elem,name,extra,jQuery.css(elem,"boxSizing",false,styles)==="border-box",styles);if(subtract&&(matches=rcssNum.exec(value))&&(matches[3]||"px")!=="px"){elem.style[name]=value;value=jQuery.css(elem,name)}return setPositiveNumber(elem,value,subtract)}}});jQuery.cssHooks.marginLeft=addGetHookIf(support.reliableMarginLeft,function(elem,computed){if(computed){return(parseFloat(curCSS(elem,"marginLeft"))||elem.getBoundingClientRect().left-swap(elem,{marginLeft:0},function(){return elem.getBoundingClientRect().left}))+"px"}});jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(elem,computed){if(computed){return swap(elem,{display:"inline-block"},curCSS,[elem,"marginRight"])}});jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){var i=0,expanded={},parts=typeof value==="string"?value.split(" "):[value];for(;i<4;i++){expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0]}return expanded}};if(!rmargin.test(prefix)){jQuery.cssHooks[prefix+suffix].set=setPositiveNumber}});jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){styles=getStyles(elem);len=name.length;for(;i<len;i++){map[name[i]]=jQuery.css(elem,name[i],false,styles)}return map}return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function(){return showHide(this,true)},hide:function(){return showHide(this)},toggle:function(state){if(typeof state==="boolean"){return state?this.show():this.hide()}return this.each(function(){if(isHidden(this)){jQuery(this).show()}else{jQuery(this).hide()}})}});function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}jQuery.Tween=Tween;Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem;this.prop=prop;this.easing=easing||jQuery.easing._default;this.options=options;this.start=this.now=this.cur();this.end=end;this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];if(this.options.duration){this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration)}else{this.pos=eased=percent}this.now=(this.end-this.start)*eased+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(hooks&&hooks.set){hooks.set(this)}else{Tween.propHooks._default.set(this)}return this}};Tween.prototype.init.prototype=Tween.prototype;Tween.propHooks={_default:{get:function(tween){var result;if(tween.elem.nodeType!==1||tween.elem[tween.prop]!=null&&tween.elem.style[tween.prop]==null){return tween.elem[tween.prop]}result=jQuery.css(tween.elem,tween.prop,"");return!result||result==="auto"?0:result},set:function(tween){if(jQuery.fx.step[tween.prop]){jQuery.fx.step[tween.prop](tween)}else if(tween.elem.nodeType===1&&(tween.elem.style[jQuery.cssProps[tween.prop]]!=null||jQuery.cssHooks[tween.prop])){jQuery.style(tween.elem,tween.prop,tween.now+tween.unit)}else{tween.elem[tween.prop]=tween.now}}}};Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){if(tween.elem.nodeType&&tween.elem.parentNode){tween.elem[tween.prop]=tween.now}}};jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2},_default:"swing"};jQuery.fx=Tween.prototype.init;jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rrun=/queueHooks$/;function createFxNow(){window.setTimeout(function(){fxNow=undefined});return fxNow=jQuery.now()}function genFx(type,includeWidth){var which,i=0,attrs={height:type};includeWidth=includeWidth?1:0;for(;i<4;i+=2-includeWidth){which=cssExpand[i];attrs["margin"+which]=attrs["padding"+which]=type}if(includeWidth){attrs.opacity=attrs.width=type}return attrs}function createTween(value,prop,animation){var tween,collection=(Animation.tweeners[prop]||[]).concat(Animation.tweeners["*"]),index=0,length=collection.length;for(;index<length;index++){if(tween=collection[index].call(animation,prop,value)){return tween}}}function defaultPrefilter(elem,props,opts){var prop,value,toggle,tween,hooks,oldfire,display,checkDisplay,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=dataPriv.get(elem,"fxshow");if(!opts.queue){hooks=jQuery._queueHooks(elem,"fx");if(hooks.unqueued==null){hooks.unqueued=0;oldfire=hooks.empty.fire;hooks.empty.fire=function(){if(!hooks.unqueued){oldfire()}}}hooks.unqueued++;anim.always(function(){anim.always(function(){hooks.unqueued--;if(!jQuery.queue(elem,"fx").length){hooks.empty.fire()}})})}if(elem.nodeType===1&&("height"in props||"width"in props)){opts.overflow=[style.overflow,style.overflowX,style.overflowY];display=jQuery.css(elem,"display");checkDisplay=display==="none"?dataPriv.get(elem,"olddisplay")||defaultDisplay(elem.nodeName):display;if(checkDisplay==="inline"&&jQuery.css(elem,"float")==="none"){style.display="inline-block"}}if(opts.overflow){style.overflow="hidden";anim.always(function(){style.overflow=opts.overflow[0];style.overflowX=opts.overflow[1];style.overflowY=opts.overflow[2]})}for(prop in props){value=props[prop];if(rfxtypes.exec(value)){delete props[prop];toggle=toggle||value==="toggle";if(value===(hidden?"hide":"show")){if(value==="show"&&dataShow&&dataShow[prop]!==undefined){hidden=true}else{continue}}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}else{display=undefined}}if(!jQuery.isEmptyObject(orig)){if(dataShow){if("hidden"in dataShow){hidden=dataShow.hidden}}else{dataShow=dataPriv.access(elem,"fxshow",{})}if(toggle){dataShow.hidden=!hidden}if(hidden){jQuery(elem).show()}else{anim.done(function(){jQuery(elem).hide()})}anim.done(function(){var prop;dataPriv.remove(elem,"fxshow");for(prop in orig){jQuery.style(elem,prop,orig[prop])}});for(prop in orig){tween=createTween(hidden?dataShow[prop]:0,prop,anim);if(!(prop in dataShow)){dataShow[prop]=tween.start;if(hidden){tween.end=tween.start;tween.start=prop==="width"||prop==="height"?1:0}}}}else if((display==="none"?defaultDisplay(elem.nodeName):display)==="inline"){style.display=display}}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props){name=jQuery.camelCase(index);easing=specialEasing[name];value=props[index];if(jQuery.isArray(value)){easing=value[1];value=props[index]=value[0]}if(index!==name){props[name]=value;delete props[index]}hooks=jQuery.cssHooks[name];if(hooks&&"expand"in hooks){value=hooks.expand(value);delete props[name];for(index in value){if(!(index in props)){props[index]=value[index];specialEasing[index]=easing}}}else{specialEasing[name]=easing}}}function Animation(elem,properties,options){var result,stopped,index=0,length=Animation.prefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped){return false}var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;for(;index<length;index++){animation.tweens[index].run(percent)}deferred.notifyWith(elem,[animation,percent,remaining]);if(percent<1&&length){return remaining}else{deferred.resolveWith(elem,[animation]);return false}},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(true,{specialEasing:{},easing:jQuery.easing._default},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);animation.tweens.push(tween);return tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped){return this}stopped=true;for(;index<length;index++){animation.tweens[index].run(1)}if(gotoEnd){deferred.notifyWith(elem,[animation,1,0]);deferred.resolveWith(elem,[animation,gotoEnd])}else{deferred.rejectWith(elem,[animation,gotoEnd])}return this}}),props=animation.props;propFilter(props,animation.opts.specialEasing);for(;index<length;index++){result=Animation.prefilters[index].call(animation,elem,props,animation.opts);if(result){if(jQuery.isFunction(result.stop)){jQuery._queueHooks(animation.elem,animation.opts.queue).stop=jQuery.proxy(result.stop,result)}return result}}jQuery.map(props,createTween,animation);if(jQuery.isFunction(animation.opts.start)){animation.opts.start.call(elem,animation)}jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue}));return animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}jQuery.Animation=jQuery.extend(Animation,{tweeners:{"*":[function(prop,value){var tween=this.createTween(prop,value);adjustCSS(tween.elem,prop,rcssNum.exec(value),tween);return tween}]},tweener:function(props,callback){if(jQuery.isFunction(props)){callback=props;props=["*"]}else{props=props.match(rnotwhite)}var prop,index=0,length=props.length;for(;index<length;index++){prop=props[index];Animation.tweeners[prop]=Animation.tweeners[prop]||[];Animation.tweeners[prop].unshift(callback)}},prefilters:[defaultPrefilter],prefilter:function(callback,prepend){if(prepend){Animation.prefilters.unshift(callback)}else{Animation.prefilters.push(callback)}}});jQuery.speed=function(speed,easing,fn){var opt=speed&&typeof speed==="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;if(opt.queue==null||opt.queue===true){opt.queue="fx"}opt.old=opt.complete;opt.complete=function(){if(jQuery.isFunction(opt.old)){opt.old.call(this)}if(opt.queue){jQuery.dequeue(this,opt.queue)}};return opt};jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);if(empty||dataPriv.get(this,"finish")){anim.stop(true)}};doAnimation.finish=doAnimation;return empty||optall.queue===false?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop;stop(gotoEnd)};if(typeof type!=="string"){gotoEnd=clearQueue;clearQueue=type;type=undefined}if(clearQueue&&type!==false){this.queue(type||"fx",[])}return this.each(function(){var dequeue=true,index=type!=null&&type+"queueHooks",timers=jQuery.timers,data=dataPriv.get(this);if(index){if(data[index]&&data[index].stop){stopQueue(data[index])}}else{for(index in data){if(data[index]&&data[index].stop&&rrun.test(index)){stopQueue(data[index])}}}for(index=timers.length;index--;){if(timers[index].elem===this&&(type==null||timers[index].queue===type)){timers[index].anim.stop(gotoEnd);dequeue=false;timers.splice(index,1)}}if(dequeue||!gotoEnd){jQuery.dequeue(this,type)}})},finish:function(type){if(type!==false){type=type||"fx"}return this.each(function(){var index,data=dataPriv.get(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;data.finish=true;jQuery.queue(this,type,[]);if(hooks&&hooks.stop){hooks.stop.call(this,true)}for(index=timers.length;index--;){if(timers[index].elem===this&&timers[index].queue===type){timers[index].anim.stop(true);timers.splice(index,1)}}for(index=0;index<length;index++){if(queue[index]&&queue[index].finish){queue[index].finish.call(this)}}delete data.finish})}});jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return speed==null||typeof speed==="boolean"?cssFn.apply(this,arguments):this.animate(genFx(name,true),speed,easing,callback)}});jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}});jQuery.timers=[];jQuery.fx.tick=function(){var timer,i=0,timers=jQuery.timers;fxNow=jQuery.now();for(;i<timers.length;i++){timer=timers[i];if(!timer()&&timers[i]===timer){timers.splice(i--,1)}}if(!timers.length){jQuery.fx.stop()}fxNow=undefined};jQuery.fx.timer=function(timer){jQuery.timers.push(timer);if(timer()){jQuery.fx.start()}else{jQuery.timers.pop()}};jQuery.fx.interval=13;jQuery.fx.start=function(){if(!timerId){timerId=window.setInterval(jQuery.fx.tick,jQuery.fx.interval)}};jQuery.fx.stop=function(){window.clearInterval(timerId);timerId=null};jQuery.fx.speeds={slow:600,fast:200,_default:400};jQuery.fn.delay=function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(next,hooks){var timeout=window.setTimeout(next,time);hooks.stop=function(){window.clearTimeout(timeout)}})};(function(){var input=document.createElement("input"),select=document.createElement("select"),opt=select.appendChild(document.createElement("option"));input.type="checkbox";support.checkOn=input.value!=="";support.optSelected=opt.selected;select.disabled=true;support.optDisabled=!opt.disabled;input=document.createElement("input");input.value="t";input.type="radio";support.radioValue=input.value==="t"})();var boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})}});jQuery.extend({attr:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(nType===3||nType===8||nType===2){return}if(typeof elem.getAttribute==="undefined"){return jQuery.prop(elem,name,value)}if(nType!==1||!jQuery.isXMLDoc(elem)){name=name.toLowerCase();hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:undefined)}if(value!==undefined){if(value===null){jQuery.removeAttr(elem,name);return}if(hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret}elem.setAttribute(name,value+"");return value}if(hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null){return ret}ret=jQuery.find.attr(elem,name);return ret==null?undefined:ret},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&value==="radio"&&jQuery.nodeName(elem,"input")){var val=elem.value;elem.setAttribute("type",value);if(val){elem.value=val}return value}}}},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(rnotwhite);if(attrNames&&elem.nodeType===1){while(name=attrNames[i++]){propName=jQuery.propFix[name]||name;if(jQuery.expr.match.bool.test(name)){elem[propName]=false}elem.removeAttribute(name)}}}});boolHook={set:function(elem,value,name){if(value===false){jQuery.removeAttr(elem,name)}else{elem.setAttribute(name,name)}return name}};jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle;if(!isXML){handle=attrHandle[name];attrHandle[name]=ret;ret=getter(elem,name,isXML)!=null?name.toLowerCase():null;attrHandle[name]=handle}return ret}});var rfocusable=/^(?:input|select|textarea|button)$/i,rclickable=/^(?:a|area)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){return this.each(function(){delete this[jQuery.propFix[name]||name]})}});jQuery.extend({prop:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(nType===3||nType===8||nType===2){return}if(nType!==1||!jQuery.isXMLDoc(elem)){name=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name]}if(value!==undefined){if(hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret}return elem[name]=value}if(hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null){return ret}return elem[name]},propHooks:{tabIndex:{get:function(elem){var tabindex=jQuery.find.attr(elem,"tabindex");return tabindex?parseInt(tabindex,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}});if(!support.optSelected){jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;if(parent&&parent.parentNode){parent.parentNode.selectedIndex}return null},set:function(elem){var parent=elem.parentNode;if(parent){parent.selectedIndex;if(parent.parentNode){parent.parentNode.selectedIndex}}}}}jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;function getClass(elem){return elem.getAttribute&&elem.getAttribute("class")||""}jQuery.fn.extend({addClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).addClass(value.call(this,j,getClass(this)))})}if(typeof value==="string"&&value){classes=value.match(rnotwhite)||[];while(elem=this[i++]){curValue=getClass(elem);cur=elem.nodeType===1&&(" "+curValue+" ").replace(rclass," ");if(cur){j=0;while(clazz=classes[j++]){
if(cur.indexOf(" "+clazz+" ")<0){cur+=clazz+" "}}finalValue=jQuery.trim(cur);if(curValue!==finalValue){elem.setAttribute("class",finalValue)}}}}return this},removeClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).removeClass(value.call(this,j,getClass(this)))})}if(!arguments.length){return this.attr("class","")}if(typeof value==="string"&&value){classes=value.match(rnotwhite)||[];while(elem=this[i++]){curValue=getClass(elem);cur=elem.nodeType===1&&(" "+curValue+" ").replace(rclass," ");if(cur){j=0;while(clazz=classes[j++]){while(cur.indexOf(" "+clazz+" ")>-1){cur=cur.replace(" "+clazz+" "," ")}}finalValue=jQuery.trim(cur);if(curValue!==finalValue){elem.setAttribute("class",finalValue)}}}}return this},toggleClass:function(value,stateVal){var type=typeof value;if(typeof stateVal==="boolean"&&type==="string"){return stateVal?this.addClass(value):this.removeClass(value)}if(jQuery.isFunction(value)){return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,getClass(this),stateVal),stateVal)})}return this.each(function(){var className,i,self,classNames;if(type==="string"){i=0;self=jQuery(this);classNames=value.match(rnotwhite)||[];while(className=classNames[i++]){if(self.hasClass(className)){self.removeClass(className)}else{self.addClass(className)}}}else if(value===undefined||type==="boolean"){className=getClass(this);if(className){dataPriv.set(this,"__className__",className)}if(this.setAttribute){this.setAttribute("class",className||value===false?"":dataPriv.get(this,"__className__")||"")}}})},hasClass:function(selector){var className,elem,i=0;className=" "+selector+" ";while(elem=this[i++]){if(elem.nodeType===1&&(" "+getClass(elem)+" ").replace(rclass," ").indexOf(className)>-1){return true}}return false}});var rreturn=/\r/g,rspaces=/[\x20\t\r\n\f]+/g;jQuery.fn.extend({val:function(value){var hooks,ret,isFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()];if(hooks&&"get"in hooks&&(ret=hooks.get(elem,"value"))!==undefined){return ret}ret=elem.value;return typeof ret==="string"?ret.replace(rreturn,""):ret==null?"":ret}return}isFunction=jQuery.isFunction(value);return this.each(function(i){var val;if(this.nodeType!==1){return}if(isFunction){val=value.call(this,i,jQuery(this).val())}else{val=value}if(val==null){val=""}else if(typeof val==="number"){val+=""}else if(jQuery.isArray(val)){val=jQuery.map(val,function(value){return value==null?"":value+""})}hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!hooks||!("set"in hooks)||hooks.set(this,val,"value")===undefined){this.value=val}})}});jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return val!=null?val:jQuery.trim(jQuery.text(elem)).replace(rspaces," ")}},select:{get:function(elem){var value,option,options=elem.options,index=elem.selectedIndex,one=elem.type==="select-one"||index<0,values=one?null:[],max=one?index+1:options.length,i=index<0?max:one?index:0;for(;i<max;i++){option=options[i];if((option.selected||i===index)&&(support.optDisabled?!option.disabled:option.getAttribute("disabled")===null)&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();if(one){return value}values.push(value)}}return values},set:function(elem,value){var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;while(i--){option=options[i];if(option.selected=jQuery.inArray(jQuery.valHooks.option.get(option),values)>-1){optionSet=true}}if(!optionSet){elem.selectedIndex=-1}return values}}}});jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){if(jQuery.isArray(value)){return elem.checked=jQuery.inArray(jQuery(elem).val(),value)>-1}}};if(!support.checkOn){jQuery.valHooks[this].get=function(elem){return elem.getAttribute("value")===null?"on":elem.value}}});var rfocusMorph=/^(?:focusinfocus|focusoutblur)$/;jQuery.extend(jQuery.event,{trigger:function(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];cur=tmp=elem=elem||document;if(elem.nodeType===3||elem.nodeType===8){return}if(rfocusMorph.test(type+jQuery.event.triggered)){return}if(type.indexOf(".")>-1){namespaces=type.split(".");type=namespaces.shift();namespaces.sort()}ontype=type.indexOf(":")<0&&"on"+type;event=event[jQuery.expando]?event:new jQuery.Event(type,typeof event==="object"&&event);event.isTrigger=onlyHandlers?2:3;event.namespace=namespaces.join(".");event.rnamespace=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;event.result=undefined;if(!event.target){event.target=elem}data=data==null?[event]:jQuery.makeArray(data,[event]);special=jQuery.event.special[type]||{};if(!onlyHandlers&&special.trigger&&special.trigger.apply(elem,data)===false){return}if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type;if(!rfocusMorph.test(bubbleType+type)){cur=cur.parentNode}for(;cur;cur=cur.parentNode){eventPath.push(cur);tmp=cur}if(tmp===(elem.ownerDocument||document)){eventPath.push(tmp.defaultView||tmp.parentWindow||window)}}i=0;while((cur=eventPath[i++])&&!event.isPropagationStopped()){event.type=i>1?bubbleType:special.bindType||type;handle=(dataPriv.get(cur,"events")||{})[event.type]&&dataPriv.get(cur,"handle");if(handle){handle.apply(cur,data)}handle=ontype&&cur[ontype];if(handle&&handle.apply&&acceptData(cur)){event.result=handle.apply(cur,data);if(event.result===false){event.preventDefault()}}}event.type=type;if(!onlyHandlers&&!event.isDefaultPrevented()){if((!special._default||special._default.apply(eventPath.pop(),data)===false)&&acceptData(elem)){if(ontype&&jQuery.isFunction(elem[type])&&!jQuery.isWindow(elem)){tmp=elem[ontype];if(tmp){elem[ontype]=null}jQuery.event.triggered=type;elem[type]();jQuery.event.triggered=undefined;if(tmp){elem[ontype]=tmp}}}}return event.result},simulate:function(type,elem,event){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:true});jQuery.event.trigger(e,null,elem)}});jQuery.fn.extend({trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];if(elem){return jQuery.event.trigger(type,data,elem,true)}}});jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup error contextmenu").split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}});jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}});support.focusin="onfocusin"in window;if(!support.focusin){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event))};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this,attaches=dataPriv.access(doc,fix);if(!attaches){doc.addEventListener(orig,handler,true)}dataPriv.access(doc,fix,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this,attaches=dataPriv.access(doc,fix)-1;if(!attaches){doc.removeEventListener(orig,handler,true);dataPriv.remove(doc,fix)}else{dataPriv.access(doc,fix,attaches)}}}})}var location=window.location;var nonce=jQuery.now();var rquery=/\?/;jQuery.parseJSON=function(data){return JSON.parse(data+"")};jQuery.parseXML=function(data){var xml;if(!data||typeof data!=="string"){return null}try{xml=(new window.DOMParser).parseFromString(data,"text/xml")}catch(e){xml=undefined}if(!xml||xml.getElementsByTagName("parsererror").length){jQuery.error("Invalid XML: "+data)}return xml};var rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/gm,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,prefilters={},transports={},allTypes="*/".concat("*"),originAnchor=document.createElement("a");originAnchor.href=location.href;function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if(typeof dataTypeExpression!=="string"){func=dataTypeExpression;dataTypeExpression="*"}var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(func)){while(dataType=dataTypes[i++]){if(dataType[0]==="+"){dataType=dataType.slice(1)||"*";(structure[dataType]=structure[dataType]||[]).unshift(func)}else{(structure[dataType]=structure[dataType]||[]).push(func)}}}}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){var inspected={},seekingTransport=structure===transports;function inspect(dataType){var selected;inspected[dataType]=true;jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);if(typeof dataTypeOrTransport==="string"&&!seekingTransport&&!inspected[dataTypeOrTransport]){options.dataTypes.unshift(dataTypeOrTransport);inspect(dataTypeOrTransport);return false}else if(seekingTransport){return!(selected=dataTypeOrTransport)}});return selected}return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src){if(src[key]!==undefined){(flatOptions[key]?target:deep||(deep={}))[key]=src[key]}}if(deep){jQuery.extend(true,target,deep)}return target}function ajaxHandleResponses(s,jqXHR,responses){var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;while(dataTypes[0]==="*"){dataTypes.shift();if(ct===undefined){ct=s.mimeType||jqXHR.getResponseHeader("Content-Type")}}if(ct){for(type in contents){if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}}}if(dataTypes[0]in responses){finalDataType=dataTypes[0]}else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}if(!firstDataType){firstDataType=type}}finalDataType=finalDataType||firstDataType}if(finalDataType){if(finalDataType!==dataTypes[0]){dataTypes.unshift(finalDataType)}return responses[finalDataType]}}function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1]){for(conv in s.converters){converters[conv.toLowerCase()]=s.converters[conv]}}current=dataTypes.shift();while(current){if(s.responseFields[current]){jqXHR[s.responseFields[current]]=response}if(!prev&&isSuccess&&s.dataFilter){response=s.dataFilter(response,s.dataType)}prev=current;current=dataTypes.shift();if(current){if(current==="*"){current=prev}else if(prev!=="*"&&prev!==current){conv=converters[prev+" "+current]||converters["* "+current];if(!conv){for(conv2 in converters){tmp=conv2.split(" ");if(tmp[1]===current){conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]];if(conv){if(conv===true){conv=converters[conv2]}else if(converters[conv2]!==true){current=tmp[0];dataTypes.unshift(tmp[1])}break}}}}if(conv!==true){if(conv&&s.throws){response=conv(response)}else{try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}}}}}return{state:"success",data:response}}jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:location.href,type:"GET",isLocal:rlocalProtocol.test(location.protocol),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){if(typeof url==="object"){options=url;url=undefined}options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,urlAnchor,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(state===2){if(!responseHeaders){responseHeaders={};while(match=rheaders.exec(responseHeadersString)){responseHeaders[match[1].toLowerCase()]=match[2]}}match=responseHeaders[key.toLowerCase()]}return match==null?null:match},getAllResponseHeaders:function(){return state===2?responseHeadersString:null},setRequestHeader:function(name,value){var lname=name.toLowerCase();if(!state){name=requestHeadersNames[lname]=requestHeadersNames[lname]||name;requestHeaders[name]=value}return this},overrideMimeType:function(type){if(!state){s.mimeType=type}return this},statusCode:function(map){var code;if(map){if(state<2){for(code in map){statusCode[code]=[statusCode[code],map[code]]}}else{jqXHR.always(map[jqXHR.status])}}return this},abort:function(statusText){var finalText=statusText||strAbort;if(transport){transport.abort(finalText)}done(0,finalText);return this}};deferred.promise(jqXHR).complete=completeDeferred.add;jqXHR.success=jqXHR.done;jqXHR.error=jqXHR.fail;s.url=((url||s.url||location.href)+"").replace(rhash,"").replace(rprotocol,location.protocol+"//");s.type=options.method||options.type||s.method||s.type;s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(rnotwhite)||[""];if(s.crossDomain==null){urlAnchor=document.createElement("a");try{urlAnchor.href=s.url;urlAnchor.href=urlAnchor.href;s.crossDomain=originAnchor.protocol+"//"+originAnchor.host!==urlAnchor.protocol+"//"+urlAnchor.host}catch(e){s.crossDomain=true}}if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional)}inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(state===2){return jqXHR}fireGlobals=jQuery.event&&s.global;if(fireGlobals&&jQuery.active++===0){jQuery.event.trigger("ajaxStart")}s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);cacheURL=s.url;if(!s.hasContent){if(s.data){cacheURL=s.url+=(rquery.test(cacheURL)?"&":"?")+s.data;delete s.data}if(s.cache===false){s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+nonce++):cacheURL+(rquery.test(cacheURL)?"&":"?")+"_="+nonce++}}if(s.ifModified){if(jQuery.lastModified[cacheURL]){jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL])}if(jQuery.etag[cacheURL]){jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])}}if(s.data&&s.hasContent&&s.contentType!==false||options.contentType){jqXHR.setRequestHeader("Content-Type",s.contentType)}jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers){jqXHR.setRequestHeader(i,s.headers[i])}if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===false||state===2)){return jqXHR.abort()}strAbort="abort";for(i in{success:1,error:1,complete:1}){jqXHR[i](s[i])}transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport){done(-1,"No Transport")}else{jqXHR.readyState=1;if(fireGlobals){globalEventContext.trigger("ajaxSend",[jqXHR,s])}if(state===2){return jqXHR}if(s.async&&s.timeout>0){timeoutTimer=window.setTimeout(function(){jqXHR.abort("timeout")},s.timeout)}try{state=1;transport.send(requestHeaders,done)}catch(e){if(state<2){done(-1,e)}else{throw e}}}function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;if(state===2){return}state=2;if(timeoutTimer){window.clearTimeout(timeoutTimer)}transport=undefined;responseHeadersString=headers||"";jqXHR.readyState=status>0?4:0;isSuccess=status>=200&&status<300||status===304;if(responses){response=ajaxHandleResponses(s,jqXHR,responses)}response=ajaxConvert(s,response,jqXHR,isSuccess);if(isSuccess){if(s.ifModified){modified=jqXHR.getResponseHeader("Last-Modified");if(modified){jQuery.lastModified[cacheURL]=modified}modified=jqXHR.getResponseHeader("etag");if(modified){jQuery.etag[cacheURL]=modified}}if(status===204||s.type==="HEAD"){statusText="nocontent"}else if(status===304){statusText="notmodified"}else{statusText=response.state;success=response.data;error=response.error;isSuccess=!error}}else{error=statusText;if(status||!statusText){statusText="error";if(status<0){status=0}}}jqXHR.status=status;jqXHR.statusText=(nativeStatusText||statusText)+"";if(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR])}else{deferred.rejectWith(callbackContext,[jqXHR,statusText,error])}jqXHR.statusCode(statusCode);statusCode=undefined;if(fireGlobals){globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error])}completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger("ajaxComplete",[jqXHR,s]);if(!--jQuery.active){jQuery.event.trigger("ajaxStop")}}}return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script")}});jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=undefined}return jQuery.ajax(jQuery.extend({url:url,type:method,dataType:type,data:data,success:callback},jQuery.isPlainObject(url)&&url))}});jQuery._evalUrl=function(url){return jQuery.ajax({url:url,type:"GET",dataType:"script",async:false,global:false,throws:true})};jQuery.fn.extend({wrapAll:function(html){var wrap;if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))})}if(this[0]){wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0])}wrap.map(function(){var elem=this;while(elem.firstElementChild){elem=elem.firstElementChild}return elem}).append(this)}return this},wrapInner:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i))})}return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html)}else{self.append(html)}})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body")){jQuery(this).replaceWith(this.childNodes)}}).end()}});jQuery.expr.filters.hidden=function(elem){return!jQuery.expr.filters.visible(elem)};jQuery.expr.filters.visible=function(elem){return elem.offsetWidth>0||elem.offsetHeight>0||elem.getClientRects().length>0};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix)){add(prefix,v)}else{buildParams(prefix+"["+(typeof v==="object"&&v!=null?i:"")+"]",v,traditional,add)}})}else if(!traditional&&jQuery.type(obj)==="object"){for(name in obj){buildParams(prefix+"["+name+"]",obj[name],traditional,add)}}else{add(prefix,obj)}}jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():value==null?"":value;s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(traditional===undefined){traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional}if(jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a)){jQuery.each(a,function(){add(this.name,this.value)})}else{for(prefix in a){buildParams(prefix,a[prefix],traditional,add)}}return s.join("&").replace(r20,"+")};jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}});jQuery.ajaxSettings.xhr=function(){try{return new window.XMLHttpRequest}catch(e){}};var xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();support.cors=!!xhrSupported&&"withCredentials"in xhrSupported;support.ajax=xhrSupported=!!xhrSupported;jQuery.ajaxTransport(function(options){var callback,errorCallback;if(support.cors||xhrSupported&&!options.crossDomain){return{send:function(headers,complete){var i,xhr=options.xhr();xhr.open(options.type,options.url,options.async,options.username,options.password);if(options.xhrFields){for(i in options.xhrFields){xhr[i]=options.xhrFields[i]}}if(options.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(options.mimeType)}if(!options.crossDomain&&!headers["X-Requested-With"]){headers["X-Requested-With"]="XMLHttpRequest"}for(i in headers){xhr.setRequestHeader(i,headers[i])}callback=function(type){return function(){if(callback){callback=errorCallback=xhr.onload=xhr.onerror=xhr.onabort=xhr.onreadystatechange=null;if(type==="abort"){xhr.abort()}else if(type==="error"){if(typeof xhr.status!=="number"){complete(0,"error")}else{complete(xhr.status,xhr.statusText)}}else{complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,(xhr.responseType||"text")!=="text"||typeof xhr.responseText!=="string"?{binary:xhr.response}:{text:xhr.responseText},xhr.getAllResponseHeaders())}}}};xhr.onload=callback();errorCallback=xhr.onerror=callback("error");if(xhr.onabort!==undefined){xhr.onabort=errorCallback}else{xhr.onreadystatechange=function(){if(xhr.readyState===4){window.setTimeout(function(){if(callback){errorCallback()}})}}}callback=callback("abort");try{xhr.send(options.hasContent&&options.data||null)}catch(e){if(callback){throw e}}},abort:function(){if(callback){callback()}}}}});jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, "+"application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(text){jQuery.globalEval(text);return text}}});jQuery.ajaxPrefilter("script",function(s){if(s.cache===undefined){s.cache=false}if(s.crossDomain){s.type="GET"}});jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,callback;return{send:function(_,complete){script=jQuery("<script>").prop({charset:s.scriptCharset,src:s.url}).on("load error",callback=function(evt){script.remove();callback=null;if(evt){complete(evt.type==="error"?404:200,evt.type)}});document.head.appendChild(script[0])},abort:function(){if(callback){callback()}}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;this[callback]=true;return callback}});jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==false&&(rjsonp.test(s.url)?"url":typeof s.data==="string"&&(s.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&rjsonp.test(s.data)&&"data");if(jsonProp||s.dataTypes[0]==="jsonp"){callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback;if(jsonProp){s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName)}else if(s.jsonp!==false){s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName}s.converters["script json"]=function(){if(!responseContainer){jQuery.error(callbackName+" was not called")}return responseContainer[0]};s.dataTypes[0]="json";overwritten=window[callbackName];window[callbackName]=function(){responseContainer=arguments};jqXHR.always(function(){if(overwritten===undefined){jQuery(window).removeProp(callbackName)}else{window[callbackName]=overwritten}if(s[callbackName]){s.jsonpCallback=originalSettings.jsonpCallback;oldCallbacks.push(callbackName)}if(responseContainer&&jQuery.isFunction(overwritten)){overwritten(responseContainer[0])}responseContainer=overwritten=undefined});return"script"}});jQuery.parseHTML=function(data,context,keepScripts){if(!data||typeof data!=="string"){return null}if(typeof context==="boolean"){keepScripts=context;context=false}context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];if(parsed){return[context.createElement(parsed[1])]}parsed=buildFragment([data],context,scripts);if(scripts&&scripts.length){jQuery(scripts).remove()}return jQuery.merge([],parsed.childNodes)};var _load=jQuery.fn.load;jQuery.fn.load=function(url,params,callback){if(typeof url!=="string"&&_load){return _load.apply(this,arguments)}var selector,type,response,self=this,off=url.indexOf(" ");if(off>-1){selector=jQuery.trim(url.slice(off));url=url.slice(0,off)}if(jQuery.isFunction(params)){callback=params;params=undefined}else if(params&&typeof params==="object"){type="POST"}if(self.length>0){jQuery.ajax({url:url,type:type||"GET",dataType:"html",data:params}).done(function(responseText){response=arguments;self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).always(callback&&function(jqXHR,status){self.each(function(){callback.apply(this,response||[jqXHR.responseText,status,jqXHR])})})}return this};jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}});jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length};function getWindow(elem){return jQuery.isWindow(elem)?elem:elem.nodeType===9&&elem.defaultView}jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};if(position==="static"){elem.style.position="relative"}curOffset=curElem.offset();curCSSTop=jQuery.css(elem,"top");curCSSLeft=jQuery.css(elem,"left");calculatePosition=(position==="absolute"||position==="fixed")&&(curCSSTop+curCSSLeft).indexOf("auto")>-1;if(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left}else{curTop=parseFloat(curCSSTop)||0;curLeft=parseFloat(curCSSLeft)||0}if(jQuery.isFunction(options)){options=options.call(elem,i,jQuery.extend({},curOffset))}if(options.top!=null){props.top=options.top-curOffset.top+curTop}if(options.left!=null){props.left=options.left-curOffset.left+curLeft}if("using"in options){options.using.call(elem,props)}else{curElem.css(props)}}};jQuery.fn.extend({offset:function(options){if(arguments.length){return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)})}var docElem,win,elem=this[0],box={top:0,left:0},doc=elem&&elem.ownerDocument;if(!doc){return}docElem=doc.documentElement;if(!jQuery.contains(docElem,elem)){return box}box=elem.getBoundingClientRect();win=getWindow(doc);return{top:box.top+win.pageYOffset-docElem.clientTop,left:box.left+win.pageXOffset-docElem.clientLeft}},position:function(){if(!this[0]){return}var offsetParent,offset,elem=this[0],parentOffset={top:0,left:0};if(jQuery.css(elem,"position")==="fixed"){offset=elem.getBoundingClientRect()}else{offsetParent=this.offsetParent();offset=this.offset();if(!jQuery.nodeName(offsetParent[0],"html")){parentOffset=offsetParent.offset()}parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",true);parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",true)}return{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",true),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent;while(offsetParent&&jQuery.css(offsetParent,"position")==="static"){offsetParent=offsetParent.offsetParent}return offsetParent||documentElement})}});jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win=getWindow(elem);if(val===undefined){return win?win[prop]:elem[method]}if(win){win.scrollTo(!top?val:win.pageXOffset,top?val:win.pageYOffset)}else{elem[method]=val}},method,val,arguments.length)}});jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){if(computed){computed=curCSS(elem,prop);return rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed}})});jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||typeof margin!=="boolean"),extra=defaultExtra||(margin===true||value===true?"margin":"border");return access(this,function(elem,type,value){var doc;if(jQuery.isWindow(elem)){return elem.document.documentElement["client"+name]}if(elem.nodeType===9){doc=elem.documentElement;return Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])}return value===undefined?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:undefined,chainable,null)}})});jQuery.fn.extend({bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return arguments.length===1?this.off(selector,"**"):this.off(types,selector||"**",fn)},size:function(){return this.length}});jQuery.fn.andSelf=jQuery.fn.addBack;if(typeof define==="function"&&define.amd){define("jquery",[],function(){return jQuery})}var _jQuery=window.jQuery,_$=window.$;jQuery.noConflict=function(deep){if(window.$===jQuery){window.$=_$}if(deep&&window.jQuery===jQuery){window.jQuery=_jQuery}return jQuery};if(!noGlobal){window.jQuery=window.$=jQuery}return jQuery})},{}],17:[function(require,module,exports){(function(global){(function(){var undefined;var VERSION="4.17.2";var LARGE_ARRAY_SIZE=200;var CORE_ERROR_TEXT="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",FUNC_ERROR_TEXT="Expected a function";var HASH_UNDEFINED="__lodash_hash_undefined__";var MAX_MEMOIZE_SIZE=500;var PLACEHOLDER="__lodash_placeholder__";var CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4;var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2
;var WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_BOUND_FLAG=4,WRAP_CURRY_FLAG=8,WRAP_CURRY_RIGHT_FLAG=16,WRAP_PARTIAL_FLAG=32,WRAP_PARTIAL_RIGHT_FLAG=64,WRAP_ARY_FLAG=128,WRAP_REARG_FLAG=256,WRAP_FLIP_FLAG=512;var DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...";var HOT_COUNT=800,HOT_SPAN=16;var LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,LAZY_WHILE_FLAG=3;var INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,MAX_INTEGER=1.7976931348623157e308,NAN=0/0;var MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1;var wrapFlags=[["ary",WRAP_ARY_FLAG],["bind",WRAP_BIND_FLAG],["bindKey",WRAP_BIND_KEY_FLAG],["curry",WRAP_CURRY_FLAG],["curryRight",WRAP_CURRY_RIGHT_FLAG],["flip",WRAP_FLIP_FLAG],["partial",WRAP_PARTIAL_FLAG],["partialRight",WRAP_PARTIAL_RIGHT_FLAG],["rearg",WRAP_REARG_FLAG]];var argsTag="[object Arguments]",arrayTag="[object Array]",asyncTag="[object AsyncFunction]",boolTag="[object Boolean]",dateTag="[object Date]",domExcTag="[object DOMException]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",nullTag="[object Null]",objectTag="[object Object]",promiseTag="[object Promise]",proxyTag="[object Proxy]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",undefinedTag="[object Undefined]",weakMapTag="[object WeakMap]",weakSetTag="[object WeakSet]";var arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var reEscapedHtml=/&(?:amp|lt|gt|quot|#39);/g,reUnescapedHtml=/[&<>"']/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source);var reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g;var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar.source);var reTrim=/^\s+|\s+$/g,reTrimStart=/^\s+/,reTrimEnd=/\s+$/;var reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /;var reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var reEscapeChar=/\\(\\)?/g;var reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var reFlags=/\w*$/;var reIsBadHex=/^[-+]0x[0-9a-f]+$/i;var reIsBinary=/^0b[01]+$/i;var reIsHostCtor=/^\[object .+?Constructor\]$/;var reIsOctal=/^0o[0-7]+$/i;var reIsUint=/^(?:0|[1-9]\d*)$/;var reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;var reNoMatch=/($^)/;var reUnescapedString=/['\n\r\u2028\u2029\\]/g;var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange;var rsApos="[']",rsAstral="["+rsAstralRange+"]",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboRange+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ="\\u200d";var rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",rsOptContrLower="(?:"+rsApos+"(?:d|ll|m|re|s|t|ve))?",rsOptContrUpper="(?:"+rsApos+"(?:D|LL|M|RE|S|T|VE))?",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsOrdLower="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",rsOrdUpper="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")";var reApos=RegExp(rsApos,"g");var reComboMark=RegExp(rsCombo,"g");var reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");var reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+"+rsOptContrLower+"(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+"+rsOptContrUpper+"(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+"+rsOptContrLower,rsUpper+"+"+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join("|"),"g");var reHasUnicode=RegExp("["+rsZWJ+rsAstralRange+rsComboRange+rsVarRange+"]");var reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var contextProps=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"];var templateCounter=-1;var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=true;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=false;var deburredLetters={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"};var htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var htmlUnescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};var stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};var freeParseFloat=parseFloat,freeParseInt=parseInt;var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function("return this")();var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var freeProcess=moduleExports&&freeGlobal.process;var nodeUtil=function(){try{return freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();var nodeIsArrayBuffer=nodeUtil&&nodeUtil.isArrayBuffer,nodeIsDate=nodeUtil&&nodeUtil.isDate,nodeIsMap=nodeUtil&&nodeUtil.isMap,nodeIsRegExp=nodeUtil&&nodeUtil.isRegExp,nodeIsSet=nodeUtil&&nodeUtil.isSet,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function addMapEntry(map,pair){map.set(pair[0],pair[1]);return map}function addSetEntry(set,value){set.add(value);return set}function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function arrayAggregator(array,setter,iteratee,accumulator){var index=-1,length=array==null?0:array.length;while(++index<length){var value=array[index];setter(accumulator,value,iteratee(value),array)}return accumulator}function arrayEach(array,iteratee){var index=-1,length=array==null?0:array.length;while(++index<length){if(iteratee(array[index],index,array)===false){break}}return array}function arrayEachRight(array,iteratee){var length=array==null?0:array.length;while(length--){if(iteratee(array[length],length,array)===false){break}}return array}function arrayEvery(array,predicate){var index=-1,length=array==null?0:array.length;while(++index<length){if(!predicate(array[index],index,array)){return false}}return true}function arrayFilter(array,predicate){var index=-1,length=array==null?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(predicate(value,index,array)){result[resIndex++]=value}}return result}function arrayIncludes(array,value){var length=array==null?0:array.length;return!!length&&baseIndexOf(array,value,0)>-1}function arrayIncludesWith(array,value,comparator){var index=-1,length=array==null?0:array.length;while(++index<length){if(comparator(value,array[index])){return true}}return false}function arrayMap(array,iteratee){var index=-1,length=array==null?0:array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array)}return result}function arrayPush(array,values){var index=-1,length=values.length,offset=array.length;while(++index<length){array[offset+index]=values[index]}return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array==null?0:array.length;if(initAccum&&length){accumulator=array[++index]}while(++index<length){accumulator=iteratee(accumulator,array[index],index,array)}return accumulator}function arrayReduceRight(array,iteratee,accumulator,initAccum){var length=array==null?0:array.length;if(initAccum&&length){accumulator=array[--length]}while(length--){accumulator=iteratee(accumulator,array[length],length,array)}return accumulator}function arraySome(array,predicate){var index=-1,length=array==null?0:array.length;while(++index<length){if(predicate(array[index],index,array)){return true}}return false}var asciiSize=baseProperty("length");function asciiToArray(string){return string.split("")}function asciiWords(string){return string.match(reAsciiWord)||[]}function baseFindKey(collection,predicate,eachFunc){var result;eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection)){result=key;return false}});return result}function baseFindIndex(array,predicate,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?1:-1);while(fromRight?index--:++index<length){if(predicate(array[index],index,array)){return index}}return-1}function baseIndexOf(array,value,fromIndex){return value===value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}function baseIndexOfWith(array,value,fromIndex,comparator){var index=fromIndex-1,length=array.length;while(++index<length){if(comparator(array[index],value)){return index}}return-1}function baseIsNaN(value){return value!==value}function baseMean(array,iteratee){var length=array==null?0:array.length;return length?baseSum(array,iteratee)/length:NAN}function baseProperty(key){return function(object){return object==null?undefined:object[key]}}function basePropertyOf(object){return function(key){return object==null?undefined:object[key]}}function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){eachFunc(collection,function(value,index,collection){accumulator=initAccum?(initAccum=false,value):iteratee(accumulator,value,index,collection)});return accumulator}function baseSortBy(array,comparer){var length=array.length;array.sort(comparer);while(length--){array[length]=array[length].value}return array}function baseSum(array,iteratee){var result,index=-1,length=array.length;while(++index<length){var current=iteratee(array[index]);if(current!==undefined){result=result===undefined?current:result+current}}return result}function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index)}return result}function baseToPairs(object,props){return arrayMap(props,function(key){return[key,object[key]]})}function baseUnary(func){return function(value){return func(value)}}function baseValues(object,props){return arrayMap(props,function(key){return object[key]})}function cacheHas(cache,key){return cache.has(key)}function charsStartIndex(strSymbols,chrSymbols){var index=-1,length=strSymbols.length;while(++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}return index}function charsEndIndex(strSymbols,chrSymbols){var index=strSymbols.length;while(index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}return index}function countHolders(array,placeholder){var length=array.length,result=0;while(length--){if(array[length]===placeholder){++result}}return result}var deburrLetter=basePropertyOf(deburredLetters);var escapeHtmlChar=basePropertyOf(htmlEscapes);function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function getValue(object,key){return object==null?undefined:object[key]}function hasUnicode(string){return reHasUnicode.test(string)}function hasUnicodeWord(string){return reHasUnicodeWord.test(string)}function iteratorToArray(iterator){var data,result=[];while(!(data=iterator.next()).done){result.push(data.value)}return result}function mapToArray(map){var index=-1,result=Array(map.size);map.forEach(function(value,key){result[++index]=[key,value]});return result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function replaceHolders(array,placeholder){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(value===placeholder||value===PLACEHOLDER){array[index]=PLACEHOLDER;result[resIndex++]=index}}return result}function setToArray(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=value});return result}function setToPairs(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=[value,value]});return result}function strictIndexOf(array,value,fromIndex){var index=fromIndex-1,length=array.length;while(++index<length){if(array[index]===value){return index}}return-1}function strictLastIndexOf(array,value,fromIndex){var index=fromIndex+1;while(index--){if(array[index]===value){return index}}return index}function stringSize(string){return hasUnicode(string)?unicodeSize(string):asciiSize(string)}function stringToArray(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}var unescapeHtmlChar=basePropertyOf(htmlUnescapes);function unicodeSize(string){var result=reUnicode.lastIndex=0;while(reUnicode.test(string)){++result}return result}function unicodeToArray(string){return string.match(reUnicode)||[]}function unicodeWords(string){return string.match(reUnicodeWord)||[]}var runInContext=function runInContext(context){context=context==null?root:_.defaults(root.Object(),context,_.pick(root,contextProps));var Array=context.Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError;var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype;var coreJsData=context["__core-js_shared__"];var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var idCounter=0;var maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}();var nativeObjectToString=objectProto.toString;var objectCtorString=funcToString.call(Object);var oldDash=root._;var reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Buffer=moduleExports?context.Buffer:undefined,Symbol=context.Symbol,Uint8Array=context.Uint8Array,allocUnsafe=Buffer?Buffer.allocUnsafe:undefined,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,spreadableSymbol=Symbol?Symbol.isConcatSpreadable:undefined,symIterator=Symbol?Symbol.iterator:undefined,symToStringTag=Symbol?Symbol.toStringTag:undefined;var defineProperty=function(){try{var func=getNative(Object,"defineProperty");func({},"",{});return func}catch(e){}}();var ctxClearTimeout=context.clearTimeout!==root.clearTimeout&&context.clearTimeout,ctxNow=Date&&Date.now!==root.Date.now&&Date.now,ctxSetTimeout=context.setTimeout!==root.setTimeout&&context.setTimeout;var nativeCeil=Math.ceil,nativeFloor=Math.floor,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:undefined,nativeIsFinite=context.isFinite,nativeJoin=arrayProto.join,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max,nativeMin=Math.min,nativeNow=Date.now,nativeParseInt=context.parseInt,nativeRandom=Math.random,nativeReverse=arrayProto.reverse;var DataView=getNative(context,"DataView"),Map=getNative(context,"Map"),Promise=getNative(context,"Promise"),Set=getNative(context,"Set"),WeakMap=getNative(context,"WeakMap"),nativeCreate=getNative(Object,"create");var metaMap=WeakMap&&new WeakMap;var realNames={};var dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap);var symbolProto=Symbol?Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper){return value}if(hasOwnProperty.call(value,"__wrapped__")){return wrapperClone(value)}}return new LodashWrapper(value)}var baseCreate=function(){function object(){}return function(proto){if(!isObject(proto)){return{}}if(objectCreate){return objectCreate(proto)}object.prototype=proto;var result=new object;object.prototype=undefined;return result}}();function baseLodash(){}function LodashWrapper(value,chainAll){this.__wrapped__=value;this.__actions__=[];this.__chain__=!!chainAll;this.__index__=0;this.__values__=undefined}lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}};lodash.prototype=baseLodash.prototype;lodash.prototype.constructor=lodash;LodashWrapper.prototype=baseCreate(baseLodash.prototype);LodashWrapper.prototype.constructor=LodashWrapper;function LazyWrapper(value){this.__wrapped__=value;this.__actions__=[];this.__dir__=1;this.__filtered__=false;this.__iteratees__=[];this.__takeCount__=MAX_ARRAY_LENGTH;this.__views__=[]}function lazyClone(){var result=new LazyWrapper(this.__wrapped__);result.__actions__=copyArray(this.__actions__);result.__dir__=this.__dir__;result.__filtered__=this.__filtered__;result.__iteratees__=copyArray(this.__iteratees__);result.__takeCount__=this.__takeCount__;result.__views__=copyArray(this.__views__);return result}function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1;result.__filtered__=true}else{result=this.clone();result.__dir__*=-1}return result}function lazyValue(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=getView(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||arrLength<LARGE_ARRAY_SIZE||arrLength==length&&takeCount==length){return baseWrapperValue(array,this.__actions__)}var result=[];outer:while(length--&&resIndex<takeCount){index+=dir;var iterIndex=-1,value=array[index];while(++iterIndex<iterLength){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==LAZY_MAP_FLAG){value=computed}else if(!computed){if(type==LAZY_FILTER_FLAG){continue outer}else{break outer}}}result[resIndex++]=value}return result}LazyWrapper.prototype=baseCreate(baseLodash.prototype);LazyWrapper.prototype.constructor=LazyWrapper;function Hash(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{};this.size=0}function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];this.size-=result?1:0;return result}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(data,key)?data[key]:undefined}function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key)}function hashSet(key,value){var data=this.__data__;this.size+=this.has(key)?0:1;data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value;return this}Hash.prototype.clear=hashClear;Hash.prototype["delete"]=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function ListCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[];this.size=0}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){return false}var lastIndex=data.length-1;if(index==lastIndex){data.pop()}else{splice.call(data,index,1)}--this.size;return true}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){++this.size;data.push([key,value])}else{data[index][1]=value}return this}ListCache.prototype.clear=listCacheClear;ListCache.prototype["delete"]=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function MapCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.size=0;this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(key){var result=getMapData(this,key)["delete"](key);this.size-=result?1:0;return result}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;data.set(key,value);this.size+=data.size==size?0:1;return this}MapCache.prototype.clear=mapCacheClear;MapCache.prototype["delete"]=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function SetCache(values){var index=-1,length=values==null?0:values.length;this.__data__=new MapCache;while(++index<length){this.add(values[index])}}function setCacheAdd(value){this.__data__.set(value,HASH_UNDEFINED);return this}function setCacheHas(value){return this.__data__.has(value)}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}function stackClear(){this.__data__=new ListCache;this.size=0}function stackDelete(key){var data=this.__data__,result=data["delete"](key);this.size=data.size;return result}function stackGet(key){return this.__data__.get(key)}function stackHas(key){return this.__data__.has(key)}function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1){pairs.push([key,value]);this.size=++data.size;return this}data=this.__data__=new MapCache(pairs)}data.set(key,value);this.size=data.size;return this}Stack.prototype.clear=stackClear;Stack.prototype["delete"]=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value){if((inherited||hasOwnProperty.call(value,key))&&!(skipIndexes&&(key=="length"||isBuff&&(key=="offset"||key=="parent")||isType&&(key=="buffer"||key=="byteLength"||key=="byteOffset")||isIndex(key,length)))){result.push(key)}}return result}function arraySample(array){var length=array.length;return length?array[baseRandom(0,length-1)]:undefined}function arraySampleSize(array,n){return shuffleSelf(copyArray(array),baseClamp(n,0,array.length))}function arrayShuffle(array){return shuffleSelf(copyArray(array))}function assignInDefaults(objValue,srcValue,key,object){if(objValue===undefined||eq(objValue,objectProto[key])&&!hasOwnProperty.call(object,key)){return srcValue}return objValue}function assignMergeValue(object,key,value){if(value!==undefined&&!eq(object[key],value)||value===undefined&&!(key in object)){baseAssignValue(object,key,value)}}function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===undefined&&!(key in object)){baseAssignValue(object,key,value)}}function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length}}return-1}function baseAggregator(collection,setter,iteratee,accumulator){baseEach(collection,function(value,key,collection){setter(accumulator,value,iteratee(value),collection)});return accumulator}function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}function baseAssignIn(object,source){return object&&copyObject(source,keysIn(source),object)}function baseAssignValue(object,key,value){if(key=="__proto__"&&defineProperty){defineProperty(object,key,{configurable:true,enumerable:true,value:value,writable:true})}else{object[key]=value}}function baseAt(object,paths){var index=-1,length=paths.length,result=Array(length),skip=object==null;while(++index<length){result[index]=skip?undefined:get(object,paths[index])}return result}function baseClamp(number,lower,upper){if(number===number){if(upper!==undefined){number=number<=upper?number:upper}if(lower!==undefined){number=number>=lower?number:lower}}return number}function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=bitmask&CLONE_DEEP_FLAG,isFlat=bitmask&CLONE_FLAT_FLAG,isFull=bitmask&CLONE_SYMBOLS_FLAG;if(customizer){result=object?customizer(value,key,object,stack):customizer(value)}if(result!==undefined){return result}if(!isObject(value)){return value}var isArr=isArray(value);if(isArr){result=initCloneArray(value);if(!isDeep){return copyArray(value,result)}}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value)){return cloneBuffer(value,isDeep)}if(tag==objectTag||tag==argsTag||isFunc&&!object){result=isFlat||isFunc?{}:initCloneObject(value);if(!isDeep){return isFlat?copySymbolsIn(value,baseAssignIn(result,value)):copySymbols(value,baseAssign(result,value))}}else{if(!cloneableTags[tag]){return object?value:{}}result=initCloneByTag(value,tag,baseClone,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked){return stacked}stack.set(value,result);var keysFunc=isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys;var props=isArr?undefined:keysFunc(value);arrayEach(props||value,function(subValue,key){if(props){key=subValue;subValue=value[key]}assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))});return result}function baseConforms(source){var props=keys(source);return function(object){return baseConformsTo(object,source,props)}}function baseConformsTo(object,source,props){var length=props.length;if(object==null){return!length}object=Object(object);while(length--){var key=props[length],predicate=source[key],value=object[key];if(value===undefined&&!(key in object)||!predicate(value)){return false}}return true}function baseDelay(func,wait,args){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return setTimeout(function(){func.apply(undefined,args)},wait)}function baseDifference(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=true,length=array.length,result=[],valuesLength=values.length;if(!length){return result}if(iteratee){values=arrayMap(values,baseUnary(iteratee))}if(comparator){includes=arrayIncludesWith;isCommon=false}else if(values.length>=LARGE_ARRAY_SIZE){includes=cacheHas;isCommon=false;values=new SetCache(values)}outer:while(++index<length){var value=array[index],computed=iteratee==null?value:iteratee(value);value=comparator||value!==0?value:0;if(isCommon&&computed===computed){var valuesIndex=valuesLength;while(valuesIndex--){if(values[valuesIndex]===computed){continue outer}}result.push(value)}else if(!includes(values,computed,comparator)){result.push(value)}}return result}
var baseEach=createBaseEach(baseForOwn);var baseEachRight=createBaseEach(baseForOwnRight,true);function baseEvery(collection,predicate){var result=true;baseEach(collection,function(value,index,collection){result=!!predicate(value,index,collection);return result});return result}function baseExtremum(array,iteratee,comparator){var index=-1,length=array.length;while(++index<length){var value=array[index],current=iteratee(value);if(current!=null&&(computed===undefined?current===current&&!isSymbol(current):comparator(current,computed))){var computed=current,result=value}}return result}function baseFill(array,value,start,end){var length=array.length;start=toInteger(start);if(start<0){start=-start>length?0:length+start}end=end===undefined||end>length?length:toInteger(end);if(end<0){end+=length}end=start>end?0:toLength(end);while(start<end){array[start++]=value}return array}function baseFilter(collection,predicate){var result=[];baseEach(collection,function(value,index,collection){if(predicate(value,index,collection)){result.push(value)}});return result}function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;predicate||(predicate=isFlattenable);result||(result=[]);while(++index<length){var value=array[index];if(depth>0&&predicate(value)){if(depth>1){baseFlatten(value,depth-1,predicate,isStrict,result)}else{arrayPush(result,value)}}else if(!isStrict){result[result.length]=value}}return result}var baseFor=createBaseFor();var baseForRight=createBaseFor(true);function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return object&&baseForRight(object,iteratee,keys)}function baseFunctions(object,props){return arrayFilter(props,function(key){return isFunction(object[key])})}function baseGet(object,path){path=castPath(path,object);var index=0,length=path.length;while(object!=null&&index<length){object=object[toKey(path[index++])]}return index&&index==length?object:undefined}function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}function baseGetTag(value){if(value==null){return value===undefined?undefinedTag:nullTag}value=Object(value);return symToStringTag&&symToStringTag in value?getRawTag(value):objectToString(value)}function baseGt(value,other){return value>other}function baseHas(object,key){return object!=null&&hasOwnProperty.call(object,key)}function baseHasIn(object,key){return object!=null&&key in Object(object)}function baseInRange(number,start,end){return number>=nativeMin(start,end)&&number<nativeMax(start,end)}function baseIntersection(arrays,iteratee,comparator){var includes=comparator?arrayIncludesWith:arrayIncludes,length=arrays[0].length,othLength=arrays.length,othIndex=othLength,caches=Array(othLength),maxLength=Infinity,result=[];while(othIndex--){var array=arrays[othIndex];if(othIndex&&iteratee){array=arrayMap(array,baseUnary(iteratee))}maxLength=nativeMin(array.length,maxLength);caches[othIndex]=!comparator&&(iteratee||length>=120&&array.length>=120)?new SetCache(othIndex&&array):undefined}array=arrays[0];var index=-1,seen=caches[0];outer:while(++index<length&&result.length<maxLength){var value=array[index],computed=iteratee?iteratee(value):value;value=comparator||value!==0?value:0;if(!(seen?cacheHas(seen,computed):includes(result,computed,comparator))){othIndex=othLength;while(--othIndex){var cache=caches[othIndex];if(!(cache?cacheHas(cache,computed):includes(arrays[othIndex],computed,comparator))){continue outer}}if(seen){seen.push(computed)}result.push(value)}}return result}function baseInverter(object,setter,iteratee,accumulator){baseForOwn(object,function(value,key,object){setter(accumulator,iteratee(value),key,object)});return accumulator}function baseInvoke(object,path,args){path=castPath(path,object);object=parent(object,path);var func=object==null?object:object[toKey(last(path))];return func==null?undefined:apply(func,object,args)}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function baseIsArrayBuffer(value){return isObjectLike(value)&&baseGetTag(value)==arrayBufferTag}function baseIsDate(value){return isObjectLike(value)&&baseGetTag(value)==dateTag}function baseIsEqual(value,other,bitmask,customizer,stack){if(value===other){return true}if(value==null||other==null||!isObject(value)&&!isObjectLike(other)){return value!==value&&other!==other}return baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack)}function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;if(!objIsArr){objTag=getTag(object);objTag=objTag==argsTag?objectTag:objTag}if(!othIsArr){othTag=getTag(other);othTag=othTag==argsTag?objectTag:othTag}var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other)){return false}objIsArr=true;objIsObj=false}if(isSameTag&&!objIsObj){stack||(stack=new Stack);return objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack)}if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;stack||(stack=new Stack);return equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}if(!isSameTag){return false}stack||(stack=new Stack);return equalObjects(object,other,bitmask,customizer,equalFunc,stack)}function baseIsMap(value){return isObjectLike(value)&&getTag(value)==mapTag}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(object==null){return!length}object=Object(object);while(index--){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object)){return false}}while(++index<length){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object)){return false}}else{var stack=new Stack;if(customizer){var result=customizer(objValue,srcValue,key,object,source,stack)}if(!(result===undefined?baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG,customizer,stack):result)){return false}}}return true}function baseIsNative(value){if(!isObject(value)||isMasked(value)){return false}var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function baseIsRegExp(value){return isObjectLike(value)&&baseGetTag(value)==regexpTag}function baseIsSet(value){return isObjectLike(value)&&getTag(value)==setTag}function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}function baseIteratee(value){if(typeof value=="function"){return value}if(value==null){return identity}if(typeof value=="object"){return isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value)}return property(value)}function baseKeys(object){if(!isPrototype(object)){return nativeKeys(object)}var result=[];for(var key in Object(object)){if(hasOwnProperty.call(object,key)&&key!="constructor"){result.push(key)}}return result}function baseKeysIn(object){if(!isObject(object)){return nativeKeysIn(object)}var isProto=isPrototype(object),result=[];for(var key in object){if(!(key=="constructor"&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key)}}return result}function baseLt(value,other){return value<other}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)});return result}function baseMatches(source){var matchData=getMatchData(source);if(matchData.length==1&&matchData[0][2]){return matchesStrictComparable(matchData[0][0],matchData[0][1])}return function(object){return object===source||baseIsMatch(object,source,matchData)}}function baseMatchesProperty(path,srcValue){if(isKey(path)&&isStrictComparable(srcValue)){return matchesStrictComparable(toKey(path),srcValue)}return function(object){var objValue=get(object,path);return objValue===undefined&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseMerge(object,source,srcIndex,customizer,stack){if(object===source){return}baseFor(source,function(srcValue,key){if(isObject(srcValue)){stack||(stack=new Stack);baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack)}else{var newValue=customizer?customizer(object[key],srcValue,key+"",object,source,stack):undefined;if(newValue===undefined){newValue=srcValue}assignMergeValue(object,key,newValue)}},keysIn)}function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=object[key],srcValue=source[key],stacked=stack.get(srcValue);if(stacked){assignMergeValue(object,key,stacked);return}var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):undefined;var isCommon=newValue===undefined;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue;if(isArr||isBuff||isTyped){if(isArray(objValue)){newValue=objValue}else if(isArrayLikeObject(objValue)){newValue=copyArray(objValue)}else if(isBuff){isCommon=false;newValue=cloneBuffer(srcValue,true)}else if(isTyped){isCommon=false;newValue=cloneTypedArray(srcValue,true)}else{newValue=[]}}else if(isPlainObject(srcValue)||isArguments(srcValue)){newValue=objValue;if(isArguments(objValue)){newValue=toPlainObject(objValue)}else if(!isObject(objValue)||srcIndex&&isFunction(objValue)){newValue=initCloneObject(srcValue)}}else{isCommon=false}}if(isCommon){stack.set(srcValue,newValue);mergeFunc(newValue,srcValue,srcIndex,customizer,stack);stack["delete"](srcValue)}assignMergeValue(object,key,newValue)}function baseNth(array,n){var length=array.length;if(!length){return}n+=n<0?length:0;return isIndex(n,length)?array[n]:undefined}function baseOrderBy(collection,iteratees,orders){var index=-1;iteratees=arrayMap(iteratees.length?iteratees:[identity],baseUnary(getIteratee()));var result=baseMap(collection,function(value,key,collection){var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value)});return{criteria:criteria,index:++index,value:value}});return baseSortBy(result,function(object,other){return compareMultiple(object,other,orders)})}function basePick(object,paths){object=Object(object);return basePickBy(object,paths,function(value,path){return hasIn(object,path)})}function basePickBy(object,paths,predicate){var index=-1,length=paths.length,result={};while(++index<length){var path=paths[index],value=baseGet(object,path);if(predicate(value,path)){baseSet(result,castPath(path,object),value)}}return result}function basePropertyDeep(path){return function(object){return baseGet(object,path)}}function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;if(array===values){values=copyArray(values)}if(iteratee){seen=arrayMap(array,baseUnary(iteratee))}while(++index<length){var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;while((fromIndex=indexOf(seen,computed,fromIndex,comparator))>-1){if(seen!==array){splice.call(seen,fromIndex,1)}splice.call(array,fromIndex,1)}}return array}function basePullAt(array,indexes){var length=array?indexes.length:0,lastIndex=length-1;while(length--){var index=indexes[length];if(length==lastIndex||index!==previous){var previous=index;if(isIndex(index)){splice.call(array,index,1)}else{baseUnset(array,index)}}}return array}function baseRandom(lower,upper){return lower+nativeFloor(nativeRandom()*(upper-lower+1))}function baseRange(start,end,step,fromRight){var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);while(length--){result[fromRight?length:++index]=start;start+=step}return result}function baseRepeat(string,n){var result="";if(!string||n<1||n>MAX_SAFE_INTEGER){return result}do{if(n%2){result+=string}n=nativeFloor(n/2);if(n){string+=string}}while(n);return result}function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}function baseSample(collection){return arraySample(values(collection))}function baseSampleSize(collection,n){var array=values(collection);return shuffleSelf(array,baseClamp(n,0,array.length))}function baseSet(object,path,value,customizer){if(!isObject(object)){return object}path=castPath(path,object);var index=-1,length=path.length,lastIndex=length-1,nested=object;while(nested!=null&&++index<length){var key=toKey(path[index]),newValue=value;if(index!=lastIndex){var objValue=nested[key];newValue=customizer?customizer(objValue,key,nested):undefined;if(newValue===undefined){newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{}}}assignValue(nested,key,newValue);nested=nested[key]}return object}var baseSetData=!metaMap?identity:function(func,data){metaMap.set(func,data);return func};var baseSetToString=!defineProperty?identity:function(func,string){return defineProperty(func,"toString",{configurable:true,enumerable:false,value:constant(string),writable:true})};function baseShuffle(collection){return shuffleSelf(values(collection))}function baseSlice(array,start,end){var index=-1,length=array.length;if(start<0){start=-start>length?0:length+start}end=end>length?length:end;if(end<0){end+=length}length=start>end?0:end-start>>>0;start>>>=0;var result=Array(length);while(++index<length){result[index]=array[index+start]}return result}function baseSome(collection,predicate){var result;baseEach(collection,function(value,index,collection){result=predicate(value,index,collection);return!result});return!!result}function baseSortedIndex(array,value,retHighest){var low=0,high=array==null?low:array.length;if(typeof value=="number"&&value===value&&high<=HALF_MAX_ARRAY_LENGTH){while(low<high){var mid=low+high>>>1,computed=array[mid];if(computed!==null&&!isSymbol(computed)&&(retHighest?computed<=value:computed<value)){low=mid+1}else{high=mid}}return high}return baseSortedIndexBy(array,value,identity,retHighest)}function baseSortedIndexBy(array,value,iteratee,retHighest){value=iteratee(value);var low=0,high=array==null?0:array.length,valIsNaN=value!==value,valIsNull=value===null,valIsSymbol=isSymbol(value),valIsUndefined=value===undefined;while(low<high){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),othIsDefined=computed!==undefined,othIsNull=computed===null,othIsReflexive=computed===computed,othIsSymbol=isSymbol(computed);if(valIsNaN){var setLow=retHighest||othIsReflexive}else if(valIsUndefined){setLow=othIsReflexive&&(retHighest||othIsDefined)}else if(valIsNull){setLow=othIsReflexive&&othIsDefined&&(retHighest||!othIsNull)}else if(valIsSymbol){setLow=othIsReflexive&&othIsDefined&&!othIsNull&&(retHighest||!othIsSymbol)}else if(othIsNull||othIsSymbol){setLow=false}else{setLow=retHighest?computed<=value:computed<value}if(setLow){low=mid+1}else{high=mid}}return nativeMin(high,MAX_ARRAY_INDEX)}function baseSortedUniq(array,iteratee){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;if(!index||!eq(computed,seen)){var seen=computed;result[resIndex++]=value===0?0:value}}return result}function baseToNumber(value){if(typeof value=="number"){return value}if(isSymbol(value)){return NAN}return+value}function baseToString(value){if(typeof value=="string"){return value}if(isArray(value)){return arrayMap(value,baseToString)+""}if(isSymbol(value)){return symbolToString?symbolToString.call(value):""}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=true,result=[],seen=result;if(comparator){isCommon=false;includes=arrayIncludesWith}else if(length>=LARGE_ARRAY_SIZE){var set=iteratee?null:createSet(array);if(set){return setToArray(set)}isCommon=false;includes=cacheHas;seen=new SetCache}else{seen=iteratee?[]:result}outer:while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;value=comparator||value!==0?value:0;if(isCommon&&computed===computed){var seenIndex=seen.length;while(seenIndex--){if(seen[seenIndex]===computed){continue outer}}if(iteratee){seen.push(computed)}result.push(value)}else if(!includes(seen,computed,comparator)){if(seen!==result){seen.push(computed)}result.push(value)}}return result}function baseUnset(object,path){path=castPath(path,object);object=parent(object,path);return object==null||delete object[toKey(last(path))]}function baseUpdate(object,path,updater,customizer){return baseSet(object,path,updater(baseGet(object,path)),customizer)}function baseWhile(array,predicate,isDrop,fromRight){var length=array.length,index=fromRight?length:-1;while((fromRight?index--:++index<length)&&predicate(array[index],index,array)){}return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;if(result instanceof LazyWrapper){result=result.value()}return arrayReduce(actions,function(result,action){return action.func.apply(action.thisArg,arrayPush([result],action.args))},result)}function baseXor(arrays,iteratee,comparator){var length=arrays.length;if(length<2){return length?baseUniq(arrays[0]):[]}var index=-1,result=Array(length);while(++index<length){var array=arrays[index],othIndex=-1;while(++othIndex<length){if(othIndex!=index){result[index]=baseDifference(result[index]||array,arrays[othIndex],iteratee,comparator)}}}return baseUniq(baseFlatten(result,1),iteratee,comparator)}function baseZipObject(props,values,assignFunc){var index=-1,length=props.length,valsLength=values.length,result={};while(++index<length){var value=index<valsLength?values[index]:undefined;assignFunc(result,props[index],value)}return result}function castArrayLikeObject(value){return isArrayLikeObject(value)?value:[]}function castFunction(value){return typeof value=="function"?value:identity}function castPath(value,object){if(isArray(value)){return value}return isKey(value,object)?[value]:stringToPath(toString(value))}var castRest=baseRest;function castSlice(array,start,end){var length=array.length;end=end===undefined?length:end;return!start&&end>=length?array:baseSlice(array,start,end)}var clearTimeout=ctxClearTimeout||function(id){return root.clearTimeout(id)};function cloneBuffer(buffer,isDeep){if(isDeep){return buffer.slice()}var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);buffer.copy(result);return result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);new Uint8Array(result).set(new Uint8Array(arrayBuffer));return result}function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}function cloneMap(map,isDeep,cloneFunc){var array=isDeep?cloneFunc(mapToArray(map),CLONE_DEEP_FLAG):mapToArray(map);return arrayReduce(array,addMapEntry,new map.constructor)}function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));result.lastIndex=regexp.lastIndex;return result}function cloneSet(set,isDeep,cloneFunc){var array=isDeep?cloneFunc(setToArray(set),CLONE_DEEP_FLAG):setToArray(set);return arrayReduce(array,addSetEntry,new set.constructor)}function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function compareAscending(value,other){if(value!==other){var valIsDefined=value!==undefined,valIsNull=value===null,valIsReflexive=value===value,valIsSymbol=isSymbol(value);var othIsDefined=other!==undefined,othIsNull=other===null,othIsReflexive=other===other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive){return 1}if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive){return-1}}return 0}function compareMultiple(object,other,orders){var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;while(++index<length){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength){return result}var order=orders[index];return result*(order=="desc"?-1:1)}}return object.index-other.index}function composeArgs(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;while(++leftIndex<leftLength){result[leftIndex]=partials[leftIndex]}while(++argsIndex<holdersLength){if(isUncurried||argsIndex<argsLength){result[holders[argsIndex]]=args[argsIndex]}}while(rangeLength--){result[leftIndex++]=args[argsIndex++]}return result}function composeArgsRight(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;while(++argsIndex<rangeLength){result[argsIndex]=args[argsIndex]}var offset=argsIndex;while(++rightIndex<rightLength){result[offset+rightIndex]=partials[rightIndex]}while(++holdersIndex<holdersLength){if(isUncurried||argsIndex<argsLength){result[offset+holders[holdersIndex]]=args[argsIndex++]}}return result}function copyArray(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length){array[index]=source[index]}return array}function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];var newValue=customizer?customizer(object[key],source[key],key,object,source):undefined;if(newValue===undefined){newValue=source[key]}if(isNew){baseAssignValue(object,key,newValue)}else{assignValue(object,key,newValue)}}return object}function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}function copySymbolsIn(source,object){return copyObject(source,getSymbolsIn(source),object)}function createAggregator(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,getIteratee(iteratee,2),accumulator)}}function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:undefined,guard=length>2?sources[2]:undefined;customizer=assigner.length>3&&typeof customizer=="function"?(length--,customizer):undefined;if(guard&&isIterateeCall(sources[0],sources[1],guard)){customizer=length<3?undefined:customizer;length=1}object=Object(object);while(++index<length){var source=sources[index];if(source){assigner(object,source,index,customizer)}}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(collection==null){return collection}if(!isArrayLike(collection)){return eachFunc(collection,iteratee)}var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);while(fromRight?index--:++index<length){if(iteratee(iterable[index],index,iterable)===false){break}}return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;while(length--){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===false){break}}return object}}function createBind(func,bitmask,thisArg){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,arguments)}return wrapper}function createCaseFirst(methodName){return function(string){string=toString(string);var strSymbols=hasUnicode(string)?stringToArray(string):undefined;var chr=strSymbols?strSymbols[0]:string.charAt(0);var trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,"")),callback,"")}}function createCtor(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createCurry(func,bitmask,arity){var Ctor=createCtor(func);function wrapper(){var length=arguments.length,args=Array(length),index=length,placeholder=getHolder(wrapper);while(index--){args[index]=arguments[index]}var holders=length<3&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);length-=holders.length;if(length<arity){return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,undefined,args,holders,undefined,undefined,arity-length)}var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return apply(fn,this,args)}return wrapper}function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=getIteratee(predicate,3);collection=keys(collection);predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:undefined}}function createFlow(fromRight){return flatRest(function(funcs){var length=funcs.length,index=length,prereq=LodashWrapper.prototype.thru;if(fromRight){funcs.reverse()}while(index--){var func=funcs[index];if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}if(prereq&&!wrapper&&getFuncName(func)=="wrapper"){var wrapper=new LodashWrapper([],true)}}index=wrapper?index:length;while(++index<length){func=funcs[index];var funcName=getFuncName(func),data=funcName=="wrapper"?getData(func):undefined;if(data&&isLaziable(data[0])&&data[1]==(WRAP_ARY_FLAG|WRAP_CURRY_FLAG|WRAP_PARTIAL_FLAG|WRAP_REARG_FLAG)&&!data[4].length&&data[9]==1){wrapper=wrapper[getFuncName(data[0])].apply(wrapper,data[3])}else{wrapper=func.length==1&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}}return function(){var args=arguments,value=args[0];if(wrapper&&args.length==1&&isArray(value)&&value.length>=LARGE_ARRAY_SIZE){return wrapper.plant(value).value()}var index=0,result=length?funcs[index].apply(this,args):value;while(++index<length){result=funcs[index].call(this,result)}return result}})}function createHybrid(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=bitmask&WRAP_ARY_FLAG,isBind=bitmask&WRAP_BIND_FLAG,isBindKey=bitmask&WRAP_BIND_KEY_FLAG,isCurried=bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG),isFlip=bitmask&WRAP_FLIP_FLAG,Ctor=isBindKey?undefined:createCtor(func);function wrapper(){var length=arguments.length,args=Array(length),index=length;while(index--){args[index]=arguments[index]}if(isCurried){var placeholder=getHolder(wrapper),holdersCount=countHolders(args,placeholder)}if(partials){args=composeArgs(args,partials,holders,isCurried)}if(partialsRight){args=composeArgsRight(args,partialsRight,holdersRight,isCurried)}length-=holdersCount;if(isCurried&&length<arity){var newHolders=replaceHolders(args,placeholder);return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length)}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;length=args.length;if(argPos){args=reorder(args,argPos)}else if(isFlip&&length>1){args.reverse()}if(isAry&&ary<length){args.length=ary}if(this&&this!==root&&this instanceof wrapper){fn=Ctor||createCtor(fn)}return fn.apply(thisBinding,args)}return wrapper}function createInverter(setter,toIteratee){return function(object,iteratee){return baseInverter(object,setter,toIteratee(iteratee),{})}}function createMathOperation(operator,defaultValue){return function(value,other){var result;if(value===undefined&&other===undefined){return defaultValue}if(value!==undefined){result=value}if(other!==undefined){if(result===undefined){return other}if(typeof value=="string"||typeof other=="string"){value=baseToString(value);other=baseToString(other)}else{value=baseToNumber(value);other=baseToNumber(other)}result=operator(value,other)}return result}}function createOver(arrayFunc){return flatRest(function(iteratees){iteratees=arrayMap(iteratees,baseUnary(getIteratee()));return baseRest(function(args){var thisArg=this;return arrayFunc(iteratees,function(iteratee){return apply(iteratee,thisArg,args)})})})}function createPadding(length,chars){chars=chars===undefined?" ":baseToString(chars);var charsLength=chars.length;if(charsLength<2){return charsLength?baseRepeat(chars,length):chars}var result=baseRepeat(chars,nativeCeil(length/stringSize(chars)));return hasUnicode(chars)?castSlice(stringToArray(result),0,length).join(""):result.slice(0,length)}function createPartial(func,bitmask,thisArg,partials){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);function wrapper(){var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;while(++leftIndex<leftLength){args[leftIndex]=partials[leftIndex]}while(argsLength--){args[leftIndex++]=arguments[++argsIndex]}return apply(fn,isBind?thisArg:this,args)}return wrapper}function createRange(fromRight){return function(start,end,step){if(step&&typeof step!="number"&&isIterateeCall(start,end,step)){end=step=undefined}start=toFinite(start);if(end===undefined){end=start;start=0}else{end=toFinite(end)}step=step===undefined?start<end?1:-1:toFinite(step);return baseRange(start,end,step,fromRight)}}function createRelationalOperation(operator){return function(value,other){if(!(typeof value=="string"&&typeof other=="string")){value=toNumber(value);other=toNumber(other)}return operator(value,other)}}function createRecurry(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=bitmask&WRAP_CURRY_FLAG,newHolders=isCurry?holders:undefined,newHoldersRight=isCurry?undefined:holders,newPartials=isCurry?partials:undefined,newPartialsRight=isCurry?undefined:partials;bitmask|=isCurry?WRAP_PARTIAL_FLAG:WRAP_PARTIAL_RIGHT_FLAG;bitmask&=~(isCurry?WRAP_PARTIAL_RIGHT_FLAG:WRAP_PARTIAL_FLAG);if(!(bitmask&WRAP_CURRY_BOUND_FLAG)){
bitmask&=~(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG)}var newData=[func,bitmask,thisArg,newPartials,newHolders,newPartialsRight,newHoldersRight,argPos,ary,arity];var result=wrapFunc.apply(undefined,newData);if(isLaziable(func)){setData(result,newData)}result.placeholder=placeholder;return setWrapToString(result,func,bitmask)}function createRound(methodName){var func=Math[methodName];return function(number,precision){number=toNumber(number);precision=nativeMin(toInteger(precision),292);if(precision){var pair=(toString(number)+"e").split("e"),value=func(pair[0]+"e"+(+pair[1]+precision));pair=(toString(value)+"e").split("e");return+(pair[0]+"e"+(+pair[1]-precision))}return func(number)}}var createSet=!(Set&&1/setToArray(new Set([,-0]))[1]==INFINITY)?noop:function(values){return new Set(values)};function createToPairs(keysFunc){return function(object){var tag=getTag(object);if(tag==mapTag){return mapToArray(object)}if(tag==setTag){return setToPairs(object)}return baseToPairs(object,keysFunc(object))}}function createWrap(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&WRAP_BIND_KEY_FLAG;if(!isBindKey&&typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var length=partials?partials.length:0;if(!length){bitmask&=~(WRAP_PARTIAL_FLAG|WRAP_PARTIAL_RIGHT_FLAG);partials=holders=undefined}ary=ary===undefined?ary:nativeMax(toInteger(ary),0);arity=arity===undefined?arity:toInteger(arity);length-=holders?holders.length:0;if(bitmask&WRAP_PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined}var data=isBindKey?undefined:getData(func);var newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data){mergeData(newData,data)}func=newData[0];bitmask=newData[1];thisArg=newData[2];partials=newData[3];holders=newData[4];arity=newData[9]=newData[9]==null?isBindKey?0:func.length:nativeMax(newData[9]-length,0);if(!arity&&bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)){bitmask&=~(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)}if(!bitmask||bitmask==WRAP_BIND_FLAG){var result=createBind(func,bitmask,thisArg)}else if(bitmask==WRAP_CURRY_FLAG||bitmask==WRAP_CURRY_RIGHT_FLAG){result=createCurry(func,bitmask,arity)}else if((bitmask==WRAP_PARTIAL_FLAG||bitmask==(WRAP_BIND_FLAG|WRAP_PARTIAL_FLAG))&&!holders.length){result=createPartial(func,bitmask,thisArg,partials)}else{result=createHybrid.apply(undefined,newData)}var setter=data?baseSetData:setData;return setWrapToString(setter(result,newData),func,bitmask)}function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength)){return false}var stacked=stack.get(array);if(stacked&&stack.get(other)){return stacked==other}var index=-1,result=true,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache:undefined;stack.set(array,other);stack.set(other,array);while(++index<arrLength){var arrValue=array[index],othValue=other[index];if(customizer){var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack)}if(compared!==undefined){if(compared){continue}result=false;break}if(seen){if(!arraySome(other,function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){return seen.push(othIndex)}})){result=false;break}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){result=false;break}}stack["delete"](array);stack["delete"](other);return result}function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset){return false}object=object.buffer;other=other.buffer;case arrayBufferTag:if(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other))){return false}return true;case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;convert||(convert=setToArray);if(object.size!=other.size&&!isPartial){return false}var stacked=stack.get(object);if(stacked){return stacked==other}bitmask|=COMPARE_UNORDERED_FLAG;stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);stack["delete"](object);return result;case symbolTag:if(symbolValueOf){return symbolValueOf.call(object)==symbolValueOf.call(other)}}return false}function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial){return false}var index=objLength;while(index--){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key))){return false}}var stacked=stack.get(object);if(stacked&&stack.get(other)){return stacked==other}var result=true;stack.set(object,other);stack.set(other,object);var skipCtor=isPartial;while(++index<objLength){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer){var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack)}if(!(compared===undefined?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=false;break}skipCtor||(skipCtor=key=="constructor")}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&("constructor"in object&&"constructor"in other)&&!(typeof objCtor=="function"&&objCtor instanceof objCtor&&typeof othCtor=="function"&&othCtor instanceof othCtor)){result=false}}stack["delete"](object);stack["delete"](other);return result}function flatRest(func){return setToString(overRest(func,undefined,flatten),func+"")}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}var getData=!metaMap?noop:function(func){return metaMap.get(func)};function getFuncName(func){var result=func.name+"",array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;while(length--){var data=array[length],otherFunc=data.func;if(otherFunc==null||otherFunc==func){return data.name}}return result}function getHolder(func){var object=hasOwnProperty.call(lodash,"placeholder")?lodash:func;return object.placeholder}function getIteratee(){var result=lodash.iteratee||iteratee;result=result===iteratee?baseIteratee:result;return arguments.length?result(arguments[0],arguments[1]):result}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data[typeof key=="string"?"string":"hash"]:data.map}function getMatchData(object){var result=keys(object),length=result.length;while(length--){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined}function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=true}catch(e){}var result=nativeObjectToString.call(value);if(unmasked){if(isOwn){value[symToStringTag]=tag}else{delete value[symToStringTag]}}return result}var getSymbols=nativeGetSymbols?overArg(nativeGetSymbols,Object):stubArray;var getSymbolsIn=!nativeGetSymbols?stubArray:function(object){var result=[];while(object){arrayPush(result,getSymbols(object));object=getPrototype(object)}return result};var getTag=baseGetTag;if(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag){getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:undefined,ctorString=Ctor?toSource(Ctor):"";if(ctorString){switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}}return result}}function getView(start,end,transforms){var index=-1,length=transforms.length;while(++index<length){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size);break}}return{start:start,end:end}}function getWrapDetails(source){var match=source.match(reWrapDetails);return match?match[1].split(reSplitDetails):[]}function hasPath(object,path,hasFunc){path=castPath(path,object);var index=-1,length=path.length,result=false;while(++index<length){var key=toKey(path[index]);if(!(result=object!=null&&hasFunc(object,key))){break}object=object[key]}if(result||++index!=length){return result}length=object==null?0:object.length;return!!length&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}function initCloneArray(array){var length=array.length,result=array.constructor(length);if(length&&typeof array[0]=="string"&&hasOwnProperty.call(array,"index")){result.index=array.index;result.input=array.input}return result}function initCloneObject(object){return typeof object.constructor=="function"&&!isPrototype(object)?baseCreate(getPrototype(object)):{}}function initCloneByTag(object,tag,cloneFunc,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return cloneDataView(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return cloneMap(object,isDeep,cloneFunc);case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return cloneSet(object,isDeep,cloneFunc);case symbolTag:return cloneSymbol(object)}}function insertWrapDetails(source,details){var length=details.length;if(!length){return source}var lastIndex=length-1;details[lastIndex]=(length>1?"& ":"")+details[lastIndex];details=details.join(length>2?", ":" ");return source.replace(reWrapComment,"{\n/* [wrapped with "+details+"] */\n")}function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}function isIndex(value,length){length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(typeof value=="number"||reIsUint.test(value))&&(value>-1&&value%1==0&&value<length)}function isIterateeCall(value,index,object){if(!isObject(object)){return false}var type=typeof index;if(type=="number"?isArrayLike(object)&&isIndex(index,object.length):type=="string"&&index in object){return eq(object[index],value)}return false}function isKey(value,object){if(isArray(value)){return false}var type=typeof value;if(type=="number"||type=="symbol"||type=="boolean"||value==null||isSymbol(value)){return true}return reIsPlainProp.test(value)||!reIsDeepProp.test(value)||object!=null&&value in Object(object)}function isKeyable(value){var type=typeof value;return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if(typeof other!="function"||!(funcName in LazyWrapper.prototype)){return false}if(func===other){return true}var data=getData(other);return!!data&&func===data[0]}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}var isMaskable=coreJsData?isFunction:stubFalse;function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto;return value===proto}function isStrictComparable(value){return value===value&&!isObject(value)}function matchesStrictComparable(key,srcValue){return function(object){if(object==null){return false}return object[key]===srcValue&&(srcValue!==undefined||key in Object(object))}}function memoizeCapped(func){var result=memoize(func,function(key){if(cache.size===MAX_MEMOIZE_SIZE){cache.clear()}return key});var cache=result.cache;return result}function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG|WRAP_ARY_FLAG);var isCombo=srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_CURRY_FLAG||srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(WRAP_ARY_FLAG|WRAP_REARG_FLAG)&&source[7].length<=source[8]&&bitmask==WRAP_CURRY_FLAG;if(!(isCommon||isCombo)){return data}if(srcBitmask&WRAP_BIND_FLAG){data[2]=source[2];newBitmask|=bitmask&WRAP_BIND_FLAG?0:WRAP_CURRY_BOUND_FLAG}var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):value;data[4]=partials?replaceHolders(data[3],PLACEHOLDER):source[4]}value=source[5];if(value){partials=data[5];data[5]=partials?composeArgsRight(partials,value,source[6]):value;data[6]=partials?replaceHolders(data[5],PLACEHOLDER):source[6]}value=source[7];if(value){data[7]=value}if(srcBitmask&WRAP_ARY_FLAG){data[8]=data[8]==null?source[8]:nativeMin(data[8],source[8])}if(data[9]==null){data[9]=source[9]}data[0]=source[0];data[1]=newBitmask;return data}function mergeDefaults(objValue,srcValue,key,object,source,stack){if(isObject(objValue)&&isObject(srcValue)){stack.set(srcValue,objValue);baseMerge(objValue,srcValue,undefined,mergeDefaults,stack);stack["delete"](srcValue)}return objValue}function nativeKeysIn(object){var result=[];if(object!=null){for(var key in Object(object)){result.push(key)}}return result}function objectToString(value){return nativeObjectToString.call(value)}function overRest(func,start,transform){start=nativeMax(start===undefined?func.length-1:start,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);while(++index<length){array[index]=args[start+index]}index=-1;var otherArgs=Array(start+1);while(++index<start){otherArgs[index]=args[index]}otherArgs[start]=transform(array);return apply(func,this,otherArgs)}}function parent(object,path){return path.length<2?object:baseGet(object,baseSlice(path,0,-1))}function reorder(array,indexes){var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);while(length--){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}var setData=shortOut(baseSetData);var setTimeout=ctxSetTimeout||function(func,wait){return root.setTimeout(func,wait)};var setToString=shortOut(baseSetToString);function setWrapToString(wrapper,reference,bitmask){var source=reference+"";return setToString(wrapper,insertWrapDetails(source,updateWrapDetails(getWrapDetails(source),bitmask)))}function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);lastCalled=stamp;if(remaining>0){if(++count>=HOT_COUNT){return arguments[0]}}else{count=0}return func.apply(undefined,arguments)}}function shuffleSelf(array,size){var index=-1,length=array.length,lastIndex=length-1;size=size===undefined?length:size;while(++index<size){var rand=baseRandom(index,lastIndex),value=array[rand];array[rand]=array[index];array[index]=value}array.length=size;return array}var stringToPath=memoizeCapped(function(string){var result=[];if(reLeadingDot.test(string)){result.push("")}string.replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)});return result});function toKey(value){if(typeof value=="string"||isSymbol(value)){return value}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}function toSource(func){if(func!=null){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function updateWrapDetails(details,bitmask){arrayEach(wrapFlags,function(pair){var value="_."+pair[0];if(bitmask&pair[1]&&!arrayIncludes(details,value)){details.push(value)}});return details.sort()}function wrapperClone(wrapper){if(wrapper instanceof LazyWrapper){return wrapper.clone()}var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);result.__actions__=copyArray(wrapper.__actions__);result.__index__=wrapper.__index__;result.__values__=wrapper.__values__;return result}function chunk(array,size,guard){if(guard?isIterateeCall(array,size,guard):size===undefined){size=1}else{size=nativeMax(toInteger(size),0)}var length=array==null?0:array.length;if(!length||size<1){return[]}var index=0,resIndex=0,result=Array(nativeCeil(length/size));while(index<length){result[resIndex++]=baseSlice(array,index,index+=size)}return result}function compact(array){var index=-1,length=array==null?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(value){result[resIndex++]=value}}return result}function concat(){var length=arguments.length;if(!length){return[]}var args=Array(length-1),array=arguments[0],index=length;while(index--){args[index-1]=arguments[index]}return arrayPush(isArray(array)?copyArray(array):[array],baseFlatten(args,1))}var difference=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true)):[]});var differenceBy=baseRest(function(array,values){var iteratee=last(values);if(isArrayLikeObject(iteratee)){iteratee=undefined}return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true),getIteratee(iteratee,2)):[]});var differenceWith=baseRest(function(array,values){var comparator=last(values);if(isArrayLikeObject(comparator)){comparator=undefined}return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true),undefined,comparator):[]});function drop(array,n,guard){var length=array==null?0:array.length;if(!length){return[]}n=guard||n===undefined?1:toInteger(n);return baseSlice(array,n<0?0:n,length)}function dropRight(array,n,guard){var length=array==null?0:array.length;if(!length){return[]}n=guard||n===undefined?1:toInteger(n);n=length-n;return baseSlice(array,0,n<0?0:n)}function dropRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),true,true):[]}function dropWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),true):[]}function fill(array,value,start,end){var length=array==null?0:array.length;if(!length){return[]}if(start&&typeof start!="number"&&isIterateeCall(array,value,start)){start=0;end=length}return baseFill(array,value,start,end)}function findIndex(array,predicate,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=fromIndex==null?0:toInteger(fromIndex);if(index<0){index=nativeMax(length+index,0)}return baseFindIndex(array,getIteratee(predicate,3),index)}function findLastIndex(array,predicate,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=length-1;if(fromIndex!==undefined){index=toInteger(fromIndex);index=fromIndex<0?nativeMax(length+index,0):nativeMin(index,length-1)}return baseFindIndex(array,getIteratee(predicate,3),index,true)}function flatten(array){var length=array==null?0:array.length;return length?baseFlatten(array,1):[]}function flattenDeep(array){var length=array==null?0:array.length;return length?baseFlatten(array,INFINITY):[]}function flattenDepth(array,depth){var length=array==null?0:array.length;if(!length){return[]}depth=depth===undefined?1:toInteger(depth);return baseFlatten(array,depth)}function fromPairs(pairs){var index=-1,length=pairs==null?0:pairs.length,result={};while(++index<length){var pair=pairs[index];result[pair[0]]=pair[1]}return result}function head(array){return array&&array.length?array[0]:undefined}function indexOf(array,value,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=fromIndex==null?0:toInteger(fromIndex);if(index<0){index=nativeMax(length+index,0)}return baseIndexOf(array,value,index)}function initial(array){var length=array==null?0:array.length;return length?baseSlice(array,0,-1):[]}var intersection=baseRest(function(arrays){var mapped=arrayMap(arrays,castArrayLikeObject);return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped):[]});var intersectionBy=baseRest(function(arrays){var iteratee=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);if(iteratee===last(mapped)){iteratee=undefined}else{mapped.pop()}return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,getIteratee(iteratee,2)):[]});var intersectionWith=baseRest(function(arrays){var comparator=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);comparator=typeof comparator=="function"?comparator:undefined;if(comparator){mapped.pop()}return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,undefined,comparator):[]});function join(array,separator){return array==null?"":nativeJoin.call(array,separator)}function last(array){var length=array==null?0:array.length;return length?array[length-1]:undefined}function lastIndexOf(array,value,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=length;if(fromIndex!==undefined){index=toInteger(fromIndex);index=index<0?nativeMax(length+index,0):nativeMin(index,length-1)}return value===value?strictLastIndexOf(array,value,index):baseFindIndex(array,baseIsNaN,index,true)}function nth(array,n){return array&&array.length?baseNth(array,toInteger(n)):undefined}var pull=baseRest(pullAll);function pullAll(array,values){return array&&array.length&&values&&values.length?basePullAll(array,values):array}function pullAllBy(array,values,iteratee){return array&&array.length&&values&&values.length?basePullAll(array,values,getIteratee(iteratee,2)):array}function pullAllWith(array,values,comparator){return array&&array.length&&values&&values.length?basePullAll(array,values,undefined,comparator):array}var pullAt=flatRest(function(array,indexes){var length=array==null?0:array.length,result=baseAt(array,indexes);basePullAt(array,arrayMap(indexes,function(index){return isIndex(index,length)?+index:index}).sort(compareAscending));return result});function remove(array,predicate){var result=[];if(!(array&&array.length)){return result}var index=-1,indexes=[],length=array.length;predicate=getIteratee(predicate,3);while(++index<length){var value=array[index];if(predicate(value,index,array)){result.push(value);indexes.push(index)}}basePullAt(array,indexes);return result}function reverse(array){return array==null?array:nativeReverse.call(array)}function slice(array,start,end){var length=array==null?0:array.length;if(!length){return[]}if(end&&typeof end!="number"&&isIterateeCall(array,start,end)){start=0;end=length}else{start=start==null?0:toInteger(start);end=end===undefined?length:toInteger(end)}return baseSlice(array,start,end)}function sortedIndex(array,value){return baseSortedIndex(array,value)}function sortedIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2))}function sortedIndexOf(array,value){var length=array==null?0:array.length;if(length){var index=baseSortedIndex(array,value);if(index<length&&eq(array[index],value)){return index}}return-1}function sortedLastIndex(array,value){return baseSortedIndex(array,value,true)}function sortedLastIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2),true)}function sortedLastIndexOf(array,value){var length=array==null?0:array.length;if(length){var index=baseSortedIndex(array,value,true)-1;if(eq(array[index],value)){return index}}return-1}function sortedUniq(array){return array&&array.length?baseSortedUniq(array):[]}function sortedUniqBy(array,iteratee){return array&&array.length?baseSortedUniq(array,getIteratee(iteratee,2)):[]}function tail(array){var length=array==null?0:array.length;return length?baseSlice(array,1,length):[]}function take(array,n,guard){if(!(array&&array.length)){return[]}n=guard||n===undefined?1:toInteger(n);return baseSlice(array,0,n<0?0:n)}function takeRight(array,n,guard){var length=array==null?0:array.length;if(!length){return[]}n=guard||n===undefined?1:toInteger(n);n=length-n;return baseSlice(array,n<0?0:n,length)}function takeRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),false,true):[]}function takeWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3)):[]}var union=baseRest(function(arrays){return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true))});var unionBy=baseRest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee)){iteratee=undefined}return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true),getIteratee(iteratee,2))});var unionWith=baseRest(function(arrays){var comparator=last(arrays);comparator=typeof comparator=="function"?comparator:undefined;return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true),undefined,comparator)});function uniq(array){return array&&array.length?baseUniq(array):[]}function uniqBy(array,iteratee){return array&&array.length?baseUniq(array,getIteratee(iteratee,2)):[]}function uniqWith(array,comparator){comparator=typeof comparator=="function"?comparator:undefined;return array&&array.length?baseUniq(array,undefined,comparator):[]}function unzip(array){if(!(array&&array.length)){return[]}var length=0;array=arrayFilter(array,function(group){if(isArrayLikeObject(group)){length=nativeMax(group.length,length);return true}});return baseTimes(length,function(index){return arrayMap(array,baseProperty(index))})}function unzipWith(array,iteratee){if(!(array&&array.length)){return[]}var result=unzip(array);if(iteratee==null){return result}return arrayMap(result,function(group){return apply(iteratee,undefined,group)})}var without=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,values):[]});var xor=baseRest(function(arrays){return baseXor(arrayFilter(arrays,isArrayLikeObject))});var xorBy=baseRest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee)){iteratee=undefined}return baseXor(arrayFilter(arrays,isArrayLikeObject),getIteratee(iteratee,2))});var xorWith=baseRest(function(arrays){var comparator=last(arrays);comparator=typeof comparator=="function"?comparator:undefined;return baseXor(arrayFilter(arrays,isArrayLikeObject),undefined,comparator)});var zip=baseRest(unzip);function zipObject(props,values){return baseZipObject(props||[],values||[],assignValue)}function zipObjectDeep(props,values){return baseZipObject(props||[],values||[],baseSet)}var zipWith=baseRest(function(arrays){var length=arrays.length,iteratee=length>1?arrays[length-1]:undefined;iteratee=typeof iteratee=="function"?(arrays.pop(),iteratee):undefined;return unzipWith(arrays,iteratee)});function chain(value){var result=lodash(value);result.__chain__=true;return result}function tap(value,interceptor){interceptor(value);return value}function thru(value,interceptor){return interceptor(value)}var wrapperAt=flatRest(function(paths){var length=paths.length,start=length?paths[0]:0,value=this.__wrapped__,interceptor=function(object){return baseAt(object,paths)};if(length>1||this.__actions__.length||!(value instanceof LazyWrapper)||!isIndex(start)){return this.thru(interceptor)}value=value.slice(start,+start+(length?1:0));value.__actions__.push({func:thru,args:[interceptor],thisArg:undefined});return new LodashWrapper(value,this.__chain__).thru(function(array){if(length&&!array.length){array.push(undefined)}return array})});function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}function wrapperNext(){if(this.__values__===undefined){this.__values__=toArray(this.value())}var done=this.__index__>=this.__values__.length,value=done?undefined:this.__values__[this.__index__++];return{done:done,value:value}}function wrapperToIterator(){return this}function wrapperPlant(value){var result,parent=this;while(parent instanceof baseLodash){var clone=wrapperClone(parent);clone.__index__=0;clone.__values__=undefined;if(result){previous.__wrapped__=clone}else{result=clone}var previous=clone;parent=parent.__wrapped__}previous.__wrapped__=value;return result}function wrapperReverse(){var value=this.__wrapped__;if(value instanceof LazyWrapper){var wrapped=value;if(this.__actions__.length){wrapped=new LazyWrapper(this)}wrapped=wrapped.reverse();wrapped.__actions__.push({func:thru,args:[reverse],thisArg:undefined});return new LodashWrapper(wrapped,this.__chain__)}return this.thru(reverse)}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}var countBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key)){++result[key]}else{baseAssignValue(result,key,1)}});function every(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;if(guard&&isIterateeCall(collection,predicate,guard)){predicate=undefined}return func(collection,getIteratee(predicate,3))}function filter(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,getIteratee(predicate,3))}var find=createFind(findIndex);var findLast=createFind(findLastIndex);function flatMap(collection,iteratee){return baseFlatten(map(collection,iteratee),1)}function flatMapDeep(collection,iteratee){return baseFlatten(map(collection,iteratee),INFINITY)}function flatMapDepth(collection,iteratee,depth){depth=depth===undefined?1:toInteger(depth);return baseFlatten(map(collection,iteratee),depth)}function forEach(collection,iteratee){var func=isArray(collection)?arrayEach:baseEach;return func(collection,getIteratee(iteratee,3))}function forEachRight(collection,iteratee){var func=isArray(collection)?arrayEachRight:baseEachRight;return func(collection,getIteratee(iteratee,3))}var groupBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key)){result[key].push(value)}else{baseAssignValue(result,key,[value])}});function includes(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection);fromIndex=fromIndex&&!guard?toInteger(fromIndex):0;var length=collection.length;if(fromIndex<0){fromIndex=nativeMax(length+fromIndex,0)}return isString(collection)?fromIndex<=length&&collection.indexOf(value,fromIndex)>-1:!!length&&baseIndexOf(collection,value,fromIndex)>-1}var invokeMap=baseRest(function(collection,path,args){var index=-1,isFunc=typeof path=="function",result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value){result[++index]=isFunc?apply(path,value,args):baseInvoke(value,path,args)});return result});var keyBy=createAggregator(function(result,value,key){baseAssignValue(result,key,value)});function map(collection,iteratee){var func=isArray(collection)?arrayMap:baseMap;return func(collection,getIteratee(iteratee,3))}function orderBy(collection,iteratees,orders,guard){if(collection==null){return[]}if(!isArray(iteratees)){iteratees=iteratees==null?[]:[iteratees]}orders=guard?undefined:orders;if(!isArray(orders)){orders=orders==null?[]:[orders]}return baseOrderBy(collection,iteratees,orders)}var partition=createAggregator(function(result,value,key){result[key?0:1].push(value)},function(){return[[],[]]});function reduce(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEach)}function reduceRight(collection,iteratee,accumulator){
var func=isArray(collection)?arrayReduceRight:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEachRight)}function reject(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,negate(getIteratee(predicate,3)))}function sample(collection){var func=isArray(collection)?arraySample:baseSample;return func(collection)}function sampleSize(collection,n,guard){if(guard?isIterateeCall(collection,n,guard):n===undefined){n=1}else{n=toInteger(n)}var func=isArray(collection)?arraySampleSize:baseSampleSize;return func(collection,n)}function shuffle(collection){var func=isArray(collection)?arrayShuffle:baseShuffle;return func(collection)}function size(collection){if(collection==null){return 0}if(isArrayLike(collection)){return isString(collection)?stringSize(collection):collection.length}var tag=getTag(collection);if(tag==mapTag||tag==setTag){return collection.size}return baseKeys(collection).length}function some(collection,predicate,guard){var func=isArray(collection)?arraySome:baseSome;if(guard&&isIterateeCall(collection,predicate,guard)){predicate=undefined}return func(collection,getIteratee(predicate,3))}var sortBy=baseRest(function(collection,iteratees){if(collection==null){return[]}var length=iteratees.length;if(length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])){iteratees=[]}else if(length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])){iteratees=[iteratees[0]]}return baseOrderBy(collection,baseFlatten(iteratees,1),[])});var now=ctxNow||function(){return root.Date.now()};function after(n,func){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}n=toInteger(n);return function(){if(--n<1){return func.apply(this,arguments)}}}function ary(func,n,guard){n=guard?undefined:n;n=func&&n==null?func.length:n;return createWrap(func,WRAP_ARY_FLAG,undefined,undefined,undefined,undefined,n)}function before(n,func){var result;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}n=toInteger(n);return function(){if(--n>0){result=func.apply(this,arguments)}if(n<=1){func=undefined}return result}}var bind=baseRest(function(func,thisArg,partials){var bitmask=WRAP_BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bind));bitmask|=WRAP_PARTIAL_FLAG}return createWrap(func,bitmask,thisArg,partials,holders)});var bindKey=baseRest(function(object,key,partials){var bitmask=WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bindKey));bitmask|=WRAP_PARTIAL_FLAG}return createWrap(key,bitmask,object,partials,holders)});function curry(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,WRAP_CURRY_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curry.placeholder;return result}function curryRight(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,WRAP_CURRY_RIGHT_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curryRight.placeholder;return result}function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=false,maxing=false,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}wait=toNumber(wait)||0;if(isObject(options)){leading=!!options.leading;maxing="maxWait"in options;maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait;trailing="trailing"in options?!!options.trailing:trailing}function invokeFunc(time){var args=lastArgs,thisArg=lastThis;lastArgs=lastThis=undefined;lastInvokeTime=time;result=func.apply(thisArg,args);return result}function leadingEdge(time){lastInvokeTime=time;timerId=setTimeout(timerExpired,wait);return leading?invokeFunc(time):result}function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,result=wait-timeSinceLastCall;return maxing?nativeMin(result,maxWait-timeSinceLastInvoke):result}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;return lastCallTime===undefined||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&timeSinceLastInvoke>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time)){return trailingEdge(time)}timerId=setTimeout(timerExpired,remainingWait(time))}function trailingEdge(time){timerId=undefined;if(trailing&&lastArgs){return invokeFunc(time)}lastArgs=lastThis=undefined;return result}function cancel(){if(timerId!==undefined){clearTimeout(timerId)}lastInvokeTime=0;lastArgs=lastCallTime=lastThis=timerId=undefined}function flush(){return timerId===undefined?result:trailingEdge(now())}function debounced(){var time=now(),isInvoking=shouldInvoke(time);lastArgs=arguments;lastThis=this;lastCallTime=time;if(isInvoking){if(timerId===undefined){return leadingEdge(lastCallTime)}if(maxing){timerId=setTimeout(timerExpired,wait);return invokeFunc(lastCallTime)}}if(timerId===undefined){timerId=setTimeout(timerExpired,wait)}return result}debounced.cancel=cancel;debounced.flush=flush;return debounced}var defer=baseRest(function(func,args){return baseDelay(func,1,args)});var delay=baseRest(function(func,wait,args){return baseDelay(func,toNumber(wait)||0,args)});function flip(func){return createWrap(func,WRAP_FLIP_FLAG)}function memoize(func,resolver){if(typeof func!="function"||resolver!=null&&typeof resolver!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key)){return cache.get(key)}var result=func.apply(this,args);memoized.cache=cache.set(key,result)||cache;return result};memoized.cache=new(memoize.Cache||MapCache);return memoized}memoize.Cache=MapCache;function negate(predicate){if(typeof predicate!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return function(){var args=arguments;switch(args.length){case 0:return!predicate.call(this);case 1:return!predicate.call(this,args[0]);case 2:return!predicate.call(this,args[0],args[1]);case 3:return!predicate.call(this,args[0],args[1],args[2])}return!predicate.apply(this,args)}}function once(func){return before(2,func)}var overArgs=castRest(function(func,transforms){transforms=transforms.length==1&&isArray(transforms[0])?arrayMap(transforms[0],baseUnary(getIteratee())):arrayMap(baseFlatten(transforms,1),baseUnary(getIteratee()));var funcsLength=transforms.length;return baseRest(function(args){var index=-1,length=nativeMin(args.length,funcsLength);while(++index<length){args[index]=transforms[index].call(this,args[index])}return apply(func,this,args)})});var partial=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partial));return createWrap(func,WRAP_PARTIAL_FLAG,undefined,partials,holders)});var partialRight=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partialRight));return createWrap(func,WRAP_PARTIAL_RIGHT_FLAG,undefined,partials,holders)});var rearg=flatRest(function(func,indexes){return createWrap(func,WRAP_REARG_FLAG,undefined,undefined,undefined,indexes)});function rest(func,start){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}start=start===undefined?start:toInteger(start);return baseRest(func,start)}function spread(func,start){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}start=start===undefined?0:nativeMax(toInteger(start),0);return baseRest(function(args){var array=args[start],otherArgs=castSlice(args,0,start);if(array){arrayPush(otherArgs,array)}return apply(func,this,otherArgs)})}function throttle(func,wait,options){var leading=true,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}if(isObject(options)){leading="leading"in options?!!options.leading:leading;trailing="trailing"in options?!!options.trailing:trailing}return debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})}function unary(func){return ary(func,1)}function wrap(value,wrapper){return partial(castFunction(wrapper),value)}function castArray(){if(!arguments.length){return[]}var value=arguments[0];return isArray(value)?value:[value]}function clone(value){return baseClone(value,CLONE_SYMBOLS_FLAG)}function cloneWith(value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return baseClone(value,CLONE_SYMBOLS_FLAG,customizer)}function cloneDeep(value){return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}function cloneDeepWith(value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG,customizer)}function conformsTo(object,source){return source==null||baseConformsTo(object,source,keys(source))}function eq(value,other){return value===other||value!==value&&other!==other}var gt=createRelationalOperation(baseGt);var gte=createRelationalOperation(function(value,other){return value>=other});var isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};var isArray=Array.isArray;var isArrayBuffer=nodeIsArrayBuffer?baseUnary(nodeIsArrayBuffer):baseIsArrayBuffer;function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isBoolean(value){return value===true||value===false||isObjectLike(value)&&baseGetTag(value)==boolTag}var isBuffer=nativeIsBuffer||stubFalse;var isDate=nodeIsDate?baseUnary(nodeIsDate):baseIsDate;function isElement(value){return isObjectLike(value)&&value.nodeType===1&&!isPlainObject(value)}function isEmpty(value){if(value==null){return true}if(isArrayLike(value)&&(isArray(value)||typeof value=="string"||typeof value.splice=="function"||isBuffer(value)||isTypedArray(value)||isArguments(value))){return!value.length}var tag=getTag(value);if(tag==mapTag||tag==setTag){return!value.size}if(isPrototype(value)){return!baseKeys(value).length}for(var key in value){if(hasOwnProperty.call(value,key)){return false}}return true}function isEqual(value,other){return baseIsEqual(value,other)}function isEqualWith(value,other,customizer){customizer=typeof customizer=="function"?customizer:undefined;var result=customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,undefined,customizer):!!result}function isError(value){if(!isObjectLike(value)){return false}var tag=baseGetTag(value);return tag==errorTag||tag==domExcTag||typeof value.message=="string"&&typeof value.name=="string"&&!isPlainObject(value)}function isFinite(value){return typeof value=="number"&&nativeIsFinite(value)}function isFunction(value){if(!isObject(value)){return false}var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}function isInteger(value){return typeof value=="number"&&value==toInteger(value)}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}function isObjectLike(value){return value!=null&&typeof value=="object"}var isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;function isMatch(object,source){return object===source||baseIsMatch(object,source,getMatchData(source))}function isMatchWith(object,source,customizer){customizer=typeof customizer=="function"?customizer:undefined;return baseIsMatch(object,source,getMatchData(source),customizer)}function isNaN(value){return isNumber(value)&&value!=+value}function isNative(value){if(isMaskable(value)){throw new Error(CORE_ERROR_TEXT)}return baseIsNative(value)}function isNull(value){return value===null}function isNil(value){return value==null}function isNumber(value){return typeof value=="number"||isObjectLike(value)&&baseGetTag(value)==numberTag}function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag){return false}var proto=getPrototype(value);if(proto===null){return true}var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return typeof Ctor=="function"&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}var isRegExp=nodeIsRegExp?baseUnary(nodeIsRegExp):baseIsRegExp;function isSafeInteger(value){return isInteger(value)&&value>=-MAX_SAFE_INTEGER&&value<=MAX_SAFE_INTEGER}var isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;function isString(value){return typeof value=="string"||!isArray(value)&&isObjectLike(value)&&baseGetTag(value)==stringTag}function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&baseGetTag(value)==symbolTag}var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;function isUndefined(value){return value===undefined}function isWeakMap(value){return isObjectLike(value)&&getTag(value)==weakMapTag}function isWeakSet(value){return isObjectLike(value)&&baseGetTag(value)==weakSetTag}var lt=createRelationalOperation(baseLt);var lte=createRelationalOperation(function(value,other){return value<=other});function toArray(value){if(!value){return[]}if(isArrayLike(value)){return isString(value)?stringToArray(value):copyArray(value)}if(symIterator&&value[symIterator]){return iteratorToArray(value[symIterator]())}var tag=getTag(value),func=tag==mapTag?mapToArray:tag==setTag?setToArray:values;return func(value)}function toFinite(value){if(!value){return value===0?value:0}value=toNumber(value);if(value===INFINITY||value===-INFINITY){var sign=value<0?-1:1;return sign*MAX_INTEGER}return value===value?value:0}function toInteger(value){var result=toFinite(value),remainder=result%1;return result===result?remainder?result-remainder:result:0}function toLength(value){return value?baseClamp(toInteger(value),0,MAX_ARRAY_LENGTH):0}function toNumber(value){if(typeof value=="number"){return value}if(isSymbol(value)){return NAN}if(isObject(value)){var other=typeof value.valueOf=="function"?value.valueOf():value;value=isObject(other)?other+"":other}if(typeof value!="string"){return value===0?value:+value}value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}function toPlainObject(value){return copyObject(value,keysIn(value))}function toSafeInteger(value){return baseClamp(toInteger(value),-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER)}function toString(value){return value==null?"":baseToString(value)}var assign=createAssigner(function(object,source){if(isPrototype(source)||isArrayLike(source)){copyObject(source,keys(source),object);return}for(var key in source){if(hasOwnProperty.call(source,key)){assignValue(object,key,source[key])}}});var assignIn=createAssigner(function(object,source){copyObject(source,keysIn(source),object)});var assignInWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keysIn(source),object,customizer)});var assignWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keys(source),object,customizer)});var at=flatRest(baseAt);function create(prototype,properties){var result=baseCreate(prototype);return properties==null?result:baseAssign(result,properties)}var defaults=baseRest(function(args){args.push(undefined,assignInDefaults);return apply(assignInWith,undefined,args)});var defaultsDeep=baseRest(function(args){args.push(undefined,mergeDefaults);return apply(mergeWith,undefined,args)});function findKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwn)}function findLastKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwnRight)}function forIn(object,iteratee){return object==null?object:baseFor(object,getIteratee(iteratee,3),keysIn)}function forInRight(object,iteratee){return object==null?object:baseForRight(object,getIteratee(iteratee,3),keysIn)}function forOwn(object,iteratee){return object&&baseForOwn(object,getIteratee(iteratee,3))}function forOwnRight(object,iteratee){return object&&baseForOwnRight(object,getIteratee(iteratee,3))}function functions(object){return object==null?[]:baseFunctions(object,keys(object))}function functionsIn(object){return object==null?[]:baseFunctions(object,keysIn(object))}function get(object,path,defaultValue){var result=object==null?undefined:baseGet(object,path);return result===undefined?defaultValue:result}function has(object,path){return object!=null&&hasPath(object,path,baseHas)}function hasIn(object,path){return object!=null&&hasPath(object,path,baseHasIn)}var invert=createInverter(function(result,value,key){result[value]=key},constant(identity));var invertBy=createInverter(function(result,value,key){if(hasOwnProperty.call(result,value)){result[value].push(key)}else{result[value]=[key]}},getIteratee);var invoke=baseRest(baseInvoke);function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,true):baseKeysIn(object)}function mapKeys(object,iteratee){var result={};iteratee=getIteratee(iteratee,3);baseForOwn(object,function(value,key,object){baseAssignValue(result,iteratee(value,key,object),value)});return result}function mapValues(object,iteratee){var result={};iteratee=getIteratee(iteratee,3);baseForOwn(object,function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object))});return result}var merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex)});var mergeWith=createAssigner(function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer)});var omit=flatRest(function(object,paths){var result={};if(object==null){return result}var isDeep=false;paths=arrayMap(paths,function(path){path=castPath(path,object);isDeep||(isDeep=path.length>1);return path});copyObject(object,getAllKeysIn(object),result);if(isDeep){result=baseClone(result,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG)}var length=paths.length;while(length--){baseUnset(result,paths[length])}return result});function omitBy(object,predicate){return pickBy(object,negate(getIteratee(predicate)))}var pick=flatRest(function(object,paths){return object==null?{}:basePick(object,paths)});function pickBy(object,predicate){if(object==null){return{}}var props=arrayMap(getAllKeysIn(object),function(prop){return[prop]});predicate=getIteratee(predicate);return basePickBy(object,props,function(value,path){return predicate(value,path[0])})}function result(object,path,defaultValue){path=castPath(path,object);var index=-1,length=path.length;if(!length){length=1;object=undefined}while(++index<length){var value=object==null?undefined:object[toKey(path[index])];if(value===undefined){index=length;value=defaultValue}object=isFunction(value)?value.call(object):value}return object}function set(object,path,value){return object==null?object:baseSet(object,path,value)}function setWith(object,path,value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return object==null?object:baseSet(object,path,value,customizer)}var toPairs=createToPairs(keys);var toPairsIn=createToPairs(keysIn);function transform(object,iteratee,accumulator){var isArr=isArray(object),isArrLike=isArr||isBuffer(object)||isTypedArray(object);iteratee=getIteratee(iteratee,4);if(accumulator==null){var Ctor=object&&object.constructor;if(isArrLike){accumulator=isArr?new Ctor:[]}else if(isObject(object)){accumulator=isFunction(Ctor)?baseCreate(getPrototype(object)):{}}else{accumulator={}}}(isArrLike?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)});return accumulator}function unset(object,path){return object==null?true:baseUnset(object,path)}function update(object,path,updater){return object==null?object:baseUpdate(object,path,castFunction(updater))}function updateWith(object,path,updater,customizer){customizer=typeof customizer=="function"?customizer:undefined;return object==null?object:baseUpdate(object,path,castFunction(updater),customizer)}function values(object){return object==null?[]:baseValues(object,keys(object))}function valuesIn(object){return object==null?[]:baseValues(object,keysIn(object))}function clamp(number,lower,upper){if(upper===undefined){upper=lower;lower=undefined}if(upper!==undefined){upper=toNumber(upper);upper=upper===upper?upper:0}if(lower!==undefined){lower=toNumber(lower);lower=lower===lower?lower:0}return baseClamp(toNumber(number),lower,upper)}function inRange(number,start,end){start=toFinite(start);if(end===undefined){end=start;start=0}else{end=toFinite(end)}number=toNumber(number);return baseInRange(number,start,end)}function random(lower,upper,floating){if(floating&&typeof floating!="boolean"&&isIterateeCall(lower,upper,floating)){upper=floating=undefined}if(floating===undefined){if(typeof upper=="boolean"){floating=upper;upper=undefined}else if(typeof lower=="boolean"){floating=lower;lower=undefined}}if(lower===undefined&&upper===undefined){lower=0;upper=1}else{lower=toFinite(lower);if(upper===undefined){upper=lower;lower=0}else{upper=toFinite(upper)}}if(lower>upper){var temp=lower;lower=upper;upper=temp}if(floating||lower%1||upper%1){var rand=nativeRandom();return nativeMin(lower+rand*(upper-lower+freeParseFloat("1e-"+((rand+"").length-1))),upper)}return baseRandom(lower,upper)}var camelCase=createCompounder(function(result,word,index){word=word.toLowerCase();return result+(index?capitalize(word):word)});function capitalize(string){return upperFirst(toString(string).toLowerCase())}function deburr(string){string=toString(string);return string&&string.replace(reLatin,deburrLetter).replace(reComboMark,"")}function endsWith(string,target,position){string=toString(string);target=baseToString(target);var length=string.length;position=position===undefined?length:baseClamp(toInteger(position),0,length);var end=position;position-=target.length;return position>=0&&string.slice(position,end)==target}function escape(string){string=toString(string);return string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string}function escapeRegExp(string){string=toString(string);return string&&reHasRegExpChar.test(string)?string.replace(reRegExpChar,"\\$&"):string}var kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()});var lowerCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toLowerCase()});var lowerFirst=createCaseFirst("toLowerCase");function pad(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;if(!length||strLength>=length){return string}var mid=(length-strLength)/2;return createPadding(nativeFloor(mid),chars)+string+createPadding(nativeCeil(mid),chars)}function padEnd(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?string+createPadding(length-strLength,chars):string}function padStart(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?createPadding(length-strLength,chars)+string:string}function parseInt(string,radix,guard){if(guard||radix==null){radix=0}else if(radix){radix=+radix}return nativeParseInt(toString(string).replace(reTrimStart,""),radix||0)}function repeat(string,n,guard){if(guard?isIterateeCall(string,n,guard):n===undefined){n=1}else{n=toInteger(n)}return baseRepeat(toString(string),n)}function replace(){var args=arguments,string=toString(args[0]);return args.length<3?string:string.replace(args[1],args[2])}var snakeCase=createCompounder(function(result,word,index){return result+(index?"_":"")+word.toLowerCase()});function split(string,separator,limit){if(limit&&typeof limit!="number"&&isIterateeCall(string,separator,limit)){separator=limit=undefined}limit=limit===undefined?MAX_ARRAY_LENGTH:limit>>>0;if(!limit){return[]}string=toString(string);if(string&&(typeof separator=="string"||separator!=null&&!isRegExp(separator))){separator=baseToString(separator);if(!separator&&hasUnicode(string)){return castSlice(stringToArray(string),0,limit)}}return string.split(separator,limit)}var startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+upperFirst(word)});function startsWith(string,target,position){string=toString(string);position=baseClamp(toInteger(position),0,string.length);target=baseToString(target);return string.slice(position,position+target.length)==target}function template(string,options,guard){var settings=lodash.templateSettings;if(guard&&isIterateeCall(string,options,guard)){options=undefined}string=toString(string);options=assignInWith({},options,settings,assignInDefaults);var imports=assignInWith({},options.imports,settings.imports,assignInDefaults),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys);var isEscaping,isEvaluating,index=0,interpolate=options.interpolate||reNoMatch,source="__p += '";var reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g");var sourceURL="//# sourceURL="+("sourceURL"in options?options.sourceURL:"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){interpolateValue||(interpolateValue=esTemplateValue);source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar);if(escapeValue){isEscaping=true;source+="' +\n__e("+escapeValue+") +\n'"}if(evaluateValue){isEvaluating=true;source+="';\n"+evaluateValue+";\n__p += '"}if(interpolateValue){source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"}index=offset+match.length;return match});source+="';\n";var variable=options.variable;if(!variable){source="with (obj) {\n"+source+"\n}\n"}source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;");source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\n"+"function print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt(function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)});result.source=source;if(isError(result)){throw result}return result}function toLower(value){return toString(value).toLowerCase()}function toUpper(value){return toString(value).toUpperCase()}function trim(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.replace(reTrim,"")}if(!string||!(chars=baseToString(chars))){return string}var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars),start=charsStartIndex(strSymbols,chrSymbols),end=charsEndIndex(strSymbols,chrSymbols)+1;return castSlice(strSymbols,start,end).join("")}function trimEnd(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.replace(reTrimEnd,"")}if(!string||!(chars=baseToString(chars))){return string}var strSymbols=stringToArray(string),end=charsEndIndex(strSymbols,stringToArray(chars))+1;return castSlice(strSymbols,0,end).join("")}function trimStart(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.replace(reTrimStart,"")}if(!string||!(chars=baseToString(chars))){return string}var strSymbols=stringToArray(string),start=charsStartIndex(strSymbols,stringToArray(chars));return castSlice(strSymbols,start).join("")}function truncate(string,options){var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?toInteger(options.length):length;omission="omission"in options?baseToString(options.omission):omission}string=toString(string);var strLength=string.length;if(hasUnicode(string)){var strSymbols=stringToArray(string);strLength=strSymbols.length}if(length>=strLength){return string}var end=length-stringSize(omission);if(end<1){return omission}var result=strSymbols?castSlice(strSymbols,0,end).join(""):string.slice(0,end);if(separator===undefined){return result+omission}if(strSymbols){end+=result.length-end}if(isRegExp(separator)){if(string.slice(end).search(separator)){var match,substring=result;if(!separator.global){separator=RegExp(separator.source,toString(reFlags.exec(separator))+"g")}separator.lastIndex=0;while(match=separator.exec(substring)){var newEnd=match.index}result=result.slice(0,newEnd===undefined?end:newEnd)}}else if(string.indexOf(baseToString(separator),end)!=end){var index=result.lastIndexOf(separator);if(index>-1){result=result.slice(0,index)}}return result+omission}function unescape(string){string=toString(string);return string&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string}var upperCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toUpperCase()});var upperFirst=createCaseFirst("toUpperCase");function words(string,pattern,guard){string=toString(string);pattern=guard?undefined:pattern;if(pattern===undefined){return hasUnicodeWord(string)?unicodeWords(string):asciiWords(string)}return string.match(pattern)||[]}var attempt=baseRest(function(func,args){try{return apply(func,undefined,args)}catch(e){return isError(e)?e:new Error(e)}});var bindAll=flatRest(function(object,methodNames){arrayEach(methodNames,function(key){key=toKey(key);baseAssignValue(object,key,bind(object[key],object))});return object});function cond(pairs){var length=pairs==null?0:pairs.length,toIteratee=getIteratee();pairs=!length?[]:arrayMap(pairs,function(pair){if(typeof pair[1]!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return[toIteratee(pair[0]),pair[1]]});return baseRest(function(args){var index=-1;while(++index<length){var pair=pairs[index];if(apply(pair[0],this,args)){return apply(pair[1],this,args)}}})}function conforms(source){return baseConforms(baseClone(source,CLONE_DEEP_FLAG))}function constant(value){return function(){return value}}function defaultTo(value,defaultValue){return value==null||value!==value?defaultValue:value}var flow=createFlow();var flowRight=createFlow(true);function identity(value){return value}function iteratee(func){return baseIteratee(typeof func=="function"?func:baseClone(func,CLONE_DEEP_FLAG))}function matches(source){return baseMatches(baseClone(source,CLONE_DEEP_FLAG))}function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,CLONE_DEEP_FLAG))}var method=baseRest(function(path,args){return function(object){return baseInvoke(object,path,args)}});var methodOf=baseRest(function(object,args){return function(path){return baseInvoke(object,path,args)}});function mixin(object,source,options){var props=keys(source),methodNames=baseFunctions(source,props);if(options==null&&!(isObject(source)&&(methodNames.length||!props.length))){options=source;source=object;object=this;methodNames=baseFunctions(source,keys(source))}var chain=!(isObject(options)&&"chain"in options)||!!options.chain,isFunc=isFunction(object);arrayEach(methodNames,function(methodName){var func=source[methodName];object[methodName]=func;if(isFunc){object.prototype[methodName]=function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=copyArray(this.__actions__);actions.push({func:func,args:arguments,thisArg:object});result.__chain__=chainAll;return result}return func.apply(object,arrayPush([this.value()],arguments))}}});return object}function noConflict(){if(root._===this){root._=oldDash}return this}
function noop(){}function nthArg(n){n=toInteger(n);return baseRest(function(args){return baseNth(args,n)})}var over=createOver(arrayMap);var overEvery=createOver(arrayEvery);var overSome=createOver(arraySome);function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}function propertyOf(object){return function(path){return object==null?undefined:baseGet(object,path)}}var range=createRange();var rangeRight=createRange(true);function stubArray(){return[]}function stubFalse(){return false}function stubObject(){return{}}function stubString(){return""}function stubTrue(){return true}function times(n,iteratee){n=toInteger(n);if(n<1||n>MAX_SAFE_INTEGER){return[]}var index=MAX_ARRAY_LENGTH,length=nativeMin(n,MAX_ARRAY_LENGTH);iteratee=getIteratee(iteratee);n-=MAX_ARRAY_LENGTH;var result=baseTimes(length,iteratee);while(++index<n){iteratee(index)}return result}function toPath(value){if(isArray(value)){return arrayMap(value,toKey)}return isSymbol(value)?[value]:copyArray(stringToPath(toString(value)))}function uniqueId(prefix){var id=++idCounter;return toString(prefix)+id}var add=createMathOperation(function(augend,addend){return augend+addend},0);var ceil=createRound("ceil");var divide=createMathOperation(function(dividend,divisor){return dividend/divisor},1);var floor=createRound("floor");function max(array){return array&&array.length?baseExtremum(array,identity,baseGt):undefined}function maxBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseGt):undefined}function mean(array){return baseMean(array,identity)}function meanBy(array,iteratee){return baseMean(array,getIteratee(iteratee,2))}function min(array){return array&&array.length?baseExtremum(array,identity,baseLt):undefined}function minBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseLt):undefined}var multiply=createMathOperation(function(multiplier,multiplicand){return multiplier*multiplicand},1);var round=createRound("round");var subtract=createMathOperation(function(minuend,subtrahend){return minuend-subtrahend},0);function sum(array){return array&&array.length?baseSum(array,identity):0}function sumBy(array,iteratee){return array&&array.length?baseSum(array,getIteratee(iteratee,2)):0}lodash.after=after;lodash.ary=ary;lodash.assign=assign;lodash.assignIn=assignIn;lodash.assignInWith=assignInWith;lodash.assignWith=assignWith;lodash.at=at;lodash.before=before;lodash.bind=bind;lodash.bindAll=bindAll;lodash.bindKey=bindKey;lodash.castArray=castArray;lodash.chain=chain;lodash.chunk=chunk;lodash.compact=compact;lodash.concat=concat;lodash.cond=cond;lodash.conforms=conforms;lodash.constant=constant;lodash.countBy=countBy;lodash.create=create;lodash.curry=curry;lodash.curryRight=curryRight;lodash.debounce=debounce;lodash.defaults=defaults;lodash.defaultsDeep=defaultsDeep;lodash.defer=defer;lodash.delay=delay;lodash.difference=difference;lodash.differenceBy=differenceBy;lodash.differenceWith=differenceWith;lodash.drop=drop;lodash.dropRight=dropRight;lodash.dropRightWhile=dropRightWhile;lodash.dropWhile=dropWhile;lodash.fill=fill;lodash.filter=filter;lodash.flatMap=flatMap;lodash.flatMapDeep=flatMapDeep;lodash.flatMapDepth=flatMapDepth;lodash.flatten=flatten;lodash.flattenDeep=flattenDeep;lodash.flattenDepth=flattenDepth;lodash.flip=flip;lodash.flow=flow;lodash.flowRight=flowRight;lodash.fromPairs=fromPairs;lodash.functions=functions;lodash.functionsIn=functionsIn;lodash.groupBy=groupBy;lodash.initial=initial;lodash.intersection=intersection;lodash.intersectionBy=intersectionBy;lodash.intersectionWith=intersectionWith;lodash.invert=invert;lodash.invertBy=invertBy;lodash.invokeMap=invokeMap;lodash.iteratee=iteratee;lodash.keyBy=keyBy;lodash.keys=keys;lodash.keysIn=keysIn;lodash.map=map;lodash.mapKeys=mapKeys;lodash.mapValues=mapValues;lodash.matches=matches;lodash.matchesProperty=matchesProperty;lodash.memoize=memoize;lodash.merge=merge;lodash.mergeWith=mergeWith;lodash.method=method;lodash.methodOf=methodOf;lodash.mixin=mixin;lodash.negate=negate;lodash.nthArg=nthArg;lodash.omit=omit;lodash.omitBy=omitBy;lodash.once=once;lodash.orderBy=orderBy;lodash.over=over;lodash.overArgs=overArgs;lodash.overEvery=overEvery;lodash.overSome=overSome;lodash.partial=partial;lodash.partialRight=partialRight;lodash.partition=partition;lodash.pick=pick;lodash.pickBy=pickBy;lodash.property=property;lodash.propertyOf=propertyOf;lodash.pull=pull;lodash.pullAll=pullAll;lodash.pullAllBy=pullAllBy;lodash.pullAllWith=pullAllWith;lodash.pullAt=pullAt;lodash.range=range;lodash.rangeRight=rangeRight;lodash.rearg=rearg;lodash.reject=reject;lodash.remove=remove;lodash.rest=rest;lodash.reverse=reverse;lodash.sampleSize=sampleSize;lodash.set=set;lodash.setWith=setWith;lodash.shuffle=shuffle;lodash.slice=slice;lodash.sortBy=sortBy;lodash.sortedUniq=sortedUniq;lodash.sortedUniqBy=sortedUniqBy;lodash.split=split;lodash.spread=spread;lodash.tail=tail;lodash.take=take;lodash.takeRight=takeRight;lodash.takeRightWhile=takeRightWhile;lodash.takeWhile=takeWhile;lodash.tap=tap;lodash.throttle=throttle;lodash.thru=thru;lodash.toArray=toArray;lodash.toPairs=toPairs;lodash.toPairsIn=toPairsIn;lodash.toPath=toPath;lodash.toPlainObject=toPlainObject;lodash.transform=transform;lodash.unary=unary;lodash.union=union;lodash.unionBy=unionBy;lodash.unionWith=unionWith;lodash.uniq=uniq;lodash.uniqBy=uniqBy;lodash.uniqWith=uniqWith;lodash.unset=unset;lodash.unzip=unzip;lodash.unzipWith=unzipWith;lodash.update=update;lodash.updateWith=updateWith;lodash.values=values;lodash.valuesIn=valuesIn;lodash.without=without;lodash.words=words;lodash.wrap=wrap;lodash.xor=xor;lodash.xorBy=xorBy;lodash.xorWith=xorWith;lodash.zip=zip;lodash.zipObject=zipObject;lodash.zipObjectDeep=zipObjectDeep;lodash.zipWith=zipWith;lodash.entries=toPairs;lodash.entriesIn=toPairsIn;lodash.extend=assignIn;lodash.extendWith=assignInWith;mixin(lodash,lodash);lodash.add=add;lodash.attempt=attempt;lodash.camelCase=camelCase;lodash.capitalize=capitalize;lodash.ceil=ceil;lodash.clamp=clamp;lodash.clone=clone;lodash.cloneDeep=cloneDeep;lodash.cloneDeepWith=cloneDeepWith;lodash.cloneWith=cloneWith;lodash.conformsTo=conformsTo;lodash.deburr=deburr;lodash.defaultTo=defaultTo;lodash.divide=divide;lodash.endsWith=endsWith;lodash.eq=eq;lodash.escape=escape;lodash.escapeRegExp=escapeRegExp;lodash.every=every;lodash.find=find;lodash.findIndex=findIndex;lodash.findKey=findKey;lodash.findLast=findLast;lodash.findLastIndex=findLastIndex;lodash.findLastKey=findLastKey;lodash.floor=floor;lodash.forEach=forEach;lodash.forEachRight=forEachRight;lodash.forIn=forIn;lodash.forInRight=forInRight;lodash.forOwn=forOwn;lodash.forOwnRight=forOwnRight;lodash.get=get;lodash.gt=gt;lodash.gte=gte;lodash.has=has;lodash.hasIn=hasIn;lodash.head=head;lodash.identity=identity;lodash.includes=includes;lodash.indexOf=indexOf;lodash.inRange=inRange;lodash.invoke=invoke;lodash.isArguments=isArguments;lodash.isArray=isArray;lodash.isArrayBuffer=isArrayBuffer;lodash.isArrayLike=isArrayLike;lodash.isArrayLikeObject=isArrayLikeObject;lodash.isBoolean=isBoolean;lodash.isBuffer=isBuffer;lodash.isDate=isDate;lodash.isElement=isElement;lodash.isEmpty=isEmpty;lodash.isEqual=isEqual;lodash.isEqualWith=isEqualWith;lodash.isError=isError;lodash.isFinite=isFinite;lodash.isFunction=isFunction;lodash.isInteger=isInteger;lodash.isLength=isLength;lodash.isMap=isMap;lodash.isMatch=isMatch;lodash.isMatchWith=isMatchWith;lodash.isNaN=isNaN;lodash.isNative=isNative;lodash.isNil=isNil;lodash.isNull=isNull;lodash.isNumber=isNumber;lodash.isObject=isObject;lodash.isObjectLike=isObjectLike;lodash.isPlainObject=isPlainObject;lodash.isRegExp=isRegExp;lodash.isSafeInteger=isSafeInteger;lodash.isSet=isSet;lodash.isString=isString;lodash.isSymbol=isSymbol;lodash.isTypedArray=isTypedArray;lodash.isUndefined=isUndefined;lodash.isWeakMap=isWeakMap;lodash.isWeakSet=isWeakSet;lodash.join=join;lodash.kebabCase=kebabCase;lodash.last=last;lodash.lastIndexOf=lastIndexOf;lodash.lowerCase=lowerCase;lodash.lowerFirst=lowerFirst;lodash.lt=lt;lodash.lte=lte;lodash.max=max;lodash.maxBy=maxBy;lodash.mean=mean;lodash.meanBy=meanBy;lodash.min=min;lodash.minBy=minBy;lodash.stubArray=stubArray;lodash.stubFalse=stubFalse;lodash.stubObject=stubObject;lodash.stubString=stubString;lodash.stubTrue=stubTrue;lodash.multiply=multiply;lodash.nth=nth;lodash.noConflict=noConflict;lodash.noop=noop;lodash.now=now;lodash.pad=pad;lodash.padEnd=padEnd;lodash.padStart=padStart;lodash.parseInt=parseInt;lodash.random=random;lodash.reduce=reduce;lodash.reduceRight=reduceRight;lodash.repeat=repeat;lodash.replace=replace;lodash.result=result;lodash.round=round;lodash.runInContext=runInContext;lodash.sample=sample;lodash.size=size;lodash.snakeCase=snakeCase;lodash.some=some;lodash.sortedIndex=sortedIndex;lodash.sortedIndexBy=sortedIndexBy;lodash.sortedIndexOf=sortedIndexOf;lodash.sortedLastIndex=sortedLastIndex;lodash.sortedLastIndexBy=sortedLastIndexBy;lodash.sortedLastIndexOf=sortedLastIndexOf;lodash.startCase=startCase;lodash.startsWith=startsWith;lodash.subtract=subtract;lodash.sum=sum;lodash.sumBy=sumBy;lodash.template=template;lodash.times=times;lodash.toFinite=toFinite;lodash.toInteger=toInteger;lodash.toLength=toLength;lodash.toLower=toLower;lodash.toNumber=toNumber;lodash.toSafeInteger=toSafeInteger;lodash.toString=toString;lodash.toUpper=toUpper;lodash.trim=trim;lodash.trimEnd=trimEnd;lodash.trimStart=trimStart;lodash.truncate=truncate;lodash.unescape=unescape;lodash.uniqueId=uniqueId;lodash.upperCase=upperCase;lodash.upperFirst=upperFirst;lodash.each=forEach;lodash.eachRight=forEachRight;lodash.first=head;mixin(lodash,function(){var source={};baseForOwn(lodash,function(func,methodName){if(!hasOwnProperty.call(lodash.prototype,methodName)){source[methodName]=func}});return source}(),{chain:false});lodash.VERSION=VERSION;arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(methodName){lodash[methodName].placeholder=lodash});arrayEach(["drop","take"],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){var filtered=this.__filtered__;if(filtered&&!index){return new LazyWrapper(this)}n=n===undefined?1:nativeMax(toInteger(n),0);var result=this.clone();if(filtered){result.__takeCount__=nativeMin(n,result.__takeCount__)}else{result.__views__.push({size:nativeMin(n,MAX_ARRAY_LENGTH),type:methodName+(result.__dir__<0?"Right":"")})}return result};LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}});arrayEach(["filter","map","takeWhile"],function(methodName,index){var type=index+1,isFilter=type==LAZY_FILTER_FLAG||type==LAZY_WHILE_FLAG;LazyWrapper.prototype[methodName]=function(iteratee){var result=this.clone();result.__iteratees__.push({iteratee:getIteratee(iteratee,3),type:type});result.__filtered__=result.__filtered__||isFilter;return result}});arrayEach(["head","last"],function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}});arrayEach(["initial","tail"],function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}});LazyWrapper.prototype.compact=function(){return this.filter(identity)};LazyWrapper.prototype.find=function(predicate){return this.filter(predicate).head()};LazyWrapper.prototype.findLast=function(predicate){return this.reverse().find(predicate)};LazyWrapper.prototype.invokeMap=baseRest(function(path,args){if(typeof path=="function"){return new LazyWrapper(this)}return this.map(function(value){return baseInvoke(value,path,args)})});LazyWrapper.prototype.reject=function(predicate){return this.filter(negate(getIteratee(predicate)))};LazyWrapper.prototype.slice=function(start,end){start=toInteger(start);var result=this;if(result.__filtered__&&(start>0||end<0)){return new LazyWrapper(result)}if(start<0){result=result.takeRight(-start)}else if(start){result=result.drop(start)}if(end!==undefined){end=toInteger(end);result=end<0?result.dropRight(-end):result.take(end-start)}return result};LazyWrapper.prototype.takeRightWhile=function(predicate){return this.reverse().takeWhile(predicate).reverse()};LazyWrapper.prototype.toArray=function(){return this.take(MAX_ARRAY_LENGTH)};baseForOwn(LazyWrapper.prototype,function(func,methodName){var checkIteratee=/^(?:filter|find|map|reject)|While$/.test(methodName),isTaker=/^(?:head|last)$/.test(methodName),lodashFunc=lodash[isTaker?"take"+(methodName=="last"?"Right":""):methodName],retUnwrapped=isTaker||/^find/.test(methodName);if(!lodashFunc){return}lodash.prototype[methodName]=function(){var value=this.__wrapped__,args=isTaker?[1]:arguments,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value);var interceptor=function(value){var result=lodashFunc.apply(lodash,arrayPush([value],args));return isTaker&&chainAll?result[0]:result};if(useLazy&&checkIteratee&&typeof iteratee=="function"&&iteratee.length!=1){isLazy=useLazy=false}var chainAll=this.__chain__,isHybrid=!!this.__actions__.length,isUnwrapped=retUnwrapped&&!chainAll,onlyLazy=isLazy&&!isHybrid;if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);result.__actions__.push({func:thru,args:[interceptor],thisArg:undefined});return new LodashWrapper(result,chainAll)}if(isUnwrapped&&onlyLazy){return func.apply(this,args)}result=this.thru(interceptor);return isUnwrapped?isTaker?result.value()[0]:result.value():result}});arrayEach(["pop","push","shift","sort","splice","unshift"],function(methodName){var func=arrayProto[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:pop|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;if(retUnwrapped&&!this.__chain__){var value=this.value();return func.apply(isArray(value)?value:[],args)}return this[chainName](function(value){return func.apply(isArray(value)?value:[],args)})}});baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name+"",names=realNames[key]||(realNames[key]=[]);names.push({name:methodName,func:lodashFunc})}});realNames[createHybrid(undefined,WRAP_BIND_KEY_FLAG).name]=[{name:"wrapper",func:undefined}];LazyWrapper.prototype.clone=lazyClone;LazyWrapper.prototype.reverse=lazyReverse;LazyWrapper.prototype.value=lazyValue;lodash.prototype.at=wrapperAt;lodash.prototype.chain=wrapperChain;lodash.prototype.commit=wrapperCommit;lodash.prototype.next=wrapperNext;lodash.prototype.plant=wrapperPlant;lodash.prototype.reverse=wrapperReverse;lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue;lodash.prototype.first=lodash.prototype.head;if(symIterator){lodash.prototype[symIterator]=wrapperToIterator}return lodash};var _=runInContext();if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){root._=_;define(function(){return _})}else if(freeModule){(freeModule.exports=_)._=_;freeExports._=_}else{root._=_}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],18:[function(require,module,exports){(function(factory){if(typeof define==="function"&&define.amd){define([],factory)}else if(typeof exports==="object"){module.exports=factory()}else{window.noUiSlider=factory()}})(function(){"use strict";function unique(array){return array.filter(function(a){return!this[a]?this[a]=true:false},{})}function closest(value,to){return Math.round(value/to)*to}function offset(elem){var rect=elem.getBoundingClientRect(),doc=elem.ownerDocument,docElem=doc.documentElement,pageOffset=getPageOffset();if(/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)){pageOffset.x=0}return{top:rect.top+pageOffset.y-docElem.clientTop,left:rect.left+pageOffset.x-docElem.clientLeft}}function isNumeric(a){return typeof a==="number"&&!isNaN(a)&&isFinite(a)}function addClassFor(element,className,duration){addClass(element,className);setTimeout(function(){removeClass(element,className)},duration)}function limit(a){return Math.max(Math.min(a,100),0)}function asArray(a){return Array.isArray(a)?a:[a]}function countDecimals(numStr){var pieces=numStr.split(".");return pieces.length>1?pieces[1].length:0}function addClass(el,className){if(el.classList){el.classList.add(className)}else{el.className+=" "+className}}function removeClass(el,className){if(el.classList){el.classList.remove(className)}else{el.className=el.className.replace(new RegExp("(^|\\b)"+className.split(" ").join("|")+"(\\b|$)","gi")," ")}}function hasClass(el,className){return el.classList?el.classList.contains(className):new RegExp("\\b"+className+"\\b").test(el.className)}function getPageOffset(){var supportPageOffset=window.pageXOffset!==undefined,isCSS1Compat=(document.compatMode||"")==="CSS1Compat",x=supportPageOffset?window.pageXOffset:isCSS1Compat?document.documentElement.scrollLeft:document.body.scrollLeft,y=supportPageOffset?window.pageYOffset:isCSS1Compat?document.documentElement.scrollTop:document.body.scrollTop;return{x:x,y:y}}function getActions(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function subRangeRatio(pa,pb){return 100/(pb-pa)}function fromPercentage(range,value){return value*100/(range[1]-range[0])}function toPercentage(range,value){return fromPercentage(range,range[0]<0?value+Math.abs(range[0]):value-range[0])}function isPercentage(range,value){return value*(range[1]-range[0])/100+range[0]}function getJ(value,arr){var j=1;while(value>=arr[j]){j+=1}return j}function toStepping(xVal,xPct,value){if(value>=xVal.slice(-1)[0]){return 100}var j=getJ(value,xVal),va,vb,pa,pb;va=xVal[j-1];vb=xVal[j];pa=xPct[j-1];pb=xPct[j];return pa+toPercentage([va,vb],value)/subRangeRatio(pa,pb)}function fromStepping(xVal,xPct,value){if(value>=100){return xVal.slice(-1)[0]}var j=getJ(value,xPct),va,vb,pa,pb;va=xVal[j-1];vb=xVal[j];pa=xPct[j-1];pb=xPct[j];return isPercentage([va,vb],(value-pa)*subRangeRatio(pa,pb))}function getStep(xPct,xSteps,snap,value){if(value===100){return value}var j=getJ(value,xPct),a,b;if(snap){a=xPct[j-1];b=xPct[j];if(value-a>(b-a)/2){return b}return a}if(!xSteps[j-1]){return value}return xPct[j-1]+closest(value-xPct[j-1],xSteps[j-1])}function handleEntryPoint(index,value,that){var percentage;if(typeof value==="number"){value=[value]}if(Object.prototype.toString.call(value)!=="[object Array]"){throw new Error("noUiSlider: 'range' contains invalid value.")}if(index==="min"){percentage=0}else if(index==="max"){percentage=100}else{percentage=parseFloat(index)}if(!isNumeric(percentage)||!isNumeric(value[0])){throw new Error("noUiSlider: 'range' value isn't numeric.")}that.xPct.push(percentage);that.xVal.push(value[0]);if(!percentage){if(!isNaN(value[1])){that.xSteps[0]=value[1]}}else{that.xSteps.push(isNaN(value[1])?false:value[1])}}function handleStepPoint(i,n,that){if(!n){return true}that.xSteps[i]=fromPercentage([that.xVal[i],that.xVal[i+1]],n)/subRangeRatio(that.xPct[i],that.xPct[i+1])}function Spectrum(entry,snap,direction,singleStep){this.xPct=[];this.xVal=[];this.xSteps=[singleStep||false];this.xNumSteps=[false];this.snap=snap;this.direction=direction;var index,ordered=[];for(index in entry){if(entry.hasOwnProperty(index)){ordered.push([entry[index],index])}}if(ordered.length&&typeof ordered[0][0]==="object"){ordered.sort(function(a,b){return a[0][0]-b[0][0]})}else{ordered.sort(function(a,b){return a[0]-b[0]})}for(index=0;index<ordered.length;index++){handleEntryPoint(ordered[index][1],ordered[index][0],this)}this.xNumSteps=this.xSteps.slice(0);for(index=0;index<this.xNumSteps.length;index++){handleStepPoint(index,this.xNumSteps[index],this)}}Spectrum.prototype.getMargin=function(value){return this.xPct.length===2?fromPercentage(this.xVal,value):false};Spectrum.prototype.toStepping=function(value){value=toStepping(this.xVal,this.xPct,value);if(this.direction){value=100-value}return value};Spectrum.prototype.fromStepping=function(value){if(this.direction){value=100-value}return fromStepping(this.xVal,this.xPct,value)};Spectrum.prototype.getStep=function(value){if(this.direction){value=100-value}value=getStep(this.xPct,this.xSteps,this.snap,value);if(this.direction){value=100-value}return value};Spectrum.prototype.getApplicableStep=function(value){var j=getJ(value,this.xPct),offset=value===100?2:1;return[this.xNumSteps[j-2],this.xVal[j-offset],this.xNumSteps[j-offset]]};Spectrum.prototype.convert=function(value){return this.getStep(this.toStepping(value))};var defaultFormatter={to:function(value){return value!==undefined&&value.toFixed(2)},from:Number};function testStep(parsed,entry){if(!isNumeric(entry)){throw new Error("noUiSlider: 'step' is not numeric.")}parsed.singleStep=entry}function testRange(parsed,entry){if(typeof entry!=="object"||Array.isArray(entry)){throw new Error("noUiSlider: 'range' is not an object.")}if(entry.min===undefined||entry.max===undefined){throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.")}if(entry.min===entry.max){throw new Error("noUiSlider: 'range' 'min' and 'max' cannot be equal.")}parsed.spectrum=new Spectrum(entry,parsed.snap,parsed.dir,parsed.singleStep)}function testStart(parsed,entry){entry=asArray(entry);if(!Array.isArray(entry)||!entry.length||entry.length>2){throw new Error("noUiSlider: 'start' option is incorrect.")}parsed.handles=entry.length;parsed.start=entry}function testSnap(parsed,entry){parsed.snap=entry;if(typeof entry!=="boolean"){throw new Error("noUiSlider: 'snap' option must be a boolean.")}}function testAnimate(parsed,entry){parsed.animate=entry;if(typeof entry!=="boolean"){throw new Error("noUiSlider: 'animate' option must be a boolean.")}}function testAnimationDuration(parsed,entry){parsed.animationDuration=entry;if(typeof entry!=="number"){throw new Error("noUiSlider: 'animationDuration' option must be a number.")}}function testConnect(parsed,entry){if(entry==="lower"&&parsed.handles===1){parsed.connect=1}else if(entry==="upper"&&parsed.handles===1){parsed.connect=2}else if(entry===true&&parsed.handles===2){parsed.connect=3}else if(entry===false){parsed.connect=0}else{throw new Error("noUiSlider: 'connect' option doesn't match handle count.")}}function testOrientation(parsed,entry){switch(entry){case"horizontal":parsed.ort=0;break;case"vertical":parsed.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function testMargin(parsed,entry){if(!isNumeric(entry)){throw new Error("noUiSlider: 'margin' option must be numeric.")}if(entry===0){return}parsed.margin=parsed.spectrum.getMargin(entry);if(!parsed.margin){throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}}function testLimit(parsed,entry){if(!isNumeric(entry)){throw new Error("noUiSlider: 'limit' option must be numeric.")}parsed.limit=parsed.spectrum.getMargin(entry);if(!parsed.limit){throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}}function testDirection(parsed,entry){switch(entry){case"ltr":parsed.dir=0;break;case"rtl":parsed.dir=1;parsed.connect=[0,2,1,3][parsed.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function testBehaviour(parsed,entry){if(typeof entry!=="string"){throw new Error("noUiSlider: 'behaviour' must be a string containing options.")}var tap=entry.indexOf("tap")>=0,drag=entry.indexOf("drag")>=0,fixed=entry.indexOf("fixed")>=0,snap=entry.indexOf("snap")>=0,hover=entry.indexOf("hover")>=0;if(drag&&!parsed.connect){throw new Error("noUiSlider: 'drag' behaviour must be used with 'connect': true.")}parsed.events={tap:tap||snap,drag:drag,fixed:fixed,snap:snap,hover:hover}}function testTooltips(parsed,entry){var i;if(entry===false){return}else if(entry===true){parsed.tooltips=[];for(i=0;i<parsed.handles;i++){parsed.tooltips.push(true)}}else{parsed.tooltips=asArray(entry);if(parsed.tooltips.length!==parsed.handles){throw new Error("noUiSlider: must pass a formatter for all handles.")}parsed.tooltips.forEach(function(formatter){if(typeof formatter!=="boolean"&&(typeof formatter!=="object"||typeof formatter.to!=="function")){throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}})}}function testFormat(parsed,entry){parsed.format=entry;if(typeof entry.to==="function"&&typeof entry.from==="function"){return true}throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function testCssPrefix(parsed,entry){if(entry!==undefined&&typeof entry!=="string"&&entry!==false){throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.")}parsed.cssPrefix=entry}function testCssClasses(parsed,entry){if(entry!==undefined&&typeof entry!=="object"){throw new Error("noUiSlider: 'cssClasses' must be an object.")}if(typeof parsed.cssPrefix==="string"){parsed.cssClasses={};for(var key in entry){if(!entry.hasOwnProperty(key)){continue}parsed.cssClasses[key]=parsed.cssPrefix+entry[key]}}else{parsed.cssClasses=entry}}function testOptions(options){var parsed={margin:0,limit:0,animate:true,animationDuration:300,format:defaultFormatter},tests;tests={step:{r:false,t:testStep},start:{r:true,t:testStart},connect:{r:true,t:testConnect},direction:{r:true,t:testDirection},snap:{r:false,t:testSnap},animate:{r:false,t:testAnimate},animationDuration:{r:false,t:testAnimationDuration},range:{r:true,t:testRange},orientation:{r:false,t:testOrientation},margin:{r:false,t:testMargin},limit:{r:false,t:testLimit},behaviour:{r:true,t:testBehaviour},format:{r:false,t:testFormat},tooltips:{r:false,t:testTooltips},cssPrefix:{r:false,t:testCssPrefix},cssClasses:{r:false,t:testCssClasses}};var defaults={connect:false,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",stacking:"stacking",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};Object.keys(tests).forEach(function(name){if(options[name]===undefined&&defaults[name]===undefined){if(tests[name].r){throw new Error("noUiSlider: '"+name+"' is required.")}return true}tests[name].t(parsed,options[name]===undefined?defaults[name]:options[name])});parsed.pips=options.pips;parsed.style=parsed.ort?"top":"left";return parsed}function closure(target,options,originalOptions){var actions=getActions(),scope_Target=target,scope_Locations=[-1,-1],scope_Base,scope_Handles,scope_Spectrum=options.spectrum,scope_Values=[],scope_Events={},scope_Self;function getPositions(a,b,delimit){var c=a+b[0],d=a+b[1];if(delimit){if(c<0){d+=Math.abs(c)}if(d>100){c-=d-100}return[limit(c),limit(d)]}return[c,d]}function fixEvent(e,pageOffset){e.preventDefault();var touch=e.type.indexOf("touch")===0,mouse=e.type.indexOf("mouse")===0,pointer=e.type.indexOf("pointer")===0,x,y,event=e;if(e.type.indexOf("MSPointer")===0){pointer=true}if(touch){x=e.changedTouches[0].pageX;y=e.changedTouches[0].pageY}pageOffset=pageOffset||getPageOffset();if(mouse||pointer){x=e.clientX+pageOffset.x;y=e.clientY+pageOffset.y}event.pageOffset=pageOffset;event.points=[x,y];event.cursor=mouse||pointer;return event}function addHandle(direction,index){var origin=document.createElement("div"),handle=document.createElement("div"),classModifier=[options.cssClasses.handleLower,options.cssClasses.handleUpper];if(direction){classModifier.reverse()}addClass(handle,options.cssClasses.handle);addClass(handle,classModifier[index]);addClass(origin,options.cssClasses.origin);origin.appendChild(handle);return origin}function addConnection(connect,target,handles){switch(connect){case 1:addClass(target,options.cssClasses.connect);addClass(handles[0],options.cssClasses.background);break;case 3:addClass(handles[1],options.cssClasses.background);case 2:addClass(handles[0],options.cssClasses.connect);case 0:addClass(target,options.cssClasses.background);break}}function addHandles(nrHandles,direction,base){var index,handles=[];for(index=0;index<nrHandles;index+=1){handles.push(base.appendChild(addHandle(direction,index)))}return handles}function addSlider(direction,orientation,target){addClass(target,options.cssClasses.target);if(direction===0){addClass(target,options.cssClasses.ltr)}else{addClass(target,options.cssClasses.rtl)}if(orientation===0){addClass(target,options.cssClasses.horizontal)}else{addClass(target,options.cssClasses.vertical)}var div=document.createElement("div");addClass(div,options.cssClasses.base);target.appendChild(div);return div}function addTooltip(handle,index){if(!options.tooltips[index]){return false}var element=document.createElement("div");element.className=options.cssClasses.tooltip;return handle.firstChild.appendChild(element)}function tooltips(){if(options.dir){options.tooltips.reverse()}var tips=scope_Handles.map(addTooltip);if(options.dir){tips.reverse();options.tooltips.reverse()}bindEvent("update",function(f,o,r){if(tips[o]){tips[o].innerHTML=options.tooltips[o]===true?f[o]:options.tooltips[o].to(r[o])}})}function getGroup(mode,values,stepped){if(mode==="range"||mode==="steps"){return scope_Spectrum.xVal}if(mode==="count"){var spread=100/(values-1),v,i=0;values=[];while((v=i++*spread)<=100){values.push(v)}mode="positions"}if(mode==="positions"){return values.map(function(value){return scope_Spectrum.fromStepping(stepped?scope_Spectrum.getStep(value):value)})}if(mode==="values"){if(stepped){return values.map(function(value){return scope_Spectrum.fromStepping(scope_Spectrum.getStep(scope_Spectrum.toStepping(value)))})}return values}}function generateSpread(density,mode,group){function safeIncrement(value,increment){return(value+increment).toFixed(7)/1}var originalSpectrumDirection=scope_Spectrum.direction,indexes={},firstInRange=scope_Spectrum.xVal[0],lastInRange=scope_Spectrum.xVal[scope_Spectrum.xVal.length-1],ignoreFirst=false,ignoreLast=false,prevPct=0;scope_Spectrum.direction=0;group=unique(group.slice().sort(function(a,b){return a-b}));if(group[0]!==firstInRange){group.unshift(firstInRange);ignoreFirst=true}if(group[group.length-1]!==lastInRange){group.push(lastInRange);ignoreLast=true}group.forEach(function(current,index){var step,i,q,low=current,high=group[index+1],newPct,pctDifference,pctPos,type,steps,realSteps,stepsize;if(mode==="steps"){step=scope_Spectrum.xNumSteps[index]}if(!step){step=high-low}if(low===false||high===undefined){return}for(i=low;i<=high;i=safeIncrement(i,step)){newPct=scope_Spectrum.toStepping(i);pctDifference=newPct-prevPct;steps=pctDifference/density;realSteps=Math.round(steps);stepsize=pctDifference/realSteps;for(q=1;q<=realSteps;q+=1){pctPos=prevPct+q*stepsize;indexes[pctPos.toFixed(5)]=["x",0]}type=group.indexOf(i)>-1?1:mode==="steps"?2:0;if(!index&&ignoreFirst){type=0}if(!(i===high&&ignoreLast)){indexes[newPct.toFixed(5)]=[i,type]}prevPct=newPct}});scope_Spectrum.direction=originalSpectrumDirection;return indexes}function addMarking(spread,filterFunc,formatter){
var element=document.createElement("div"),out="",valueSizeClasses=[options.cssClasses.valueNormal,options.cssClasses.valueLarge,options.cssClasses.valueSub],markerSizeClasses=[options.cssClasses.markerNormal,options.cssClasses.markerLarge,options.cssClasses.markerSub],valueOrientationClasses=[options.cssClasses.valueHorizontal,options.cssClasses.valueVertical],markerOrientationClasses=[options.cssClasses.markerHorizontal,options.cssClasses.markerVertical];addClass(element,options.cssClasses.pips);addClass(element,options.ort===0?options.cssClasses.pipsHorizontal:options.cssClasses.pipsVertical);function getClasses(type,source){var a=source===options.cssClasses.value,orientationClasses=a?valueOrientationClasses:markerOrientationClasses,sizeClasses=a?valueSizeClasses:markerSizeClasses;return source+" "+orientationClasses[options.ort]+" "+sizeClasses[type]}function getTags(offset,source,values){return'class="'+getClasses(values[1],source)+'" style="'+options.style+": "+offset+'%"'}function addSpread(offset,values){if(scope_Spectrum.direction){offset=100-offset}values[1]=values[1]&&filterFunc?filterFunc(values[0],values[1]):values[1];out+="<div "+getTags(offset,options.cssClasses.marker,values)+"></div>";if(values[1]){out+="<div "+getTags(offset,options.cssClasses.value,values)+">"+formatter.to(values[0])+"</div>"}}Object.keys(spread).forEach(function(a){addSpread(a,spread[a])});element.innerHTML=out;return element}function pips(grid){var mode=grid.mode,density=grid.density||1,filter=grid.filter||false,values=grid.values||false,stepped=grid.stepped||false,group=getGroup(mode,values,stepped),spread=generateSpread(density,mode,group),format=grid.format||{to:Math.round};return scope_Target.appendChild(addMarking(spread,filter,format))}function baseSize(){var rect=scope_Base.getBoundingClientRect(),alt="offset"+["Width","Height"][options.ort];return options.ort===0?rect.width||scope_Base[alt]:rect.height||scope_Base[alt]}function fireEvent(event,handleNumber,tap){var i;for(i=0;i<options.handles;i++){if(scope_Locations[i]===-1){return}}if(handleNumber!==undefined&&options.handles!==1){handleNumber=Math.abs(handleNumber-options.dir)}Object.keys(scope_Events).forEach(function(targetEvent){var eventType=targetEvent.split(".")[0];if(event===eventType){scope_Events[targetEvent].forEach(function(callback){callback.call(scope_Self,asArray(valueGet()),handleNumber,asArray(inSliderOrder(Array.prototype.slice.call(scope_Values))),tap||false,scope_Locations)})}})}function inSliderOrder(values){if(values.length===1){return values[0]}if(options.dir){return values.reverse()}return values}function attach(events,element,callback,data){var method=function(e){if(scope_Target.hasAttribute("disabled")){return false}if(hasClass(scope_Target,options.cssClasses.tap)){return false}e=fixEvent(e,data.pageOffset);if(events===actions.start&&e.buttons!==undefined&&e.buttons>1){return false}if(data.hover&&e.buttons){return false}e.calcPoint=e.points[options.ort];callback(e,data)},methods=[];events.split(" ").forEach(function(eventName){element.addEventListener(eventName,method,false);methods.push([eventName,method])});return methods}function move(event,data){if(navigator.appVersion.indexOf("MSIE 9")===-1&&event.buttons===0&&data.buttonsProperty!==0){return end(event,data)}var handles=data.handles||scope_Handles,positions,state=false,proposal=(event.calcPoint-data.start)*100/data.baseSize,handleNumber=handles[0]===scope_Handles[0]?0:1,i;positions=getPositions(proposal,data.positions,handles.length>1);state=setHandle(handles[0],positions[handleNumber],handles.length===1);if(handles.length>1){state=setHandle(handles[1],positions[handleNumber?0:1],false)||state;if(state){for(i=0;i<data.handles.length;i++){fireEvent("slide",i)}}}else if(state){fireEvent("slide",handleNumber)}}function end(event,data){var active=scope_Base.querySelector("."+options.cssClasses.active),handleNumber=data.handles[0]===scope_Handles[0]?0:1;if(active!==null){removeClass(active,options.cssClasses.active)}if(event.cursor){document.body.style.cursor="";document.body.removeEventListener("selectstart",document.body.noUiListener)}var d=document.documentElement;d.noUiListeners.forEach(function(c){d.removeEventListener(c[0],c[1])});removeClass(scope_Target,options.cssClasses.drag);fireEvent("set",handleNumber);fireEvent("change",handleNumber);if(data.handleNumber!==undefined){fireEvent("end",data.handleNumber)}}function documentLeave(event,data){if(event.type==="mouseout"&&event.target.nodeName==="HTML"&&event.relatedTarget===null){end(event,data)}}function start(event,data){var d=document.documentElement;if(data.handles.length===1){if(data.handles[0].hasAttribute("disabled")){return false}addClass(data.handles[0].children[0],options.cssClasses.active)}event.preventDefault();event.stopPropagation();var moveEvent=attach(actions.move,d,move,{start:event.calcPoint,baseSize:baseSize(),pageOffset:event.pageOffset,handles:data.handles,handleNumber:data.handleNumber,buttonsProperty:event.buttons,positions:[scope_Locations[0],scope_Locations[scope_Handles.length-1]]}),endEvent=attach(actions.end,d,end,{handles:data.handles,handleNumber:data.handleNumber});var outEvent=attach("mouseout",d,documentLeave,{handles:data.handles,handleNumber:data.handleNumber});d.noUiListeners=moveEvent.concat(endEvent,outEvent);if(event.cursor){document.body.style.cursor=getComputedStyle(event.target).cursor;if(scope_Handles.length>1){addClass(scope_Target,options.cssClasses.drag)}var f=function(){return false};document.body.noUiListener=f;document.body.addEventListener("selectstart",f,false)}if(data.handleNumber!==undefined){fireEvent("start",data.handleNumber)}}function tap(event){var location=event.calcPoint,total=0,handleNumber,to;event.stopPropagation();scope_Handles.forEach(function(a){total+=offset(a)[options.style]});handleNumber=location<total/2||scope_Handles.length===1?0:1;if(scope_Handles[handleNumber].hasAttribute("disabled")){handleNumber=handleNumber?0:1}location-=offset(scope_Base)[options.style];to=location*100/baseSize();if(!options.events.snap){addClassFor(scope_Target,options.cssClasses.tap,options.animationDuration)}if(scope_Handles[handleNumber].hasAttribute("disabled")){return false}setHandle(scope_Handles[handleNumber],to);fireEvent("slide",handleNumber,true);fireEvent("set",handleNumber,true);fireEvent("change",handleNumber,true);if(options.events.snap){start(event,{handles:[scope_Handles[handleNumber]]})}}function hover(event){var location=event.calcPoint-offset(scope_Base)[options.style],to=scope_Spectrum.getStep(location*100/baseSize()),value=scope_Spectrum.fromStepping(to);Object.keys(scope_Events).forEach(function(targetEvent){if("hover"===targetEvent.split(".")[0]){scope_Events[targetEvent].forEach(function(callback){callback.call(scope_Self,value)})}})}function events(behaviour){if(!behaviour.fixed){scope_Handles.forEach(function(handle,index){attach(actions.start,handle.children[0],start,{handles:[handle],handleNumber:index})})}if(behaviour.tap){attach(actions.start,scope_Base,tap,{handles:scope_Handles})}if(behaviour.hover){attach(actions.move,scope_Base,hover,{hover:true})}if(behaviour.drag){var drag=[scope_Base.querySelector("."+options.cssClasses.connect)];addClass(drag[0],options.cssClasses.draggable);if(behaviour.fixed){drag.push(scope_Handles[drag[0]===scope_Handles[0]?1:0].children[0])}drag.forEach(function(element){attach(actions.start,element,start,{handles:scope_Handles})})}}function setHandle(handle,to,noLimitOption){var trigger=handle!==scope_Handles[0]?1:0,lowerMargin=scope_Locations[0]+options.margin,upperMargin=scope_Locations[1]-options.margin,lowerLimit=scope_Locations[0]+options.limit,upperLimit=scope_Locations[1]-options.limit;if(scope_Handles.length>1){to=trigger?Math.max(to,lowerMargin):Math.min(to,upperMargin)}if(noLimitOption!==false&&options.limit&&scope_Handles.length>1){to=trigger?Math.min(to,lowerLimit):Math.max(to,upperLimit)}to=scope_Spectrum.getStep(to);to=limit(to);if(to===scope_Locations[trigger]){return false}if(window.requestAnimationFrame){window.requestAnimationFrame(function(){handle.style[options.style]=to+"%"})}else{handle.style[options.style]=to+"%"}if(!handle.previousSibling){removeClass(handle,options.cssClasses.stacking);if(to>50){addClass(handle,options.cssClasses.stacking)}}scope_Locations[trigger]=to;scope_Values[trigger]=scope_Spectrum.fromStepping(to);fireEvent("update",trigger);return true}function setValues(count,values){var i,trigger,to;if(options.limit){count+=1}for(i=0;i<count;i+=1){trigger=i%2;to=values[trigger];if(to!==null&&to!==false){if(typeof to==="number"){to=String(to)}to=options.format.from(to);if(to===false||isNaN(to)||setHandle(scope_Handles[trigger],scope_Spectrum.toStepping(to),i===3-options.dir)===false){fireEvent("update",trigger)}}}}function valueSet(input,fireSetEvent){var count,values=asArray(input),i;fireSetEvent=fireSetEvent===undefined?true:!!fireSetEvent;if(options.dir&&options.handles>1){values.reverse()}if(options.animate&&scope_Locations[0]!==-1){addClassFor(scope_Target,options.cssClasses.tap,options.animationDuration)}count=scope_Handles.length>1?3:1;if(values.length===1){count=1}setValues(count,values);for(i=0;i<scope_Handles.length;i++){if(values[i]!==null&&fireSetEvent){fireEvent("set",i)}}}function valueGet(){var i,retour=[];for(i=0;i<options.handles;i+=1){retour[i]=options.format.to(scope_Values[i])}return inSliderOrder(retour)}function destroy(){for(var key in options.cssClasses){if(!options.cssClasses.hasOwnProperty(key)){continue}removeClass(scope_Target,options.cssClasses[key])}while(scope_Target.firstChild){scope_Target.removeChild(scope_Target.firstChild)}delete scope_Target.noUiSlider}function getCurrentStep(){var retour=scope_Locations.map(function(location,index){var step=scope_Spectrum.getApplicableStep(location),stepDecimals=countDecimals(String(step[2])),value=scope_Values[index],increment=location===100?null:step[2],prev=Number((value-step[2]).toFixed(stepDecimals)),decrement=location===0?null:prev>=step[1]?step[2]:step[0]||false;return[decrement,increment]});return inSliderOrder(retour)}function bindEvent(namespacedEvent,callback){scope_Events[namespacedEvent]=scope_Events[namespacedEvent]||[];scope_Events[namespacedEvent].push(callback);if(namespacedEvent.split(".")[0]==="update"){scope_Handles.forEach(function(a,index){fireEvent("update",index)})}}function removeEvent(namespacedEvent){var event=namespacedEvent&&namespacedEvent.split(".")[0],namespace=event&&namespacedEvent.substring(event.length);Object.keys(scope_Events).forEach(function(bind){var tEvent=bind.split(".")[0],tNamespace=bind.substring(tEvent.length);if((!event||event===tEvent)&&(!namespace||namespace===tNamespace)){delete scope_Events[bind]}})}function updateOptions(optionsToUpdate,fireSetEvent){var v=valueGet(),newOptions=testOptions({start:[0,0],margin:optionsToUpdate.margin,limit:optionsToUpdate.limit,step:optionsToUpdate.step===undefined?options.singleStep:optionsToUpdate.step,range:optionsToUpdate.range,animate:optionsToUpdate.animate,snap:optionsToUpdate.snap===undefined?options.snap:optionsToUpdate.snap});["margin","limit","range","animate"].forEach(function(name){if(optionsToUpdate[name]!==undefined){options[name]=optionsToUpdate[name]}});newOptions.spectrum.direction=scope_Spectrum.direction;scope_Spectrum=newOptions.spectrum;scope_Locations=[-1,-1];valueSet(optionsToUpdate.start||v,fireSetEvent)}if(scope_Target.noUiSlider){throw new Error("Slider was already initialized.")}scope_Base=addSlider(options.dir,options.ort,scope_Target);scope_Handles=addHandles(options.handles,options.dir,scope_Base);addConnection(options.connect,scope_Target,scope_Handles);if(options.pips){pips(options.pips)}if(options.tooltips){tooltips()}scope_Self={destroy:destroy,steps:getCurrentStep,on:bindEvent,off:removeEvent,get:valueGet,set:valueSet,updateOptions:updateOptions,options:originalOptions,target:scope_Target,pips:pips};events(options.events);return scope_Self}function initialize(target,originalOptions){if(!target.nodeName){throw new Error("noUiSlider.create requires a single element.")}var options=testOptions(originalOptions,target),slider=closure(target,options,originalOptions);slider.set(options.start);target.noUiSlider=slider;return slider}return{create:initialize}})},{}],19:[function(require,module,exports){(function(){var numeral,VERSION="1.5.6",languages={},defaults={currentLanguage:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0"},options={currentLanguage:defaults.currentLanguage,zeroFormat:defaults.zeroFormat,nullFormat:defaults.nullFormat,defaultFormat:defaults.defaultFormat},byteSuffixes={bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],iec:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]};function Numeral(number){this._value=number}function toFixed(value,maxDecimals,roundingFunction,optionals){var splitValue=value.toString().split("."),minDecimals=maxDecimals-(optionals||0),boundedPrecision,optionalsRegExp,power,output;if(splitValue.length===2){boundedPrecision=Math.min(Math.max(splitValue[1].length,minDecimals),maxDecimals)}else{boundedPrecision=minDecimals}power=Math.pow(10,boundedPrecision);output=(roundingFunction(value*power)/power).toFixed(boundedPrecision);if(optionals>maxDecimals-boundedPrecision){optionalsRegExp=new RegExp("\\.?0{1,"+(optionals-(maxDecimals-boundedPrecision))+"}$");output=output.replace(optionalsRegExp,"")}return output}function formatNumeral(n,format,roundingFunction){var output;if(n._value===0&&options.zeroFormat!==null){output=options.zeroFormat}else if(n._value===null&&options.nullFormat!==null){output=options.nullFormat}else{if(format.indexOf("$")>-1){output=formatCurrency(n,format,roundingFunction)}else if(format.indexOf("%")>-1){output=formatPercentage(n,format,roundingFunction)}else if(format.indexOf(":")>-1){output=formatTime(n,format)}else if(format.indexOf("b")>-1||format.indexOf("ib")>-1){output=formatBytes(n,format,roundingFunction)}else if(format.indexOf("o")>-1){output=formatOrdinal(n,format,roundingFunction)}else{output=formatNumber(n._value,format,roundingFunction)}}return output}function formatCurrency(n,format,roundingFunction){var symbolIndex=format.indexOf("$"),openParenIndex=format.indexOf("("),minusSignIndex=format.indexOf("-"),space="",spliceIndex,output;if(format.indexOf(" $")>-1){space=" ";format=format.replace(" $","")}else if(format.indexOf("$ ")>-1){space=" ";format=format.replace("$ ","")}else{format=format.replace("$","")}output=formatNumber(n._value,format,roundingFunction,false);if(symbolIndex<=1){if(output.indexOf("(")>-1||output.indexOf("-")>-1){output=output.split("");spliceIndex=1;if(symbolIndex<openParenIndex||symbolIndex<minusSignIndex){spliceIndex=0}output.splice(spliceIndex,0,languages[options.currentLanguage].currency.symbol+space);output=output.join("")}else{output=languages[options.currentLanguage].currency.symbol+space+output}}else{if(output.indexOf(")")>-1){output=output.split("");output.splice(-1,0,space+languages[options.currentLanguage].currency.symbol);output=output.join("")}else{output=output+space+languages[options.currentLanguage].currency.symbol}}return output}function formatPercentage(n,format,roundingFunction){var space="",output,value=n._value*100;if(format.indexOf(" %")>-1){space=" ";format=format.replace(" %","")}else{format=format.replace("%","")}output=formatNumber(value,format,roundingFunction);if(output.indexOf(")")>-1){output=output.split("");output.splice(-1,0,space+"%");output=output.join("")}else{output=output+space+"%"}return output}function formatBytes(n,format,roundingFunction){var output,suffixes=format.indexOf("ib")>-1?byteSuffixes.iec:byteSuffixes.bytes,value=n._value,suffix="",power,min,max;if(format.indexOf(" b")>-1||format.indexOf(" ib")>-1){suffix=" ";format=format.replace(" ib","").replace(" b","")}else{format=format.replace("ib","").replace("b","")}for(power=0;power<=suffixes.length;power++){min=Math.pow(1024,power);max=Math.pow(1024,power+1);if(value===null||value===0||value>=min&&value<max){suffix+=suffixes[power];if(min>0){value=value/min}break}}output=formatNumber(value,format,roundingFunction);return output+suffix}function formatOrdinal(n,format,roundingFunction){var output,ordinal="";if(format.indexOf(" o")>-1){ordinal=" ";format=format.replace(" o","")}else{format=format.replace("o","")}ordinal+=languages[options.currentLanguage].ordinal(n._value);output=formatNumber(n._value,format,roundingFunction);return output+ordinal}function formatTime(n){var hours=Math.floor(n._value/60/60),minutes=Math.floor((n._value-hours*60*60)/60),seconds=Math.round(n._value-hours*60*60-minutes*60);return hours+":"+(minutes<10?"0"+minutes:minutes)+":"+(seconds<10?"0"+seconds:seconds)}function formatNumber(value,format,roundingFunction){var negP=false,signed=false,optDec=false,abbr="",abbrK=false,abbrM=false,abbrB=false,abbrT=false,abbrForce=false,abs,min,max,power,w,precision,thousands,d="",neg=false;if(value===null){value=0}abs=Math.abs(value);if(format.indexOf("(")>-1){negP=true;format=format.slice(1,-1)}else if(format.indexOf("+")>-1){signed=true;format=format.replace(/\+/g,"")}if(format.indexOf("a")>-1){abbrK=format.indexOf("aK")>=0;abbrM=format.indexOf("aM")>=0;abbrB=format.indexOf("aB")>=0;abbrT=format.indexOf("aT")>=0;abbrForce=abbrK||abbrM||abbrB||abbrT;if(format.indexOf(" a")>-1){abbr=" "}format=format.replace(new RegExp(abbr+"a[KMBT]?"),"");if(abs>=Math.pow(10,12)&&!abbrForce||abbrT){abbr=abbr+languages[options.currentLanguage].abbreviations.trillion;value=value/Math.pow(10,12)}else if(abs<Math.pow(10,12)&&abs>=Math.pow(10,9)&&!abbrForce||abbrB){abbr=abbr+languages[options.currentLanguage].abbreviations.billion;value=value/Math.pow(10,9)}else if(abs<Math.pow(10,9)&&abs>=Math.pow(10,6)&&!abbrForce||abbrM){abbr=abbr+languages[options.currentLanguage].abbreviations.million;value=value/Math.pow(10,6)}else if(abs<Math.pow(10,6)&&abs>=Math.pow(10,3)&&!abbrForce||abbrK){abbr=abbr+languages[options.currentLanguage].abbreviations.thousand;value=value/Math.pow(10,3)}}if(format.indexOf("[.]")>-1){optDec=true;format=format.replace("[.]",".")}w=value.toString().split(".")[0];precision=format.split(".")[1];thousands=format.indexOf(",");if(precision){if(precision.indexOf("[")>-1){precision=precision.replace("]","");precision=precision.split("[");d=toFixed(value,precision[0].length+precision[1].length,roundingFunction,precision[1].length)}else{d=toFixed(value,precision.length,roundingFunction)}w=d.split(".")[0];if(d.indexOf(".")>-1){d=languages[options.currentLanguage].delimiters.decimal+d.split(".")[1]}else{d=""}if(optDec&&Number(d.slice(1))===0){d=""}}else{w=toFixed(value,null,roundingFunction)}if(w.indexOf("-")>-1){w=w.slice(1);neg=true}if(thousands>-1){w=w.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+languages[options.currentLanguage].delimiters.thousands)}if(format.indexOf(".")===0){w=""}return(negP&&neg?"(":"")+(!negP&&neg?"-":"")+(!neg&&signed?"+":"")+w+d+(abbr?abbr:"")+(negP&&neg?")":"")}function unformatNumeral(n,string){var stringOriginal=string,thousandRegExp,millionRegExp,billionRegExp,trillionRegExp,bytesMultiplier=false,power,value;if(string.indexOf(":")>-1){value=unformatTime(string)}else{if(string===options.zeroFormat||string===options.nullFormat){value=0}else{if(languages[options.currentLanguage].delimiters.decimal!=="."){string=string.replace(/\./g,"").replace(languages[options.currentLanguage].delimiters.decimal,".")}thousandRegExp=new RegExp("[^a-zA-Z]"+languages[options.currentLanguage].abbreviations.thousand+"(?:\\)|(\\"+languages[options.currentLanguage].currency.symbol+")?(?:\\))?)?$");millionRegExp=new RegExp("[^a-zA-Z]"+languages[options.currentLanguage].abbreviations.million+"(?:\\)|(\\"+languages[options.currentLanguage].currency.symbol+")?(?:\\))?)?$");billionRegExp=new RegExp("[^a-zA-Z]"+languages[options.currentLanguage].abbreviations.billion+"(?:\\)|(\\"+languages[options.currentLanguage].currency.symbol+")?(?:\\))?)?$");trillionRegExp=new RegExp("[^a-zA-Z]"+languages[options.currentLanguage].abbreviations.trillion+"(?:\\)|(\\"+languages[options.currentLanguage].currency.symbol+")?(?:\\))?)?$");for(power=1;power<=byteSuffixes.bytes.length;power++){bytesMultiplier=string.indexOf(byteSuffixes.bytes[power])>-1||string.indexOf(byteSuffixes.iec[power])>-1?Math.pow(1024,power):false;if(bytesMultiplier){break}}value=bytesMultiplier?bytesMultiplier:1;value*=stringOriginal.match(thousandRegExp)?Math.pow(10,3):1;value*=stringOriginal.match(millionRegExp)?Math.pow(10,6):1;value*=stringOriginal.match(billionRegExp)?Math.pow(10,9):1;value*=stringOriginal.match(trillionRegExp)?Math.pow(10,12):1;value*=string.indexOf("%")>-1?.01:1;value*=(string.split("-").length+Math.min(string.split("(").length-1,string.split(")").length-1))%2?1:-1;value*=Number(string.replace(/[^0-9\.]+/g,""));value=bytesMultiplier?Math.ceil(value):value}}n._value=value;return n._value}function unformatTime(string){var timeArray=string.split(":"),seconds=0;if(timeArray.length===3){seconds=seconds+Number(timeArray[0])*60*60;seconds=seconds+Number(timeArray[1])*60;seconds=seconds+Number(timeArray[2])}else if(timeArray.length===2){seconds=seconds+Number(timeArray[0])*60;seconds=seconds+Number(timeArray[1])}return Number(seconds)}numeral=function(input){if(numeral.isNumeral(input)){input=input.value()}else if(input===0||typeof input==="undefined"){input=0}else if(input===null){input=null}else if(!Number(input)){input=numeral.fn.unformat(input)}else{input=Number(input)}return new Numeral(input)};numeral.version=VERSION;numeral.isNumeral=function(obj){return obj instanceof Numeral};numeral.language=function(key,values){if(!key){return options.currentLanguage}key=key.toLowerCase();if(key&&!values){if(!languages[key]){throw new Error("Unknown language : "+key)}options.currentLanguage=key}if(values||!languages[key]){loadLanguage(key,values)}return numeral};numeral.reset=function(){for(var property in defaults){options[property]=defaults[property]}};numeral.languageData=function(key){if(!key){return languages[options.currentLanguage]}if(!languages[key]){throw new Error("Unknown language : "+key)}return languages[key]};numeral.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return~~(number%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th"},currency:{symbol:"$"}});numeral.zeroFormat=function(format){options.zeroFormat=typeof format==="string"?format:null};numeral.nullFormat=function(format){options.nullFormat=typeof format==="string"?format:null};numeral.defaultFormat=function(format){options.defaultFormat=typeof format==="string"?format:"0.0"};numeral.validate=function(val,culture){var _decimalSep,_thousandSep,_currSymbol,_valArray,_abbrObj,_thousandRegEx,languageData,temp;if(typeof val!=="string"){val+="";if(console.warn){console.warn("Numeral.js: Value is not string. It has been co-erced to: ",val)}}val=val.trim();if(!!val.match(/^\d+$/)){return true}if(val===""){return false}try{languageData=numeral.languageData(culture)}catch(e){languageData=numeral.languageData(numeral.language())}_currSymbol=languageData.currency.symbol;_abbrObj=languageData.abbreviations;_decimalSep=languageData.delimiters.decimal;if(languageData.delimiters.thousands==="."){_thousandSep="\\."}else{_thousandSep=languageData.delimiters.thousands}temp=val.match(/^[^\d]+/);if(temp!==null){val=val.substr(1);if(temp[0]!==_currSymbol){return false}}temp=val.match(/[^\d]+$/);if(temp!==null){val=val.slice(0,-1);if(temp[0]!==_abbrObj.thousand&&temp[0]!==_abbrObj.million&&temp[0]!==_abbrObj.billion&&temp[0]!==_abbrObj.trillion){return false}}_thousandRegEx=new RegExp(_thousandSep+"{2}");if(!val.match(/[^\d.,]/g)){_valArray=val.split(_decimalSep);if(_valArray.length>2){return false}else{if(_valArray.length<2){return!!_valArray[0].match(/^\d+.*\d$/)&&!_valArray[0].match(_thousandRegEx)}else{if(_valArray[0].length===1){return!!_valArray[0].match(/^\d+$/)&&!_valArray[0].match(_thousandRegEx)&&!!_valArray[1].match(/^\d+$/)}else{return!!_valArray[0].match(/^\d+.*\d$/)&&!_valArray[0].match(_thousandRegEx)&&!!_valArray[1].match(/^\d+$/)}}}}return false};function loadLanguage(key,values){languages[key]=values}if(!Array.prototype.reduce){Array.prototype.reduce=function(callback){"use strict";if(this===null){throw new TypeError("Array.prototype.reduce called on null or undefined")}if(typeof callback!=="function"){throw new TypeError(callback+" is not a function")}var t=Object(this),len=t.length>>>0,k=0,value;if(arguments.length===2){value=arguments[1]}else{while(k<len&&!(k in t)){k++}if(k>=len){throw new TypeError("Reduce of empty array with no initial value")}value=t[k++]}for(;k<len;k++){if(k in t){value=callback(value,t[k],k,t)}}return value}}function multiplier(x){var parts=x.toString().split(".");if(parts.length<2){return 1}return Math.pow(10,parts[1].length)}function correctionFactor(){var args=Array.prototype.slice.call(arguments);return args.reduce(function(prev,next){var mp=multiplier(prev),mn=multiplier(next);return mp>mn?mp:mn},-Infinity)}numeral.fn=Numeral.prototype={clone:function(){return numeral(this)},format:function(inputString,roundingFunction){return formatNumeral(this,inputString?inputString:options.defaultFormat,roundingFunction!==undefined?roundingFunction:Math.round)},unformat:function(inputString){if(Object.prototype.toString.call(inputString)==="[object Number]"){return inputString}return unformatNumeral(this,inputString?inputString:options.defaultFormat)},value:function(){return this._value},valueOf:function(){return this._value},set:function(value){this._value=Number(value);return this},add:function(value){var corrFactor=correctionFactor.call(null,this._value,value);function cback(accum,curr,currI,O){return accum+corrFactor*curr}this._value=[this._value,value].reduce(cback,0)/corrFactor;return this},subtract:function(value){var corrFactor=correctionFactor.call(null,this._value,value);function cback(accum,curr,currI,O){return accum-corrFactor*curr}this._value=[value].reduce(cback,this._value*corrFactor)/corrFactor;return this},multiply:function(value){function cback(accum,curr,currI,O){var corrFactor=correctionFactor(accum,curr);return accum*corrFactor*(curr*corrFactor)/(corrFactor*corrFactor)}this._value=[this._value,value].reduce(cback,1);return this},divide:function(value){function cback(accum,curr,currI,O){var corrFactor=correctionFactor(accum,curr);return accum*corrFactor/(curr*corrFactor)}this._value=[this._value,value].reduce(cback);return this},difference:function(value){return Math.abs(numeral(this._value).subtract(value).value())}};if(typeof module!=="undefined"&&module.exports){module.exports=numeral}if(typeof ender==="undefined"){this["numeral"]=numeral}if(typeof define==="function"&&define.amd){define([],function(){return numeral})}}).call(this)},{}],20:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _linear=require("./linear");var _linear2=_interopRequireDefault(_linear);var _rectangle=require("./rectangle");var _rectangle2=_interopRequireDefault(_rectangle);var _ops=require("./ops");exports["default"]=function(_ref){var data=_ref.data;var _ref$accessor=_ref.accessor;var accessor=_ref$accessor===undefined?_ops.id:_ref$accessor;var width=_ref.width;var height=_ref.height;var min=_ref.min;var max=_ref.max;var _ref$gutter=_ref.gutter;var gutter=_ref$gutter===undefined?10:_ref$gutter;var compute=_ref.compute;var groups=[];var minUnset=false;var maxUnset=false;if(min==null){min=0;minUnset=true}if(max==null){max=0;maxUnset=true}var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=data.entries()[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var _step$value=_slicedToArray(_step.value,2);var i=_step$value[0];var d=_step$value[1];var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=d.entries()[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var _step3$value=_slicedToArray(_step3.value,2);var j=_step3$value[0];var el=_step3$value[1];var val=accessor(el);if(minUnset&&val<min){min=val}if(maxUnset&&val>max){max=val}if(groups[j]==null){groups[j]=[]}groups[j][i]=val}}catch(err){_didIteratorError3=true;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&_iterator3["return"]){_iterator3["return"]()}}finally{if(_didIteratorError3){throw _iteratorError3}}}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator["return"]){_iterator["return"]()}}finally{if(_didIteratorError){throw _iteratorError}}}var n=groups.length;var groupWidth=(width-gutter*(n-1))/n;var curves=[];var scale=(0,_linear2["default"])([min,max],[height,0]);var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=groups.entries()[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var _step2$value=_slicedToArray(_step2.value,2);var i=_step2$value[0];var g=_step2$value[1];var w=groupWidth/g.length;var shift=(groupWidth+gutter)*i;var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=g.entries()[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var _step4$value=_slicedToArray(_step4.value,2);var j=_step4$value[0];var el=_step4$value[1];var left=shift+w*j;var right=left+w;var bottom=scale(0);var _top=scale(el);var line=(0,_rectangle2["default"])({left:left,right:right,bottom:bottom,top:_top});curves.push((0,_ops.enhance)(compute,{item:data[j][i],line:line,group:i,index:j}))}}catch(err){_didIteratorError4=true;_iteratorError4=err}finally{try{if(!_iteratorNormalCompletion4&&_iterator4["return"]){_iterator4["return"]()}}finally{if(_didIteratorError4){throw _iteratorError4}}}}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2["return"]){_iterator2["return"]()}}finally{if(_didIteratorError2){throw _iteratorError2}}}return{curves:curves,scale:scale}};module.exports=exports["default"]},{"./linear":21,"./ops":22,"./rectangle":25}],21:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var linear=function linear(_ref,_ref3){var _ref2=_slicedToArray(_ref,2);var a=_ref2[0];var b=_ref2[1];var _ref32=_slicedToArray(_ref3,2);var c=_ref32[0];var d=_ref32[1];var f=function f(x){return c+(d-c)*(x-a)/(b-a)};f.inverse=function(){
return linear([c,d],[a,b])};return f};exports["default"]=linear;module.exports=exports["default"]},{}],22:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var sum=function sum(xs){return xs.reduce(function(a,b){return a+b},0)};var min=function min(xs){return xs.reduce(function(a,b){return Math.min(a,b)})};var max=function max(xs){return xs.reduce(function(a,b){return Math.max(a,b)})};var sumBy=function sumBy(xs,f){return xs.reduce(function(a,b){return a+f(b)},0)};var minBy=function minBy(xs,f){return xs.reduce(function(a,b){return Math.min(a,f(b))},Infinity)};var maxBy=function maxBy(xs,f){return xs.reduce(function(a,b){return Math.max(a,f(b))},-Infinity)};var plus=function plus(_ref,_ref3){var _ref2=_slicedToArray(_ref,2);var a=_ref2[0];var b=_ref2[1];var _ref32=_slicedToArray(_ref3,2);var c=_ref32[0];var d=_ref32[1];return[a+c,b+d]};var minus=function minus(_ref4,_ref5){var _ref42=_slicedToArray(_ref4,2);var a=_ref42[0];var b=_ref42[1];var _ref52=_slicedToArray(_ref5,2);var c=_ref52[0];var d=_ref52[1];return[a-c,b-d]};var times=function times(k,_ref6){var _ref62=_slicedToArray(_ref6,2);var a=_ref62[0];var b=_ref62[1];return[k*a,k*b]};var length=function length(_ref7){var _ref72=_slicedToArray(_ref7,2);var a=_ref72[0];var b=_ref72[1];return Math.sqrt(a*a+b*b)};var sumVectors=function sumVectors(xs){return xs.reduce(plus,[0,0])};var average=function average(points){return times(1/points.length,points.reduce(plus))};var onCircle=function onCircle(r,angle){return times(r,[Math.sin(angle),-Math.cos(angle)])};var enhance=function enhance(compute,curve){var obj=compute||{};for(var key in obj){var method=obj[key];curve[key]=method(curve.index,curve.item,curve.group)}return curve};var range=function range(a,b,inclusive){var result=[];for(var i=a;i<b;i++){result.push(i)}if(inclusive){result.push(b)}return result};var mapObject=function mapObject(obj,f){var result=[];var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=Object.keys(obj)[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var k=_step.value;var v=obj[k];result.push(f(k,v))}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator["return"]){_iterator["return"]()}}finally{if(_didIteratorError){throw _iteratorError}}}return result};var pairs=function pairs(obj){return mapObject(obj,function(k,v){return[k,v]})};var id=function id(x){return x};exports.sum=sum;exports.min=min;exports.max=max;exports.sumBy=sumBy;exports.minBy=minBy;exports.maxBy=maxBy;exports.plus=plus;exports.minus=minus;exports.times=times;exports.id=id;exports.length=length;exports.sumVectors=sumVectors;exports.average=average;exports.onCircle=onCircle;exports.enhance=enhance;exports.range=range;exports.mapObject=mapObject;exports.pairs=pairs;exports["default"]={sum:sum,min:min,max:max,sumBy:sumBy,minBy:minBy,maxBy:maxBy,plus:plus,minus:minus,times:times,id:id,length:length,sumVectors:sumVectors,average:average,onCircle:onCircle,enhance:enhance,range:range,mapObject:mapObject,pairs:pairs}},{}],23:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var Path=function Path(init){var _instructions=init||[];var push=function push(arr,el){var copy=arr.slice(0,arr.length);copy.push(el);return copy};var areEqualPoints=function areEqualPoints(_ref,_ref3){var _ref2=_slicedToArray(_ref,2);var a1=_ref2[0];var b1=_ref2[1];var _ref32=_slicedToArray(_ref3,2);var a2=_ref32[0];var b2=_ref32[1];return a1===a2&&b1===b2};var trimZeros=function trimZeros(string,char){var l=string.length;while(string.charAt(l-1)==="0"){l=l-1}if(string.charAt(l-1)==="."){l=l-1}return string.substr(0,l)};var round=function round(number,digits){var str=number.toFixed(digits);return trimZeros(str)};var printInstrunction=function printInstrunction(_ref4){var command=_ref4.command;var params=_ref4.params;var numbers=params.map(function(param){return round(param,6)});return command+" "+numbers.join(" ")};var point=function point(_ref5,_ref6){var command=_ref5.command;var params=_ref5.params;var _ref62=_slicedToArray(_ref6,2);var prevX=_ref62[0];var prevY=_ref62[1];switch(command){case"M":return[params[0],params[1]];case"L":return[params[0],params[1]];case"H":return[params[0],prevY];case"V":return[prevX,params[0]];case"Z":return null;case"C":return[params[4],params[5]];case"S":return[params[2],params[3]];case"Q":return[params[2],params[3]];case"T":return[params[0],params[1]];case"A":return[params[5],params[6]]}};var verbosify=function verbosify(keys,f){return function(a){var args=typeof a==="object"?keys.map(function(k){return a[k]}):arguments;return f.apply(null,args)}};var plus=function plus(instruction){return Path(push(_instructions,instruction))};return{moveto:verbosify(["x","y"],function(x,y){return plus({command:"M",params:[x,y]})}),lineto:verbosify(["x","y"],function(x,y){return plus({command:"L",params:[x,y]})}),hlineto:verbosify(["x"],function(x){return plus({command:"H",params:[x]})}),vlineto:verbosify(["y"],function(y){return plus({command:"V",params:[y]})}),closepath:function closepath(){return plus({command:"Z",params:[]})},curveto:verbosify(["x1","y1","x2","y2","x","y"],function(x1,y1,x2,y2,x,y){return plus({command:"C",params:[x1,y1,x2,y2,x,y]})}),smoothcurveto:verbosify(["x2","y2","x","y"],function(x2,y2,x,y){return plus({command:"S",params:[x2,y2,x,y]})}),qcurveto:verbosify(["x1","y1","x","y"],function(x1,y1,x,y){return plus({command:"Q",params:[x1,y1,x,y]})}),smoothqcurveto:verbosify(["x","y"],function(x,y){return plus({command:"T",params:[x,y]})}),arc:verbosify(["rx","ry","xrot","largeArcFlag","sweepFlag","x","y"],function(rx,ry,xrot,largeArcFlag,sweepFlag,x,y){return plus({command:"A",params:[rx,ry,xrot,largeArcFlag,sweepFlag,x,y]})}),print:function print(){return _instructions.map(printInstrunction).join(" ")},points:function points(){var ps=[];var prev=[0,0];var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=_instructions[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var instruction=_step.value;var p=point(instruction,prev);prev=p;if(p){ps.push(p)}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator["return"]){_iterator["return"]()}}finally{if(_didIteratorError){throw _iteratorError}}}return ps},instructions:function instructions(){return _instructions.slice(0,_instructions.length)},connect:function connect(path){var ps=this.points();var last=ps[ps.length-1];var first=path.points()[0];var newInstructions=path.instructions().slice(1);if(!areEqualPoints(last,first)){newInstructions.unshift({command:"L",params:first})}return Path(this.instructions().concat(newInstructions))}}};exports["default"]=function(){return Path()};module.exports=exports["default"]},{}],24:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}else{return Array.from(arr)}}var _path=require("./path");var _path2=_interopRequireDefault(_path);var _ops=require("./ops");exports["default"]=function(_ref){var _Path;var points=_ref.points;var closed=_ref.closed;var l=points.length;var head=points[0];var tail=points.slice(1,l+1);var path=tail.reduce(function(pt,p){return pt.lineto.apply(pt,_toConsumableArray(p))},(_Path=(0,_path2["default"])()).moveto.apply(_Path,_toConsumableArray(head)));return{path:closed?path.closepath():path,centroid:(0,_ops.average)(points)}};module.exports=exports["default"]},{"./ops":22,"./path":23}],25:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _polygon=require("./polygon");var _polygon2=_interopRequireDefault(_polygon);exports["default"]=function(_ref){var left=_ref.left;var right=_ref.right;var top=_ref.top;var bottom=_ref.bottom;return(0,_polygon2["default"])({points:[[right,top],[right,bottom],[left,bottom],[left,top]],closed:true})};module.exports=exports["default"]},{"./polygon":24}],26:[function(require,module,exports){(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?module.exports=factory():typeof define==="function"&&define.amd?define(factory):global.Ractive.transitions.fade=factory()})(this,function(){"use strict";var DEFAULTS={delay:0,duration:300,easing:"linear"};function fade(t,params){var targetOpacity;params=t.processParams(params,DEFAULTS);if(t.isIntro){targetOpacity=t.getStyle("opacity");t.setStyle("opacity",0)}else{targetOpacity=0}t.animateStyle("opacity",targetOpacity,params).then(t.complete)}return fade})},{}],27:[function(require,module,exports){(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?module.exports=factory():typeof define==="function"&&define.amd?define(factory):global.Ractive=factory()})(this,function(){"use strict";var TEMPLATE_VERSION=3;var defaultOptions={el:void 0,append:false,template:{v:TEMPLATE_VERSION,t:[]},preserveWhitespace:false,sanitize:false,stripComments:true,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:false,data:{},computed:{},magic:false,modifyArrays:true,adapt:[],isolated:false,twoway:true,lazy:false,noIntro:false,transitionsEnabled:true,complete:void 0,css:null,noCssTransform:false};var config_defaults=defaultOptions;var static_easing={linear:function(pos){return pos},easeIn:function(pos){return Math.pow(pos,3)},easeOut:function(pos){return Math.pow(pos-1,3)+1},easeInOut:function(pos){if((pos/=.5)<1){return.5*Math.pow(pos,3)}return.5*(Math.pow(pos-2,3)+2)}};var isClient,isJsdom,hasConsole,environment__magic,namespaces,svg,vendors;isClient=typeof document==="object";isJsdom=typeof navigator!=="undefined"&&/jsDom/.test(navigator.appName);hasConsole=typeof console!=="undefined"&&typeof console.warn==="function"&&typeof console.warn.apply==="function";try{Object.defineProperty({},"test",{value:0});environment__magic=true}catch(e){environment__magic=false}namespaces={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};if(typeof document==="undefined"){svg=false}else{svg=document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}vendors=["o","ms","moz","webkit"];var createElement,matches,dom__div,methodNames,unprefixed,prefixed,dom__i,j,makeFunction;if(!svg){createElement=function(type,ns){if(ns&&ns!==namespaces.html){throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information"}return document.createElement(type)}}else{createElement=function(type,ns){if(!ns||ns===namespaces.html){return document.createElement(type)}return document.createElementNS(ns,type)}}function getElement(input){var output;if(!input||typeof input==="boolean"){return}if(typeof window==="undefined"||!document||!input){return null}if(input.nodeType){return input}if(typeof input==="string"){output=document.getElementById(input);if(!output&&document.querySelector){output=document.querySelector(input)}if(output&&output.nodeType){return output}}if(input[0]&&input[0].nodeType){return input[0]}return null}if(!isClient){matches=null}else{dom__div=createElement("div");methodNames=["matches","matchesSelector"];makeFunction=function(methodName){return function(node,selector){return node[methodName](selector)}};dom__i=methodNames.length;while(dom__i--&&!matches){unprefixed=methodNames[dom__i];if(dom__div[unprefixed]){matches=makeFunction(unprefixed)}else{j=vendors.length;while(j--){prefixed=vendors[dom__i]+unprefixed.substr(0,1).toUpperCase()+unprefixed.substring(1);if(dom__div[prefixed]){matches=makeFunction(prefixed);break}}}}if(!matches){matches=function(node,selector){var nodes,parentNode,i;parentNode=node.parentNode;if(!parentNode){dom__div.innerHTML="";parentNode=dom__div;node=node.cloneNode();dom__div.appendChild(node)}nodes=parentNode.querySelectorAll(selector);i=nodes.length;while(i--){if(nodes[i]===node){return true}}return false}}}function detachNode(node){if(node&&typeof node.parentNode!=="unknown"&&node.parentNode){node.parentNode.removeChild(node)}return node}function safeToStringValue(value){return value==null||!value.toString?"":value}var legacy=null;var create,defineProperty,defineProperties;try{Object.defineProperty({},"test",{value:0});if(isClient){Object.defineProperty(document.createElement("div"),"test",{value:0})}defineProperty=Object.defineProperty}catch(err){defineProperty=function(obj,prop,desc){obj[prop]=desc.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(err){throw err}if(isClient){Object.defineProperties(createElement("div"),{test:{value:0}})}defineProperties=Object.defineProperties}catch(err){defineProperties=function(obj,props){var prop;for(prop in props){if(props.hasOwnProperty(prop)){defineProperty(obj,prop,props[prop])}}}}try{Object.create(null);create=Object.create}catch(err){create=function(){var F=function(){};return function(proto,props){var obj;if(proto===null){return{}}F.prototype=proto;obj=new F;if(props){Object.defineProperties(obj,props)}return obj}}()}function utils_object__extend(target){for(var _len=arguments.length,sources=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){sources[_key-1]=arguments[_key]}var prop,source;while(source=sources.shift()){for(prop in source){if(hasOwn.call(source,prop)){target[prop]=source[prop]}}}return target}function fillGaps(target){for(var _len=arguments.length,sources=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){sources[_key-1]=arguments[_key]}sources.forEach(function(s){for(var key in s){if(s.hasOwnProperty(key)&&!(key in target)){target[key]=s[key]}}});return target}var hasOwn=Object.prototype.hasOwnProperty;var is__toString=Object.prototype.toString,arrayLikePattern=/^\[object (?:Array|FileList)\]$/;function isArray(thing){return is__toString.call(thing)==="[object Array]"}function isArrayLike(obj){return arrayLikePattern.test(is__toString.call(obj))}function isEqual(a,b){if(a===null&&b===null){return true}if(typeof a==="object"||typeof b==="object"){return false}return a===b}function is__isNumeric(thing){return!isNaN(parseFloat(thing))&&isFinite(thing)}function isObject(thing){return thing&&is__toString.call(thing)==="[object Object]"}var noop=function(){};var alreadyWarned={},log,printWarning,welcome;if(hasConsole){(function(){var welcomeIntro=["%cRactive.js %c0.7.3 %cin debug mode, %cmore...","color: rgb(114, 157, 52); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;"];var welcomeMessage="You're running Ractive 0.7.3 in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\n\nTo disable debug mode, add this line at the start of your app:\n  Ractive.DEBUG = false;\n\nTo disable debug mode when your app is minified, add this snippet:\n  Ractive.DEBUG = /unminified/.test(function(){/*unminified*/});\n\nGet help and support:\n  http://docs.ractivejs.org\n  http://stackoverflow.com/questions/tagged/ractivejs\n  http://groups.google.com/forum/#!forum/ractive-js\n  http://twitter.com/ractivejs\n\nFound a bug? Raise an issue:\n  https://github.com/ractivejs/ractive/issues\n\n";welcome=function(){var hasGroup=!!console.groupCollapsed;console[hasGroup?"groupCollapsed":"log"].apply(console,welcomeIntro);console.log(welcomeMessage);if(hasGroup){console.groupEnd(welcomeIntro)}welcome=noop};printWarning=function(message,args){welcome();if(typeof args[args.length-1]==="object"){var options=args.pop();var ractive=options?options.ractive:null;if(ractive){var _name=undefined;if(ractive.component&&(_name=ractive.component.name)){message="<"+_name+"> "+message}var node=undefined;if(node=options.node||ractive.fragment&&ractive.fragment.rendered&&ractive.find("*")){args.push(node)}}}console.warn.apply(console,["%cRactive.js: %c"+message,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);"].concat(args))};log=function(){console.log.apply(console,arguments)}})()}else{printWarning=log=welcome=noop}function format(message,args){return message.replace(/%s/g,function(){return args.shift()})}function fatal(message){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}message=format(message,args);throw new Error(message)}function logIfDebug(){if(_Ractive.DEBUG){log.apply(null,arguments)}}function warn(message){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}message=format(message,args);printWarning(message,args)}function warnOnce(message){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}message=format(message,args);if(alreadyWarned[message]){return}alreadyWarned[message]=true;printWarning(message,args)}function warnIfDebug(){if(_Ractive.DEBUG){warn.apply(null,arguments)}}function warnOnceIfDebug(){if(_Ractive.DEBUG){warnOnce.apply(null,arguments)}}var badArguments="Bad arguments";var noRegistryFunctionReturn='A function was specified for "%s" %s, but no %s was returned';var missingPlugin=function(name,type){return'Missing "'+name+'" '+type+" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+type+"s"};function findInViewHierarchy(registryName,ractive,name){var instance=findInstance(registryName,ractive,name);return instance?instance[registryName][name]:null}function findInstance(registryName,ractive,name){while(ractive){if(name in ractive[registryName]){return ractive}if(ractive.isolated){return null}ractive=ractive.parent}}var interpolate=function(from,to,ractive,type){if(from===to){return snap(to)}if(type){var interpol=findInViewHierarchy("interpolators",ractive,type);if(interpol){return interpol(from,to)||snap(to)}fatal(missingPlugin(type,"interpolator"))}return static_interpolators.number(from,to)||static_interpolators.array(from,to)||static_interpolators.object(from,to)||snap(to)};var shared_interpolate=interpolate;function snap(to){return function(){return to}}var interpolators={number:function(from,to){var delta;if(!is__isNumeric(from)||!is__isNumeric(to)){return null}from=+from;to=+to;delta=to-from;if(!delta){return function(){return from}}return function(t){return from+t*delta}},array:function(from,to){var intermediate,interpolators,len,i;if(!isArray(from)||!isArray(to)){return null}intermediate=[];interpolators=[];i=len=Math.min(from.length,to.length);while(i--){interpolators[i]=shared_interpolate(from[i],to[i])}for(i=len;i<from.length;i+=1){intermediate[i]=from[i]}for(i=len;i<to.length;i+=1){intermediate[i]=to[i]}return function(t){var i=len;while(i--){intermediate[i]=interpolators[i](t)}return intermediate}},object:function(from,to){var properties,len,interpolators,intermediate,prop;if(!isObject(from)||!isObject(to)){return null}properties=[];intermediate={};interpolators={};for(prop in from){if(hasOwn.call(from,prop)){if(hasOwn.call(to,prop)){properties.push(prop);interpolators[prop]=shared_interpolate(from[prop],to[prop])}else{intermediate[prop]=from[prop]}}}for(prop in to){if(hasOwn.call(to,prop)&&!hasOwn.call(from,prop)){intermediate[prop]=to[prop]}}len=properties.length;return function(t){var i=len,prop;while(i--){prop=properties[i];intermediate[prop]=interpolators[prop](t)}return intermediate}}};var static_interpolators=interpolators;var utils_getPotentialWildcardMatches=getPotentialWildcardMatches;var starMaps={};function getPotentialWildcardMatches(keypath){var keys,starMap,mapper,i,result,wildcardKeypath;keys=keypath.split(".");if(!(starMap=starMaps[keys.length])){starMap=getStarMap(keys.length)}result=[];mapper=function(star,i){return star?"*":keys[i]};i=starMap.length;while(i--){wildcardKeypath=starMap[i].map(mapper).join(".");if(!result.hasOwnProperty(wildcardKeypath)){result.push(wildcardKeypath);result[wildcardKeypath]=true}}return result}function getStarMap(num){var ones="",max,binary,starMap,mapper,i,j,l,map;if(!starMaps[num]){starMap=[];while(ones.length<num){ones+=1}max=parseInt(ones,2);mapper=function(digit){return digit==="1"};for(i=0;i<=max;i+=1){binary=i.toString(2);while(binary.length<num){binary="0"+binary}map=[];l=binary.length;for(j=0;j<l;j++){map.push(mapper(binary[j]))}starMap[i]=map}starMaps[num]=starMap}return starMaps[num]}var refPattern=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g;var patternPattern=/\*/;var keypathCache={};var Keypath=function(str){var keys=str.split(".");this.str=str;if(str[0]==="@"){this.isSpecial=true;this.value=decodeKeypath(str)}this.firstKey=keys[0];this.lastKey=keys.pop();this.isPattern=patternPattern.test(str);this.parent=str===""?null:getKeypath(keys.join("."));this.isRoot=!str};Keypath.prototype={equalsOrStartsWith:function(keypath){return keypath===this||this.startsWith(keypath)},join:function(str){return getKeypath(this.isRoot?String(str):this.str+"."+str)},replace:function(oldKeypath,newKeypath){if(this===oldKeypath){return newKeypath}if(this.startsWith(oldKeypath)){return newKeypath===null?newKeypath:getKeypath(this.str.replace(oldKeypath.str+".",newKeypath.str+"."))}},startsWith:function(keypath){if(!keypath){return false}return keypath&&this.str.substr(0,keypath.str.length+1)===keypath.str+"."},toString:function(){throw new Error("Bad coercion")},valueOf:function(){throw new Error("Bad coercion")},wildcardMatches:function(){return this._wildcardMatches||(this._wildcardMatches=utils_getPotentialWildcardMatches(this.str))}};function assignNewKeypath(target,property,oldKeypath,newKeypath){var existingKeypath=target[property];if(existingKeypath&&(existingKeypath.equalsOrStartsWith(newKeypath)||!existingKeypath.equalsOrStartsWith(oldKeypath))){return}target[property]=existingKeypath?existingKeypath.replace(oldKeypath,newKeypath):newKeypath;return true}function decodeKeypath(keypath){var value=keypath.slice(2);if(keypath[1]==="i"){return is__isNumeric(value)?+value:value}else{return value}}function getKeypath(str){if(str==null){return str}if(!keypathCache.hasOwnProperty(str)){keypathCache[str]=new Keypath(str)}return keypathCache[str]}function getMatchingKeypaths(ractive,keypath){var keys,key,matchingKeypaths;keys=keypath.str.split(".");matchingKeypaths=[rootKeypath];while(key=keys.shift()){if(key==="*"){matchingKeypaths=matchingKeypaths.reduce(expand,[])}else{if(matchingKeypaths[0]===rootKeypath){matchingKeypaths[0]=getKeypath(key)}else{matchingKeypaths=matchingKeypaths.map(concatenate(key))}}}return matchingKeypaths;function expand(matchingKeypaths,keypath){var wrapper,value,keys;if(keypath.isRoot){keys=[].concat(Object.keys(ractive.viewmodel.data),Object.keys(ractive.viewmodel.mappings),Object.keys(ractive.viewmodel.computations))}else{wrapper=ractive.viewmodel.wrapped[keypath.str];value=wrapper?wrapper.get():ractive.viewmodel.get(keypath);keys=value?Object.keys(value):null}if(keys){keys.forEach(function(key){if(key!=="_ractive"||!isArray(value)){matchingKeypaths.push(keypath.join(key))}})}return matchingKeypaths}}function concatenate(key){return function(keypath){return keypath.join(key)}}function normalise(ref){return ref?ref.replace(refPattern,".$1"):""}var rootKeypath=getKeypath("");var shared_add=add;var shared_add__errorMessage="Cannot add to a non-numeric value";function add(root,keypath,d){if(typeof keypath!=="string"||!is__isNumeric(d)){throw new Error("Bad arguments")}var value=undefined,changes=undefined;if(/\*/.test(keypath)){changes={};getMatchingKeypaths(root,getKeypath(normalise(keypath))).forEach(function(keypath){var value=root.viewmodel.get(keypath);if(!is__isNumeric(value)){throw new Error(shared_add__errorMessage)}changes[keypath.str]=value+d});return root.set(changes)}value=root.get(keypath);if(!is__isNumeric(value)){throw new Error(shared_add__errorMessage)}return root.set(keypath,+value+d)}var prototype_add=Ractive$add;function Ractive$add(keypath,d){return shared_add(this,keypath,d===undefined?1:+d)}var requestAnimationFrame;if(typeof window==="undefined"){requestAnimationFrame=null}else{(function(vendors,lastTime,window){var x,setTimeout;if(window.requestAnimationFrame){return}for(x=0;x<vendors.length&&!window.requestAnimationFrame;++x){window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"]}if(!window.requestAnimationFrame){setTimeout=window.setTimeout;window.requestAnimationFrame=function(callback){var currTime,timeToCall,id;currTime=Date.now();timeToCall=Math.max(0,16-(currTime-lastTime));id=setTimeout(function(){callback(currTime+timeToCall)},timeToCall);lastTime=currTime+timeToCall;return id}}})(vendors,0,window);requestAnimationFrame=window.requestAnimationFrame}var rAF=requestAnimationFrame;var getTime;if(typeof window!=="undefined"&&window.performance&&typeof window.performance.now==="function"){getTime=function(){return window.performance.now()}}else{getTime=function(){return Date.now()}}var utils_getTime=getTime;var deprecations={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated '+"and will likely be removed in a future release. "+'You can either use the "oninit" method which will fire '+"only once prior to, and regardless of, any eventual ractive "+"instance being rendered, or if you need to access the "+'rendered DOM, use "onrender" instead. '+"See http://docs.ractivejs.org/latest/migrating for more information."},complete:{deprecated:"complete",replacement:"oncomplete"}};function Hook(event){this.event=event;this.method="on"+event;this.deprecate=deprecations[event]}Hook.prototype.fire=function(ractive,arg){function call(method){if(ractive[method]){arg?ractive[method](arg):ractive[method]();return true}}call(this.method);if(!ractive[this.method]&&this.deprecate&&call(this.deprecate.deprecated)){if(this.deprecate.message){warnIfDebug(this.deprecate.message)}else{warnIfDebug('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement)}}arg?ractive.fire(this.event,arg):ractive.fire(this.event)};var hooks_Hook=Hook;function addToArray(array,value){var index=array.indexOf(value);if(index===-1){array.push(value)}}function arrayContains(array,value){for(var i=0,c=array.length;i<c;i++){if(array[i]==value){return true}}return false}function arrayContentsMatch(a,b){var i;if(!isArray(a)||!isArray(b)){return false}if(a.length!==b.length){return false}i=a.length;while(i--){if(a[i]!==b[i]){return false}}return true}function ensureArray(x){if(typeof x==="string"){return[x]}if(x===undefined){return[]}return x}function lastItem(array){return array[array.length-1]}function removeFromArray(array,member){var index=array.indexOf(member);if(index!==-1){array.splice(index,1)}}function toArray(arrayLike){var array=[],i=arrayLike.length;while(i--){array[i]=arrayLike[i]}return array}var _Promise,PENDING={},FULFILLED={},REJECTED={};if(typeof Promise==="function"){_Promise=Promise}else{_Promise=function(callback){var fulfilledHandlers=[],rejectedHandlers=[],state=PENDING,result,dispatchHandlers,makeResolver,fulfil,reject,promise;makeResolver=function(newState){return function(value){if(state!==PENDING){return}result=value;state=newState;dispatchHandlers=makeDispatcher(state===FULFILLED?fulfilledHandlers:rejectedHandlers,result);wait(dispatchHandlers)}};fulfil=makeResolver(FULFILLED);reject=makeResolver(REJECTED);try{callback(fulfil,reject)}catch(err){reject(err)}promise={then:function(onFulfilled,onRejected){var promise2=new _Promise(function(fulfil,reject){var processResolutionHandler=function(handler,handlers,forward){if(typeof handler==="function"){handlers.push(function(p1result){var x;try{x=handler(p1result);utils_Promise__resolve(promise2,x,fulfil,reject)}catch(err){reject(err)}})}else{handlers.push(forward)}};processResolutionHandler(onFulfilled,fulfilledHandlers,fulfil);processResolutionHandler(onRejected,rejectedHandlers,reject);if(state!==PENDING){wait(dispatchHandlers)}});return promise2}};promise["catch"]=function(onRejected){return this.then(null,onRejected)};return promise};_Promise.all=function(promises){return new _Promise(function(fulfil,reject){var result=[],pending,i,processPromise;if(!promises.length){fulfil(result);return}processPromise=function(promise,i){if(promise&&typeof promise.then==="function"){promise.then(function(value){result[i]=value;--pending||fulfil(result)},reject)}else{result[i]=promise;--pending||fulfil(result)}};pending=i=promises.length;while(i--){processPromise(promises[i],i)}})};_Promise.resolve=function(value){return new _Promise(function(fulfil){fulfil(value)})};_Promise.reject=function(reason){return new _Promise(function(fulfil,reject){reject(reason)})}}var utils_Promise=_Promise;function wait(callback){setTimeout(callback,0)}function makeDispatcher(handlers,result){return function(){var handler;while(handler=handlers.shift()){handler(result)}}}function utils_Promise__resolve(promise,x,fulfil,reject){var then;if(x===promise){throw new TypeError("A promise's fulfillment handler cannot return the same promise")}if(x instanceof _Promise){x.then(fulfil,reject)}else if(x&&(typeof x==="object"||typeof x==="function")){try{then=x.then}catch(e){reject(e);return}if(typeof then==="function"){var called,resolvePromise,rejectPromise;resolvePromise=function(y){if(called){return}called=true;utils_Promise__resolve(promise,y,fulfil,reject)};rejectPromise=function(r){if(called){return}called=true;reject(r)};try{then.call(x,resolvePromise,rejectPromise)}catch(e){if(!called){reject(e);called=true;return}}}else{fulfil(x)}}else{fulfil(x)}}var getInnerContext=function(fragment){do{if(fragment.context!==undefined){return fragment.context}}while(fragment=fragment.parent);return rootKeypath};var shared_resolveRef=resolveRef;function resolveRef(ractive,ref,fragment){var keypath;ref=normalise(ref);if(ref.substr(0,2)==="~/"){keypath=getKeypath(ref.substring(2));createMappingIfNecessary(ractive,keypath.firstKey,fragment)}else if(ref[0]==="."){
keypath=resolveAncestorRef(getInnerContext(fragment),ref);if(keypath){createMappingIfNecessary(ractive,keypath.firstKey,fragment)}}else{keypath=resolveAmbiguousReference(ractive,getKeypath(ref),fragment)}return keypath}function resolveAncestorRef(baseContext,ref){var contextKeys;if(baseContext!=undefined&&typeof baseContext!=="string"){baseContext=baseContext.str}if(ref===".")return getKeypath(baseContext);contextKeys=baseContext?baseContext.split("."):[];if(ref.substr(0,3)==="../"){while(ref.substr(0,3)==="../"){if(!contextKeys.length){throw new Error('Could not resolve reference - too many "../" prefixes')}contextKeys.pop();ref=ref.substring(3)}contextKeys.push(ref);return getKeypath(contextKeys.join("."))}if(!baseContext){return getKeypath(ref.replace(/^\.\/?/,""))}return getKeypath(baseContext+ref.replace(/^\.\//,"."))}function resolveAmbiguousReference(ractive,ref,fragment,isParentLookup){var context,key,parentValue,hasContextChain,parentKeypath;if(ref.isRoot){return ref}key=ref.firstKey;while(fragment){context=fragment.context;fragment=fragment.parent;if(!context){continue}hasContextChain=true;parentValue=ractive.viewmodel.get(context);if(parentValue&&(typeof parentValue==="object"||typeof parentValue==="function")&&key in parentValue){return context.join(ref.str)}}if(isRootProperty(ractive.viewmodel,key)){return ref}if(ractive.parent&&!ractive.isolated){hasContextChain=true;fragment=ractive.component.parentFragment;key=getKeypath(key);if(parentKeypath=resolveAmbiguousReference(ractive.parent,key,fragment,true)){ractive.viewmodel.map(key,{origin:ractive.parent.viewmodel,keypath:parentKeypath});return ref}}if(!isParentLookup&&!hasContextChain){ractive.viewmodel.set(ref,undefined);return ref}}function createMappingIfNecessary(ractive,key){var parentKeypath;if(!ractive.parent||ractive.isolated||isRootProperty(ractive.viewmodel,key)){return}key=getKeypath(key);if(parentKeypath=resolveAmbiguousReference(ractive.parent,key,ractive.component.parentFragment,true)){ractive.viewmodel.map(key,{origin:ractive.parent.viewmodel,keypath:parentKeypath})}}function isRootProperty(viewmodel,key){return key===""||key in viewmodel.data||key in viewmodel.computations||key in viewmodel.mappings}function teardown(x){x.teardown()}function methodCallers__unbind(x){x.unbind()}function methodCallers__unrender(x){x.unrender()}function cancel(x){x.cancel()}var TransitionManager=function(callback,parent){this.callback=callback;this.parent=parent;this.intros=[];this.outros=[];this.children=[];this.totalChildren=this.outroChildren=0;this.detachQueue=[];this.decoratorQueue=[];this.outrosComplete=false;if(parent){parent.addChild(this)}};TransitionManager.prototype={addChild:function(child){this.children.push(child);this.totalChildren+=1;this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1;check(this)},decrementTotal:function(){this.totalChildren-=1;check(this)},add:function(transition){var list=transition.isIntro?this.intros:this.outros;list.push(transition)},addDecorator:function(decorator){this.decoratorQueue.push(decorator)},remove:function(transition){var list=transition.isIntro?this.intros:this.outros;removeFromArray(list,transition);check(this)},init:function(){this.ready=true;check(this)},detachNodes:function(){this.decoratorQueue.forEach(teardown);this.detachQueue.forEach(detach);this.children.forEach(detachNodes)}};function detach(element){element.detach()}function detachNodes(tm){tm.detachNodes()}function check(tm){if(!tm.ready||tm.outros.length||tm.outroChildren)return;if(!tm.outrosComplete){if(tm.parent){tm.parent.decrementOutros(tm)}else{tm.detachNodes()}tm.outrosComplete=true}if(!tm.intros.length&&!tm.totalChildren){if(typeof tm.callback==="function"){tm.callback()}if(tm.parent){tm.parent.decrementTotal()}}}var global_TransitionManager=TransitionManager;var batch,runloop,unresolved=[],changeHook=new hooks_Hook("change");runloop={start:function(instance,returnPromise){var promise,fulfilPromise;if(returnPromise){promise=new utils_Promise(function(f){return fulfilPromise=f})}batch={previousBatch:batch,transitionManager:new global_TransitionManager(fulfilPromise,batch&&batch.transitionManager),views:[],tasks:[],ractives:[],instance:instance};if(instance){batch.ractives.push(instance)}return promise},end:function(){flushChanges();batch.transitionManager.init();if(!batch.previousBatch&&!!batch.instance)batch.instance.viewmodel.changes=[];batch=batch.previousBatch},addRactive:function(ractive){if(batch){addToArray(batch.ractives,ractive)}},registerTransition:function(transition){transition._manager=batch.transitionManager;batch.transitionManager.add(transition)},registerDecorator:function(decorator){batch.transitionManager.addDecorator(decorator)},addView:function(view){batch.views.push(view)},addUnresolved:function(thing){unresolved.push(thing)},removeUnresolved:function(thing){removeFromArray(unresolved,thing)},detachWhenReady:function(thing){batch.transitionManager.detachQueue.push(thing)},scheduleTask:function(task,postRender){var _batch;if(!batch){task()}else{_batch=batch;while(postRender&&_batch.previousBatch){_batch=_batch.previousBatch}_batch.tasks.push(task)}}};var global_runloop=runloop;function flushChanges(){var i,thing,changeHash;while(batch.ractives.length){thing=batch.ractives.pop();changeHash=thing.viewmodel.applyChanges();if(changeHash){changeHook.fire(thing,changeHash)}}attemptKeypathResolution();for(i=0;i<batch.views.length;i+=1){batch.views[i].update()}batch.views.length=0;for(i=0;i<batch.tasks.length;i+=1){batch.tasks[i]()}batch.tasks.length=0;if(batch.ractives.length)return flushChanges()}function attemptKeypathResolution(){var i,item,keypath,resolved;i=unresolved.length;while(i--){item=unresolved[i];if(item.keypath){unresolved.splice(i,1);continue}if(keypath=shared_resolveRef(item.root,item.ref,item.parentFragment)){(resolved||(resolved=[])).push({item:item,keypath:keypath});unresolved.splice(i,1)}}if(resolved){resolved.forEach(global_runloop__resolve)}}function global_runloop__resolve(resolved){resolved.item.resolve(resolved.keypath)}var queue=[];var animations={tick:function(){var i,animation,now;now=utils_getTime();global_runloop.start();for(i=0;i<queue.length;i+=1){animation=queue[i];if(!animation.tick(now)){queue.splice(i--,1)}}global_runloop.end();if(queue.length){rAF(animations.tick)}else{animations.running=false}},add:function(animation){queue.push(animation);if(!animations.running){animations.running=true;rAF(animations.tick)}},abort:function(keypath,root){var i=queue.length,animation;while(i--){animation=queue[i];if(animation.root===root&&animation.keypath===keypath){animation.stop()}}}};var shared_animations=animations;var Animation=function(options){var key;this.startTime=Date.now();for(key in options){if(options.hasOwnProperty(key)){this[key]=options[key]}}this.interpolator=shared_interpolate(this.from,this.to,this.root,this.interpolator);this.running=true;this.tick()};Animation.prototype={tick:function(){var elapsed,t,value,timeNow,index,keypath;keypath=this.keypath;if(this.running){timeNow=Date.now();elapsed=timeNow-this.startTime;if(elapsed>=this.duration){if(keypath!==null){global_runloop.start(this.root);this.root.viewmodel.set(keypath,this.to);global_runloop.end()}if(this.step){this.step(1,this.to)}this.complete(this.to);index=this.root._animations.indexOf(this);if(index===-1){warnIfDebug("Animation was not found")}this.root._animations.splice(index,1);this.running=false;return false}t=this.easing?this.easing(elapsed/this.duration):elapsed/this.duration;if(keypath!==null){value=this.interpolator(t);global_runloop.start(this.root);this.root.viewmodel.set(keypath,value);global_runloop.end()}if(this.step){this.step(t,value)}return true}return false},stop:function(){var index;this.running=false;index=this.root._animations.indexOf(this);if(index===-1){warnIfDebug("Animation was not found")}this.root._animations.splice(index,1)}};var animate_Animation=Animation;var prototype_animate=Ractive$animate;var noAnimation={stop:noop};function Ractive$animate(keypath,to,options){var promise,fulfilPromise,k,animation,animations,easing,duration,step,complete,makeValueCollector,currentValues,collectValue,dummy,dummyOptions;promise=new utils_Promise(function(fulfil){return fulfilPromise=fulfil});if(typeof keypath==="object"){options=to||{};easing=options.easing;duration=options.duration;animations=[];step=options.step;complete=options.complete;if(step||complete){currentValues={};options.step=null;options.complete=null;makeValueCollector=function(keypath){return function(t,value){currentValues[keypath]=value}}}for(k in keypath){if(keypath.hasOwnProperty(k)){if(step||complete){collectValue=makeValueCollector(k);options={easing:easing,duration:duration};if(step){options.step=collectValue}}options.complete=complete?collectValue:noop;animations.push(animate(this,k,keypath[k],options))}}dummyOptions={easing:easing,duration:duration};if(step){dummyOptions.step=function(t){return step(t,currentValues)}}if(complete){promise.then(function(t){return complete(t,currentValues)})}dummyOptions.complete=fulfilPromise;dummy=animate(this,null,null,dummyOptions);animations.push(dummy);promise.stop=function(){var animation;while(animation=animations.pop()){animation.stop()}if(dummy){dummy.stop()}};return promise}options=options||{};if(options.complete){promise.then(options.complete)}options.complete=fulfilPromise;animation=animate(this,keypath,to,options);promise.stop=function(){return animation.stop()};return promise}function animate(root,keypath,to,options){var easing,duration,animation,from;if(keypath){keypath=getKeypath(normalise(keypath))}if(keypath!==null){from=root.viewmodel.get(keypath)}shared_animations.abort(keypath,root);if(isEqual(from,to)){if(options.complete){options.complete(options.to)}return noAnimation}if(options.easing){if(typeof options.easing==="function"){easing=options.easing}else{easing=root.easing[options.easing]}if(typeof easing!=="function"){easing=null}}duration=options.duration===undefined?400:options.duration;animation=new animate_Animation({keypath:keypath,from:from,to:to,root:root,duration:duration,easing:easing,interpolator:options.interpolator,step:options.step,complete:options.complete});shared_animations.add(animation);root._animations.push(animation);return animation}var prototype_detach=Ractive$detach;var prototype_detach__detachHook=new hooks_Hook("detach");function Ractive$detach(){if(this.detached){return this.detached}if(this.el){removeFromArray(this.el.__ractive_instances__,this)}this.detached=this.fragment.detach();prototype_detach__detachHook.fire(this);return this.detached}var prototype_find=Ractive$find;function Ractive$find(selector){if(!this.el){return null}return this.fragment.find(selector)}var test=Query$test;function Query$test(item,noDirty){var itemMatches;if(this._isComponentQuery){itemMatches=!this.selector||item.name===this.selector}else{itemMatches=item.node?matches(item.node,this.selector):null}if(itemMatches){this.push(item.node||item.instance);if(!noDirty){this._makeDirty()}return true}}var makeQuery_cancel=function(){var liveQueries,selector,index;liveQueries=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"];selector=this.selector;index=liveQueries.indexOf(selector);if(index!==-1){liveQueries.splice(index,1);liveQueries[selector]=null}};var sortByItemPosition=function(a,b){var ancestryA,ancestryB,oldestA,oldestB,mutualAncestor,indexA,indexB,fragments,fragmentA,fragmentB;ancestryA=getAncestry(a.component||a._ractive.proxy);ancestryB=getAncestry(b.component||b._ractive.proxy);oldestA=lastItem(ancestryA);oldestB=lastItem(ancestryB);while(oldestA&&oldestA===oldestB){ancestryA.pop();ancestryB.pop();mutualAncestor=oldestA;oldestA=lastItem(ancestryA);oldestB=lastItem(ancestryB)}oldestA=oldestA.component||oldestA;oldestB=oldestB.component||oldestB;fragmentA=oldestA.parentFragment;fragmentB=oldestB.parentFragment;if(fragmentA===fragmentB){indexA=fragmentA.items.indexOf(oldestA);indexB=fragmentB.items.indexOf(oldestB);return indexA-indexB||ancestryA.length-ancestryB.length}if(fragments=mutualAncestor.fragments){indexA=fragments.indexOf(fragmentA);indexB=fragments.indexOf(fragmentB);return indexA-indexB||ancestryA.length-ancestryB.length}throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")};function getParent(item){var parentFragment;if(parentFragment=item.parentFragment){return parentFragment.owner}if(item.component&&(parentFragment=item.component.parentFragment)){return parentFragment.owner}}function getAncestry(item){var ancestry,ancestor;ancestry=[item];ancestor=getParent(item);while(ancestor){ancestry.push(ancestor);ancestor=getParent(ancestor)}return ancestry}var sortByDocumentPosition=function(node,otherNode){var bitmask;if(node.compareDocumentPosition){bitmask=node.compareDocumentPosition(otherNode);return bitmask&2?1:-1}return sortByItemPosition(node,otherNode)};var sort=function(){this.sort(this._isComponentQuery?sortByItemPosition:sortByDocumentPosition);this._dirty=false};var makeQuery_dirty=function(){var _this=this;if(!this._dirty){this._dirty=true;global_runloop.scheduleTask(function(){_this._sort()})}};var remove=function(nodeOrComponent){var index=this.indexOf(this._isComponentQuery?nodeOrComponent.instance:nodeOrComponent);if(index!==-1){this.splice(index,1)}};var _makeQuery=makeQuery;function makeQuery(ractive,selector,live,isComponentQuery){var query=[];defineProperties(query,{selector:{value:selector},live:{value:live},_isComponentQuery:{value:isComponentQuery},_test:{value:test}});if(!live){return query}defineProperties(query,{cancel:{value:makeQuery_cancel},_root:{value:ractive},_sort:{value:sort},_makeDirty:{value:makeQuery_dirty},_remove:{value:remove},_dirty:{value:false,writable:true}});return query}var prototype_findAll=Ractive$findAll;function Ractive$findAll(selector,options){var liveQueries,query;if(!this.el){return[]}options=options||{};liveQueries=this._liveQueries;if(query=liveQueries[selector]){return options&&options.live?query:query.slice()}query=_makeQuery(this,selector,!!options.live,false);if(query.live){liveQueries.push(selector);liveQueries["_"+selector]=query}this.fragment.findAll(selector,query);return query}var prototype_findAllComponents=Ractive$findAllComponents;function Ractive$findAllComponents(selector,options){var liveQueries,query;options=options||{};liveQueries=this._liveComponentQueries;if(query=liveQueries[selector]){return options&&options.live?query:query.slice()}query=_makeQuery(this,selector,!!options.live,true);if(query.live){liveQueries.push(selector);liveQueries["_"+selector]=query}this.fragment.findAllComponents(selector,query);return query}var prototype_findComponent=Ractive$findComponent;function Ractive$findComponent(selector){return this.fragment.findComponent(selector)}var findContainer=Ractive$findContainer;function Ractive$findContainer(selector){if(this.container){if(this.container.component&&this.container.component.name===selector){return this.container}else{return this.container.findContainer(selector)}}return null}var findParent=Ractive$findParent;function Ractive$findParent(selector){if(this.parent){if(this.parent.component&&this.parent.component.name===selector){return this.parent}else{return this.parent.findParent(selector)}}return null}var eventStack={enqueue:function(ractive,event){if(ractive.event){ractive._eventQueue=ractive._eventQueue||[];ractive._eventQueue.push(ractive.event)}ractive.event=event},dequeue:function(ractive){if(ractive._eventQueue&&ractive._eventQueue.length){ractive.event=ractive._eventQueue.pop()}else{delete ractive.event}}};var shared_eventStack=eventStack;var shared_fireEvent=fireEvent;function fireEvent(ractive,eventName){var options=arguments[2]===undefined?{}:arguments[2];if(!eventName){return}if(!options.event){options.event={name:eventName,_noArg:true}}else{options.event.name=eventName}var eventNames=getKeypath(eventName).wildcardMatches();fireEventAs(ractive,eventNames,options.event,options.args,true)}function fireEventAs(ractive,eventNames,event,args){var initialFire=arguments[4]===undefined?false:arguments[4];var subscribers,i,bubble=true;shared_eventStack.enqueue(ractive,event);for(i=eventNames.length;i>=0;i--){subscribers=ractive._subs[eventNames[i]];if(subscribers){bubble=notifySubscribers(ractive,subscribers,event,args)&&bubble}}shared_eventStack.dequeue(ractive);if(ractive.parent&&bubble){if(initialFire&&ractive.component){var fullName=ractive.component.name+"."+eventNames[eventNames.length-1];eventNames=getKeypath(fullName).wildcardMatches();if(event){event.component=ractive}}fireEventAs(ractive.parent,eventNames,event,args)}}function notifySubscribers(ractive,subscribers,event,args){var originalEvent=null,stopEvent=false;if(event&&!event._noArg){args=[event].concat(args)}subscribers=subscribers.slice();for(var i=0,len=subscribers.length;i<len;i+=1){if(subscribers[i].apply(ractive,args)===false){stopEvent=true}}if(event&&!event._noArg&&stopEvent&&(originalEvent=event.original)){originalEvent.preventDefault&&originalEvent.preventDefault();originalEvent.stopPropagation&&originalEvent.stopPropagation()}return!stopEvent}var prototype_fire=Ractive$fire;function Ractive$fire(eventName){var options={args:Array.prototype.slice.call(arguments,1)};shared_fireEvent(this,eventName,options)}var prototype_get=Ractive$get;var options={capture:true,noUnwrap:true,fullRootGet:true};function Ractive$get(keypath){var value;keypath=getKeypath(normalise(keypath));value=this.viewmodel.get(keypath,options);if(value===undefined&&this.parent&&!this.isolated){if(shared_resolveRef(this,keypath.str,this.component.parentFragment)){value=this.viewmodel.get(keypath)}}return value}var insert=Ractive$insert;var insertHook=new hooks_Hook("insert");function Ractive$insert(target,anchor){if(!this.fragment.rendered){throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.")}target=getElement(target);anchor=getElement(anchor)||null;if(!target){throw new Error("You must specify a valid target to insert into")}target.insertBefore(this.detach(),anchor);this.el=target;(target.__ractive_instances__||(target.__ractive_instances__=[])).push(this);this.detached=null;fireInsertHook(this)}function fireInsertHook(ractive){insertHook.fire(ractive);ractive.findAllComponents("*").forEach(function(child){fireInsertHook(child.instance)})}var prototype_merge=Ractive$merge;function Ractive$merge(keypath,array,options){var currentArray,promise;keypath=getKeypath(normalise(keypath));currentArray=this.viewmodel.get(keypath);if(!isArray(currentArray)||!isArray(array)){return this.set(keypath,array,options&&options.complete)}promise=global_runloop.start(this,true);this.viewmodel.merge(keypath,currentArray,array,options);global_runloop.end();return promise}var Observer=function(ractive,keypath,callback,options){this.root=ractive;this.keypath=keypath;this.callback=callback;this.defer=options.defer;this.context=options&&options.context?options.context:ractive};Observer.prototype={init:function(immediate){this.value=this.root.get(this.keypath.str);if(immediate!==false){this.update()}else{this.oldValue=this.value}},setValue:function(value){var _this=this;if(!isEqual(value,this.value)){this.value=value;if(this.defer&&this.ready){global_runloop.scheduleTask(function(){return _this.update()})}else{this.update()}}},update:function(){if(this.updating){return}this.updating=true;this.callback.call(this.context,this.value,this.oldValue,this.keypath.str);this.oldValue=this.value;this.updating=false}};var observe_Observer=Observer;var observe_getPattern=getPattern;function getPattern(ractive,pattern){var matchingKeypaths,values;matchingKeypaths=getMatchingKeypaths(ractive,pattern);values={};matchingKeypaths.forEach(function(keypath){values[keypath.str]=ractive.get(keypath.str)});return values}var PatternObserver,slice=Array.prototype.slice;PatternObserver=function(ractive,keypath,callback,options){this.root=ractive;this.callback=callback;this.defer=options.defer;this.keypath=keypath;this.regex=new RegExp("^"+keypath.str.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$");this.values={};if(this.defer){this.proxies=[]}this.context=options&&options.context?options.context:ractive};PatternObserver.prototype={init:function(immediate){var values,keypath;values=observe_getPattern(this.root,this.keypath);if(immediate!==false){for(keypath in values){if(values.hasOwnProperty(keypath)){this.update(getKeypath(keypath))}}}else{this.values=values}},update:function(keypath){var _this=this;var values;if(keypath.isPattern){values=observe_getPattern(this.root,keypath);for(keypath in values){if(values.hasOwnProperty(keypath)){this.update(getKeypath(keypath))}}return}if(this.root.viewmodel.implicitChanges[keypath.str]){return}if(this.defer&&this.ready){global_runloop.scheduleTask(function(){return _this.getProxy(keypath).update()});return}this.reallyUpdate(keypath)},reallyUpdate:function(keypath){var keypathStr,value,keys,args;keypathStr=keypath.str;value=this.root.viewmodel.get(keypath);if(this.updating){this.values[keypathStr]=value;return}this.updating=true;if(!isEqual(value,this.values[keypathStr])||!this.ready){keys=slice.call(this.regex.exec(keypathStr),1);args=[value,this.values[keypathStr],keypathStr].concat(keys);this.values[keypathStr]=value;this.callback.apply(this.context,args)}this.updating=false},getProxy:function(keypath){var _this=this;if(!this.proxies[keypath.str]){this.proxies[keypath.str]={update:function(){return _this.reallyUpdate(keypath)}}}return this.proxies[keypath.str]}};var observe_PatternObserver=PatternObserver;var observe_getObserverFacade=getObserverFacade;var emptyObject={};function getObserverFacade(ractive,keypath,callback,options){var observer,isPatternObserver,cancelled;keypath=getKeypath(normalise(keypath));options=options||emptyObject;if(keypath.isPattern){observer=new observe_PatternObserver(ractive,keypath,callback,options);ractive.viewmodel.patternObservers.push(observer);isPatternObserver=true}else{observer=new observe_Observer(ractive,keypath,callback,options)}observer.init(options.init);ractive.viewmodel.register(keypath,observer,isPatternObserver?"patternObservers":"observers");observer.ready=true;var facade={cancel:function(){var index;if(cancelled){return}if(isPatternObserver){index=ractive.viewmodel.patternObservers.indexOf(observer);ractive.viewmodel.patternObservers.splice(index,1);ractive.viewmodel.unregister(keypath,observer,"patternObservers")}else{ractive.viewmodel.unregister(keypath,observer,"observers")}cancelled=true}};ractive._observers.push(facade);return facade}var observe=Ractive$observe;function Ractive$observe(keypath,callback,options){var observers,map,keypaths,i;if(isObject(keypath)){options=callback;map=keypath;observers=[];for(keypath in map){if(map.hasOwnProperty(keypath)){callback=map[keypath];observers.push(this.observe(keypath,callback,options))}}return{cancel:function(){while(observers.length){observers.pop().cancel()}}}}if(typeof keypath==="function"){options=callback;callback=keypath;keypath="";return observe_getObserverFacade(this,keypath,callback,options)}keypaths=keypath.split(" ");if(keypaths.length===1){return observe_getObserverFacade(this,keypath,callback,options)}observers=[];i=keypaths.length;while(i--){keypath=keypaths[i];if(keypath){observers.push(observe_getObserverFacade(this,keypath,callback,options))}}return{cancel:function(){while(observers.length){observers.pop().cancel()}}}}var observeOnce=Ractive$observeOnce;function Ractive$observeOnce(property,callback,options){var observer=this.observe(property,function(){callback.apply(this,arguments);observer.cancel()},{init:false,defer:options&&options.defer});return observer}var shared_trim=function(str){return str.trim()};var notEmptyString=function(str){return str!==""};var off=Ractive$off;function Ractive$off(eventName,callback){var _this=this;var eventNames;if(!eventName){for(eventName in this._subs){delete this._subs[eventName]}}else{eventNames=eventName.split(" ").map(shared_trim).filter(notEmptyString);eventNames.forEach(function(eventName){var subscribers,index;if(subscribers=_this._subs[eventName]){if(callback){index=subscribers.indexOf(callback);if(index!==-1){subscribers.splice(index,1)}}else{_this._subs[eventName]=[]}}})}return this}var on=Ractive$on;function Ractive$on(eventName,callback){var _this=this;var listeners,n,eventNames;if(typeof eventName==="object"){listeners=[];for(n in eventName){if(eventName.hasOwnProperty(n)){listeners.push(this.on(n,eventName[n]))}}return{cancel:function(){var listener;while(listener=listeners.pop()){listener.cancel()}}}}eventNames=eventName.split(" ").map(shared_trim).filter(notEmptyString);eventNames.forEach(function(eventName){(_this._subs[eventName]||(_this._subs[eventName]=[])).push(callback)});return{cancel:function(){return _this.off(eventName,callback)}}}var once=Ractive$once;function Ractive$once(eventName,handler){var listener=this.on(eventName,function(){handler.apply(this,arguments);listener.cancel()});return listener}var shared_getNewIndices=getNewIndices;function getNewIndices(array,methodName,args){var spliceArguments,len,newIndices=[],removeStart,removeEnd,balance,i;spliceArguments=getSpliceEquivalent(array,methodName,args);if(!spliceArguments){return null}len=array.length;balance=spliceArguments.length-2-spliceArguments[1];removeStart=Math.min(len,spliceArguments[0]);removeEnd=removeStart+spliceArguments[1];for(i=0;i<removeStart;i+=1){newIndices.push(i)}for(;i<removeEnd;i+=1){newIndices.push(-1)}for(;i<len;i+=1){newIndices.push(i+balance)}if(balance!==0){newIndices.touchedFrom=spliceArguments[0]}else{newIndices.touchedFrom=array.length}return newIndices}function getSpliceEquivalent(array,methodName,args){switch(methodName){case"splice":if(args[0]!==undefined&&args[0]<0){args[0]=array.length+Math.max(args[0],-array.length)}while(args.length<2){args.push(0)}args[1]=Math.min(args[1],array.length-args[0]);return args;case"sort":case"reverse":return null;case"pop":if(array.length){return[array.length-1,1]}return[0,0];case"push":return[array.length,0].concat(args);case"shift":return[0,array.length?1:0];case"unshift":return[0,0].concat(args)}}var arrayProto=Array.prototype;var makeArrayMethod=function(methodName){return function(keypath){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}var array,newIndices=[],len,promise,result;keypath=getKeypath(normalise(keypath));array=this.viewmodel.get(keypath);len=array.length;if(!isArray(array)){throw new Error("Called ractive."+methodName+"('"+keypath.str+"'), but '"+keypath.str+"' does not refer to an array")}newIndices=shared_getNewIndices(array,methodName,args);result=arrayProto[methodName].apply(array,args);promise=global_runloop.start(this,true).then(function(){return result});if(!!newIndices){this.viewmodel.smartUpdate(keypath,array,newIndices)}else{this.viewmodel.mark(keypath)}global_runloop.end();return promise}};var pop=makeArrayMethod("pop");var push=makeArrayMethod("push");var css,update,styleElement,head,styleSheet,inDom,global_css__prefix="/* Ractive.js component styles */\n",styles=[],dirty=false;if(!isClient){css={add:noop,apply:noop}}else{styleElement=document.createElement("style");styleElement.type="text/css";head=document.getElementsByTagName("head")[0];inDom=false;styleSheet=styleElement.styleSheet;update=function(){var css=global_css__prefix+styles.map(function(s){return"\n/* {"+s.id+"} */\n"+s.styles}).join("\n");if(styleSheet){styleSheet.cssText=css}else{styleElement.innerHTML=css}if(!inDom){head.appendChild(styleElement);inDom=true}};css={add:function(s){styles.push(s);dirty=true},apply:function(){if(dirty){update();dirty=false}}}}var global_css=css;var prototype_render=Ractive$render;var renderHook=new hooks_Hook("render"),completeHook=new hooks_Hook("complete");function Ractive$render(target,anchor){var _this=this;var promise,instances,transitionsEnabled;transitionsEnabled=this.transitionsEnabled;if(this.noIntro){this.transitionsEnabled=false}promise=global_runloop.start(this,true);global_runloop.scheduleTask(function(){return renderHook.fire(_this)},true);if(this.fragment.rendered){throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first")}target=getElement(target)||this.el;anchor=getElement(anchor)||this.anchor;this.el=target;this.anchor=anchor;if(!this.append&&target){var others=target.__ractive_instances__;if(others&&others.length){removeOtherInstances(others)}target.innerHTML=""}if(this.cssId){global_css.apply()}if(target){if(!(instances=target.__ractive_instances__)){target.__ractive_instances__=[this]}else{instances.push(this)}if(anchor){target.insertBefore(this.fragment.render(),anchor)}else{target.appendChild(this.fragment.render())}}global_runloop.end();this.transitionsEnabled=transitionsEnabled;return promise.then(function(){return completeHook.fire(_this)})}function removeOtherInstances(others){others.splice(0,others.length).forEach(teardown)}var adaptConfigurator={extend:function(Parent,proto,options){proto.adapt=custom_adapt__combine(proto.adapt,ensureArray(options.adapt))},init:function(){}};var custom_adapt=adaptConfigurator;function custom_adapt__combine(a,b){var c=a.slice(),i=b.length;while(i--){if(!~c.indexOf(b[i])){c.push(b[i])}}return c}var transform=transformCss;var selectorsPattern=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,commentsPattern=/\/\*.*?\*\//g,selectorUnitPattern=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,mediaQueryPattern=/^@media/,dataRvcGuidPattern=/\[data-ractive-css~="\{[a-z0-9-]+\}"]/g;function transformCss(css,id){var transformed,dataAttr,addGuid;dataAttr='[data-ractive-css~="{'+id+'}"]';addGuid=function(selector){var selectorUnits,match,unit,base,prepended,appended,i,transformed=[];selectorUnits=[];while(match=selectorUnitPattern.exec(selector)){selectorUnits.push({str:match[0],base:match[1],modifiers:match[2]})}base=selectorUnits.map(extractString);i=selectorUnits.length;while(i--){appended=base.slice();unit=selectorUnits[i];appended[i]=unit.base+dataAttr+unit.modifiers||"";prepended=base.slice();prepended[i]=dataAttr+" "+prepended[i];transformed.push(appended.join(" "),prepended.join(" "))}return transformed.join(", ")};if(dataRvcGuidPattern.test(css)){transformed=css.replace(dataRvcGuidPattern,dataAttr)}else{transformed=css.replace(commentsPattern,"").replace(selectorsPattern,function(match,$1){var selectors,transformed;if(mediaQueryPattern.test($1))return match;selectors=$1.split(",").map(trim);transformed=selectors.map(addGuid).join(", ")+" ";return match.replace($1,transformed)})}return transformed}function trim(str){if(str.trim){return str.trim()}return str.replace(/^\s+/,"").replace(/\s+$/,"")}function extractString(unit){return unit.str}var css_css__uid=1;var cssConfigurator={name:"css",extend:function(Parent,proto,options){if(options.css){var id=css_css__uid++;var styles=options.noCssTransform?options.css:transform(options.css,id);proto.cssId=id;global_css.add({id:id,styles:styles})}},init:function(){}};var css_css=cssConfigurator;function validate(data){if(data&&data.constructor!==Object){if(typeof data==="function"){}else if(typeof data!=="object"){fatal("data option must be an object or a function, `"+data+"` is not valid")}else{warnIfDebug("If supplied, options.data should be a plain JavaScript object - using a non-POJO as the root object may work, but is discouraged")}}}var dataConfigurator={name:"data",extend:function(Parent,proto,options){var key=undefined,value=undefined;if(options.data&&isObject(options.data)){for(key in options.data){value=options.data[key];if(value&&typeof value==="object"){if(isObject(value)||isArray(value)){
warnIfDebug("Passing a `data` option with object and array properties to Ractive.extend() is discouraged, as mutating them is likely to cause bugs. Consider using a data function instead:\n\n  // this...\n  data: function () {\n    return {\n      myObject: {}\n    };\n  })\n\n  // instead of this:\n  data: {\n    myObject: {}\n  }")}}}}proto.data=custom_data__combine(proto.data,options.data)},init:function(Parent,ractive,options){var result=custom_data__combine(Parent.prototype.data,options.data);if(typeof result==="function"){result=result.call(ractive)}return result||{}},reset:function(ractive){var result=this.init(ractive.constructor,ractive,ractive.viewmodel);ractive.viewmodel.reset(result);return true}};var custom_data=dataConfigurator;function custom_data__combine(parentValue,childValue){validate(childValue);var parentIsFn=typeof parentValue==="function";var childIsFn=typeof childValue==="function";if(!childValue&&!parentIsFn){childValue={}}if(!parentIsFn&&!childIsFn){return fromProperties(childValue,parentValue)}return function(){var child=childIsFn?callDataFunction(childValue,this):childValue;var parent=parentIsFn?callDataFunction(parentValue,this):parentValue;return fromProperties(child,parent)}}function callDataFunction(fn,context){var data=fn.call(context);if(!data)return;if(typeof data!=="object"){fatal("Data function must return an object")}if(data.constructor!==Object){warnOnceIfDebug("Data function returned something other than a plain JavaScript object. This might work, but is strongly discouraged")}return data}function fromProperties(primary,secondary){if(primary&&secondary){for(var key in secondary){if(!(key in primary)){primary[key]=secondary[key]}}return primary}return primary||secondary}var Parser,ParseError,parse_Parser__leadingWhitespace=/^\s+/;ParseError=function(message){this.name="ParseError";this.message=message;try{throw new Error(message)}catch(e){this.stack=e.stack}};ParseError.prototype=Error.prototype;Parser=function(str,options){var items,item,lineStart=0;this.str=str;this.options=options||{};this.pos=0;this.lines=this.str.split("\n");this.lineEnds=this.lines.map(function(line){var lineEnd=lineStart+line.length+1;lineStart=lineEnd;return lineEnd},0);if(this.init)this.init(str,options);items=[];while(this.pos<this.str.length&&(item=this.read())){items.push(item)}this.leftover=this.remaining();this.result=this.postProcess?this.postProcess(items,options):items};Parser.prototype={read:function(converters){var pos,i,len,item;if(!converters)converters=this.converters;pos=this.pos;len=converters.length;for(i=0;i<len;i+=1){this.pos=pos;if(item=converters[i](this)){return item}}return null},getLinePos:function(char){var lineNum=0,lineStart=0,columnNum;while(char>=this.lineEnds[lineNum]){lineStart=this.lineEnds[lineNum];lineNum+=1}columnNum=char-lineStart;return[lineNum+1,columnNum+1,char]},error:function(message){var pos=this.getLinePos(this.pos);var lineNum=pos[0];var columnNum=pos[1];var line=this.lines[pos[0]-1];var numTabs=0;var annotation=line.replace(/\t/g,function(match,char){if(char<pos[1]){numTabs+=1}return"  "})+"\n"+new Array(pos[1]+numTabs).join(" ")+"^----";var error=new ParseError(""+message+" at line "+lineNum+" character "+columnNum+":\n"+annotation);error.line=pos[0];error.character=pos[1];error.shortMessage=message;throw error},matchString:function(string){if(this.str.substr(this.pos,string.length)===string){this.pos+=string.length;return string}},matchPattern:function(pattern){var match;if(match=pattern.exec(this.remaining())){this.pos+=match[0].length;return match[1]||match[0]}},allowWhitespace:function(){this.matchPattern(parse_Parser__leadingWhitespace)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}};Parser.extend=function(proto){var Parent=this,Child,key;Child=function(str,options){Parser.call(this,str,options)};Child.prototype=create(Parent.prototype);for(key in proto){if(hasOwn.call(proto,key)){Child.prototype[key]=proto[key]}}Child.extend=Parser.extend;return Child};var parse_Parser=Parser;var TEXT=1;var INTERPOLATOR=2;var TRIPLE=3;var SECTION=4;var INVERTED=5;var CLOSING=6;var ELEMENT=7;var PARTIAL=8;var COMMENT=9;var DELIMCHANGE=10;var ATTRIBUTE=13;var CLOSING_TAG=14;var COMPONENT=15;var YIELDER=16;var INLINE_PARTIAL=17;var DOCTYPE=18;var NUMBER_LITERAL=20;var STRING_LITERAL=21;var ARRAY_LITERAL=22;var OBJECT_LITERAL=23;var BOOLEAN_LITERAL=24;var REGEXP_LITERAL=25;var GLOBAL=26;var KEY_VALUE_PAIR=27;var REFERENCE=30;var REFINEMENT=31;var MEMBER=32;var PREFIX_OPERATOR=33;var BRACKETED=34;var CONDITIONAL=35;var INFIX_OPERATOR=36;var INVOCATION=40;var SECTION_IF=50;var SECTION_UNLESS=51;var SECTION_EACH=52;var SECTION_WITH=53;var SECTION_IF_WITH=54;var ELSE=60;var ELSEIF=61;var mustache_readDelimiterChange=readDelimiterChange;var delimiterChangePattern=/^[^\s=]+/,whitespacePattern=/^\s+/;function readDelimiterChange(parser){var start,opening,closing;if(!parser.matchString("=")){return null}start=parser.pos;parser.allowWhitespace();opening=parser.matchPattern(delimiterChangePattern);if(!opening){parser.pos=start;return null}if(!parser.matchPattern(whitespacePattern)){return null}closing=parser.matchPattern(delimiterChangePattern);if(!closing){parser.pos=start;return null}parser.allowWhitespace();if(!parser.matchString("=")){parser.pos=start;return null}return[opening,closing]}var readRegexpLiteral=readRegexpLiteral__readNumberLiteral;var regexpPattern=/^(\/(?:[^\n\r\u2028\u2029\/\\[]|\\.|\[(?:[^\n\r\u2028\u2029\]\\]|\\.)*])+\/(?:([gimuy])(?![a-z]*\2))*(?![a-zA-Z_$0-9]))/;function readRegexpLiteral__readNumberLiteral(parser){var result;if(result=parser.matchPattern(regexpPattern)){return{t:REGEXP_LITERAL,v:result}}return null}var converters_readMustache=readMustache;var delimiterChangeToken={t:DELIMCHANGE,exclude:true};function readMustache(parser){var mustache,i;if(parser.interpolate[parser.inside]===false){return null}for(i=0;i<parser.tags.length;i+=1){if(mustache=readMustacheOfType(parser,parser.tags[i])){return mustache}}}function readMustacheOfType(parser,tag){var start,mustache,reader,i;start=parser.pos;if(parser.matchString("\\"+tag.open)){if(start===0||parser.str[start-1]!=="\\"){return tag.open}}else if(!parser.matchString(tag.open)){return null}if(mustache=mustache_readDelimiterChange(parser)){if(!parser.matchString(tag.close)){return null}tag.open=mustache[0];tag.close=mustache[1];parser.sortMustacheTags();return delimiterChangeToken}parser.allowWhitespace();if(parser.matchString("/")){parser.pos-=1;var rewind=parser.pos;if(!readRegexpLiteral(parser)){parser.pos=rewind-tag.close.length;parser.error("Attempted to close a section that wasn't open")}else{parser.pos=rewind}}for(i=0;i<tag.readers.length;i+=1){reader=tag.readers[i];if(mustache=reader(parser,tag)){if(tag.isStatic){mustache.s=true}if(parser.includeLinePositions){mustache.p=parser.getLinePos(start)}return mustache}}parser.pos=start;return null}var expectedExpression="Expected a JavaScript expression";var expectedParen="Expected closing paren";var literal_readNumberLiteral=literal_readNumberLiteral__readNumberLiteral;var literal_readNumberLiteral__numberPattern=/^(?:[+-]?)0*(?:(?:(?:[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/;function literal_readNumberLiteral__readNumberLiteral(parser){var result;if(result=parser.matchPattern(literal_readNumberLiteral__numberPattern)){return{t:NUMBER_LITERAL,v:result}}return null}var literal_readBooleanLiteral=readBooleanLiteral;function readBooleanLiteral(parser){var remaining=parser.remaining();if(remaining.substr(0,4)==="true"){parser.pos+=4;return{t:BOOLEAN_LITERAL,v:"true"}}if(remaining.substr(0,5)==="false"){parser.pos+=5;return{t:BOOLEAN_LITERAL,v:"false"}}return null}var stringMiddlePattern,escapeSequencePattern,lineContinuationPattern;stringMiddlePattern=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/;escapeSequencePattern=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/;lineContinuationPattern=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var makeQuotedStringMatcher=function(okQuote){return function(parser){var start,literal,done,next;start=parser.pos;literal='"';done=false;while(!done){next=parser.matchPattern(stringMiddlePattern)||parser.matchPattern(escapeSequencePattern)||parser.matchString(okQuote);if(next){if(next==='"'){literal+='\\"'}else if(next==="\\'"){literal+="'"}else{literal+=next}}else{next=parser.matchPattern(lineContinuationPattern);if(next){literal+="\\u"+("000"+next.charCodeAt(1).toString(16)).slice(-4)}else{done=true}}}literal+='"';return JSON.parse(literal)}};var getSingleQuotedString=makeQuotedStringMatcher('"');var getDoubleQuotedString=makeQuotedStringMatcher("'");var readStringLiteral=function(parser){var start,string;start=parser.pos;if(parser.matchString('"')){string=getDoubleQuotedString(parser);if(!parser.matchString('"')){parser.pos=start;return null}return{t:STRING_LITERAL,v:string}}if(parser.matchString("'")){string=getSingleQuotedString(parser);if(!parser.matchString("'")){parser.pos=start;return null}return{t:STRING_LITERAL,v:string}}return null};var patterns__name=/^[a-zA-Z_$][a-zA-Z_$0-9]*/;var shared_readKey=readKey;var identifier=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function readKey(parser){var token;if(token=readStringLiteral(parser)){return identifier.test(token.v)?token.v:'"'+token.v.replace(/"/g,'\\"')+'"'}if(token=literal_readNumberLiteral(parser)){return token.v}if(token=parser.matchPattern(patterns__name)){return token}}var keyValuePair=readKeyValuePair;function readKeyValuePair(parser){var start,key,value;start=parser.pos;parser.allowWhitespace();key=shared_readKey(parser);if(key===null){parser.pos=start;return null}parser.allowWhitespace();if(!parser.matchString(":")){parser.pos=start;return null}parser.allowWhitespace();value=converters_readExpression(parser);if(value===null){parser.pos=start;return null}return{t:KEY_VALUE_PAIR,k:key,v:value}}var objectLiteral_keyValuePairs=readKeyValuePairs;function readKeyValuePairs(parser){var start,pairs,pair,keyValuePairs;start=parser.pos;pair=keyValuePair(parser);if(pair===null){return null}pairs=[pair];if(parser.matchString(",")){keyValuePairs=readKeyValuePairs(parser);if(!keyValuePairs){parser.pos=start;return null}return pairs.concat(keyValuePairs)}return pairs}var readObjectLiteral=function(parser){var start,keyValuePairs;start=parser.pos;parser.allowWhitespace();if(!parser.matchString("{")){parser.pos=start;return null}keyValuePairs=objectLiteral_keyValuePairs(parser);parser.allowWhitespace();if(!parser.matchString("}")){parser.pos=start;return null}return{t:OBJECT_LITERAL,m:keyValuePairs}};var shared_readExpressionList=readExpressionList;function readExpressionList(parser){var start,expressions,expr,next;start=parser.pos;parser.allowWhitespace();expr=converters_readExpression(parser);if(expr===null){return null}expressions=[expr];parser.allowWhitespace();if(parser.matchString(",")){next=readExpressionList(parser);if(next===null){parser.error(expectedExpression)}next.forEach(append)}function append(expression){expressions.push(expression)}return expressions}var readArrayLiteral=function(parser){var start,expressionList;start=parser.pos;parser.allowWhitespace();if(!parser.matchString("[")){parser.pos=start;return null}expressionList=shared_readExpressionList(parser);if(!parser.matchString("]")){parser.pos=start;return null}return{t:ARRAY_LITERAL,m:expressionList}};var primary_readLiteral=readLiteral;function readLiteral(parser){return literal_readNumberLiteral(parser)||literal_readBooleanLiteral(parser)||readStringLiteral(parser)||readObjectLiteral(parser)||readArrayLiteral(parser)||readRegexpLiteral(parser)}var primary_readReference=readReference;var prefixPattern=/^(?:~\/|(?:\.\.\/)+|\.\/(?:\.\.\/)*|\.)/,globals,keywords;globals=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)\b/;keywords=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var legalReference=/^[a-zA-Z$_0-9]+(?:(?:\.[a-zA-Z$_0-9]+)|(?:\[[0-9]+\]))*/;var relaxedName=/^[a-zA-Z_$][-a-zA-Z_$0-9]*/;function readReference(parser){var startPos,prefix,name,global,reference,lastDotIndex;startPos=parser.pos;name=parser.matchPattern(/^@(?:keypath|index|key)/);if(!name){prefix=parser.matchPattern(prefixPattern)||"";name=!prefix&&parser.relaxedNames&&parser.matchPattern(relaxedName)||parser.matchPattern(legalReference);if(!name&&prefix==="."){prefix="";name="."}}if(!name){return null}if(!prefix&&!parser.relaxedNames&&keywords.test(name)){parser.pos=startPos;return null}if(!prefix&&globals.test(name)){global=globals.exec(name)[0];parser.pos=startPos+global.length;return{t:GLOBAL,v:global}}reference=(prefix||"")+normalise(name);if(parser.matchString("(")){lastDotIndex=reference.lastIndexOf(".");if(lastDotIndex!==-1){reference=reference.substr(0,lastDotIndex);parser.pos=startPos+reference.length}else{parser.pos-=1}}return{t:REFERENCE,n:reference.replace(/^this\./,"./").replace(/^this$/,".")}}var primary_readBracketedExpression=readBracketedExpression;function readBracketedExpression(parser){var start,expr;start=parser.pos;if(!parser.matchString("(")){return null}parser.allowWhitespace();expr=converters_readExpression(parser);if(!expr){parser.error(expectedExpression)}parser.allowWhitespace();if(!parser.matchString(")")){parser.error(expectedParen)}return{t:BRACKETED,x:expr}}var readPrimary=function(parser){return primary_readLiteral(parser)||primary_readReference(parser)||primary_readBracketedExpression(parser)};var shared_readRefinement=readRefinement;function readRefinement(parser){var start,name,expr;start=parser.pos;parser.allowWhitespace();if(parser.matchString(".")){parser.allowWhitespace();if(name=parser.matchPattern(patterns__name)){return{t:REFINEMENT,n:name}}parser.error("Expected a property name")}if(parser.matchString("[")){parser.allowWhitespace();expr=converters_readExpression(parser);if(!expr){parser.error(expectedExpression)}parser.allowWhitespace();if(!parser.matchString("]")){parser.error("Expected ']'")}return{t:REFINEMENT,x:expr}}return null}var readMemberOrInvocation=function(parser){var current,expression,refinement,expressionList;expression=readPrimary(parser);if(!expression){return null}while(expression){current=parser.pos;if(refinement=shared_readRefinement(parser)){expression={t:MEMBER,x:expression,r:refinement}}else if(parser.matchString("(")){parser.allowWhitespace();expressionList=shared_readExpressionList(parser);parser.allowWhitespace();if(!parser.matchString(")")){parser.error(expectedParen)}expression={t:INVOCATION,x:expression};if(expressionList){expression.o=expressionList}}else{break}}return expression};var readTypeOf,makePrefixSequenceMatcher;makePrefixSequenceMatcher=function(symbol,fallthrough){return function(parser){var expression;if(expression=fallthrough(parser)){return expression}if(!parser.matchString(symbol)){return null}parser.allowWhitespace();expression=converters_readExpression(parser);if(!expression){parser.error(expectedExpression)}return{s:symbol,o:expression,t:PREFIX_OPERATOR}}};(function(){var i,len,matcher,prefixOperators,fallthrough;prefixOperators="! ~ + - typeof".split(" ");fallthrough=readMemberOrInvocation;for(i=0,len=prefixOperators.length;i<len;i+=1){matcher=makePrefixSequenceMatcher(prefixOperators[i],fallthrough);fallthrough=matcher}readTypeOf=fallthrough})();var readTypeof=readTypeOf;var readLogicalOr,makeInfixSequenceMatcher;makeInfixSequenceMatcher=function(symbol,fallthrough){return function(parser){var start,left,right;left=fallthrough(parser);if(!left){return null}while(true){start=parser.pos;parser.allowWhitespace();if(!parser.matchString(symbol)){parser.pos=start;return left}if(symbol==="in"&&/[a-zA-Z_$0-9]/.test(parser.remaining().charAt(0))){parser.pos=start;return left}parser.allowWhitespace();right=fallthrough(parser);if(!right){parser.pos=start;return left}left={t:INFIX_OPERATOR,s:symbol,o:[left,right]}}}};(function(){var i,len,matcher,infixOperators,fallthrough;infixOperators="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" ");fallthrough=readTypeof;for(i=0,len=infixOperators.length;i<len;i+=1){matcher=makeInfixSequenceMatcher(infixOperators[i],fallthrough);fallthrough=matcher}readLogicalOr=fallthrough})();var expressions_readLogicalOr=readLogicalOr;var readConditional=getConditional;function getConditional(parser){var start,expression,ifTrue,ifFalse;expression=expressions_readLogicalOr(parser);if(!expression){return null}start=parser.pos;parser.allowWhitespace();if(!parser.matchString("?")){parser.pos=start;return expression}parser.allowWhitespace();ifTrue=converters_readExpression(parser);if(!ifTrue){parser.error(expectedExpression)}parser.allowWhitespace();if(!parser.matchString(":")){parser.error('Expected ":"')}parser.allowWhitespace();ifFalse=converters_readExpression(parser);if(!ifFalse){parser.error(expectedExpression)}return{t:CONDITIONAL,o:[expression,ifTrue,ifFalse]}}var converters_readExpression=readExpression;function readExpression(parser){return readConditional(parser)}var utils_flattenExpression=flattenExpression;function flattenExpression(expression){var refs;extractRefs(expression,refs=[]);return{r:refs,s:stringify(expression)};function stringify(node){switch(node.t){case BOOLEAN_LITERAL:case GLOBAL:case NUMBER_LITERAL:case REGEXP_LITERAL:return node.v;case STRING_LITERAL:return JSON.stringify(String(node.v));case ARRAY_LITERAL:return"["+(node.m?node.m.map(stringify).join(","):"")+"]";case OBJECT_LITERAL:return"{"+(node.m?node.m.map(stringify).join(","):"")+"}";case KEY_VALUE_PAIR:return node.k+":"+stringify(node.v);case PREFIX_OPERATOR:return(node.s==="typeof"?"typeof ":node.s)+stringify(node.o);case INFIX_OPERATOR:return stringify(node.o[0])+(node.s.substr(0,2)==="in"?" "+node.s+" ":node.s)+stringify(node.o[1]);case INVOCATION:return stringify(node.x)+"("+(node.o?node.o.map(stringify).join(","):"")+")";case BRACKETED:return"("+stringify(node.x)+")";case MEMBER:return stringify(node.x)+stringify(node.r);case REFINEMENT:return node.n?"."+node.n:"["+stringify(node.x)+"]";case CONDITIONAL:return stringify(node.o[0])+"?"+stringify(node.o[1])+":"+stringify(node.o[2]);case REFERENCE:return"_"+refs.indexOf(node.n);default:throw new Error("Expected legal JavaScript")}}}function extractRefs(node,refs){var i,list;if(node.t===REFERENCE){if(refs.indexOf(node.n)===-1){refs.unshift(node.n)}}list=node.o||node.m;if(list){if(isObject(list)){extractRefs(list,refs)}else{i=list.length;while(i--){extractRefs(list[i],refs)}}}if(node.x){extractRefs(node.x,refs)}if(node.r){extractRefs(node.r,refs)}if(node.v){extractRefs(node.v,refs)}}var utils_refineExpression=refineExpression;var arrayMemberPattern=/^[0-9][1-9]*$/;function refineExpression(expression,mustache){var referenceExpression;if(expression){while(expression.t===BRACKETED&&expression.x){expression=expression.x}if(expression.t===REFERENCE){mustache.r=expression.n}else{if(expression.t===NUMBER_LITERAL&&arrayMemberPattern.test(expression.v)){mustache.r=expression.v}else if(referenceExpression=getReferenceExpression(expression)){mustache.rx=referenceExpression}else{mustache.x=utils_flattenExpression(expression)}}return mustache}}function getReferenceExpression(expression){var members=[],refinement;while(expression.t===MEMBER&&expression.r.t===REFINEMENT){refinement=expression.r;if(refinement.x){if(refinement.x.t===REFERENCE){members.unshift(refinement.x)}else{members.unshift(utils_flattenExpression(refinement.x))}}else{members.unshift(refinement.n)}expression=expression.x}if(expression.t!==REFERENCE){return null}return{r:expression.n,m:members}}var mustache_readTriple=readTriple;function readTriple(parser,tag){var expression=converters_readExpression(parser),triple;if(!expression){return null}if(!parser.matchString(tag.close)){parser.error("Expected closing delimiter '"+tag.close+"'")}triple={t:TRIPLE};utils_refineExpression(expression,triple);return triple}var mustache_readUnescaped=readUnescaped;function readUnescaped(parser,tag){var expression,triple;if(!parser.matchString("&")){return null}parser.allowWhitespace();expression=converters_readExpression(parser);if(!expression){return null}if(!parser.matchString(tag.close)){parser.error("Expected closing delimiter '"+tag.close+"'")}triple={t:TRIPLE};utils_refineExpression(expression,triple);return triple}var mustache_readPartial=readPartial;function readPartial(parser,tag){var start,nameStart,expression,context,partial;start=parser.pos;if(!parser.matchString(">")){return null}parser.allowWhitespace();nameStart=parser.pos;parser.relaxedNames=true;expression=converters_readExpression(parser);parser.relaxedNames=false;parser.allowWhitespace();context=converters_readExpression(parser);parser.allowWhitespace();if(!expression){return null}partial={t:PARTIAL};utils_refineExpression(expression,partial);parser.allowWhitespace();if(context){partial={t:SECTION,n:SECTION_WITH,f:[partial]};utils_refineExpression(context,partial)}if(!parser.matchString(tag.close)){parser.error("Expected closing delimiter '"+tag.close+"'")}return partial}var readMustacheComment=readComment;function readComment(parser,tag){var index;if(!parser.matchString("!")){return null}index=parser.remaining().indexOf(tag.close);if(index!==-1){parser.pos+=index+tag.close.length;return{t:COMMENT}}}var converters_readExpressionOrReference=readExpressionOrReference;function readExpressionOrReference(parser,expectedFollowers){var start,expression,i;start=parser.pos;expression=converters_readExpression(parser);if(!expression){return null}for(i=0;i<expectedFollowers.length;i+=1){if(parser.remaining().substr(0,expectedFollowers[i].length)===expectedFollowers[i]){return expression}}parser.pos=start;return primary_readReference(parser)}var mustache_readInterpolator=readInterpolator;function readInterpolator(parser,tag){var start,expression,interpolator,err;start=parser.pos;try{expression=converters_readExpressionOrReference(parser,[tag.close])}catch(e){err=e}if(!expression){if(parser.str.charAt(start)==="!"){parser.pos=start;return null}if(err){throw err}}if(!parser.matchString(tag.close)){parser.error("Expected closing delimiter '"+tag.close+"' after reference");if(!expression){if(parser.nextChar()==="!"){return null}parser.error("Expected expression or legal reference")}}interpolator={t:INTERPOLATOR};utils_refineExpression(expression,interpolator);return interpolator}var mustache_readYielder=readYielder;var yieldPattern=/^yield\s*/;function readYielder(parser,tag){var start,name,yielder;if(!parser.matchPattern(yieldPattern)){return null}start=parser.pos;name=parser.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/);parser.allowWhitespace();if(!parser.matchString(tag.close)){parser.error("expected legal partial name")}yielder={t:YIELDER};if(name){yielder.n=name}return yielder}var section_readClosing=readClosing;function readClosing(parser,tag){var start,remaining,index,closing;start=parser.pos;if(!parser.matchString(tag.open)){return null}parser.allowWhitespace();if(!parser.matchString("/")){parser.pos=start;return null}parser.allowWhitespace();remaining=parser.remaining();index=remaining.indexOf(tag.close);if(index!==-1){closing={t:CLOSING,r:remaining.substr(0,index).split(" ")[0]};parser.pos+=index;if(!parser.matchString(tag.close)){parser.error("Expected closing delimiter '"+tag.close+"'")}return closing}parser.pos=start;return null}var section_readElse=section_readElse__readElse;var section_readElse__elsePattern=/^\s*else\s*/;function section_readElse__readElse(parser,tag){var start=parser.pos;if(!parser.matchString(tag.open)){return null}if(!parser.matchPattern(section_readElse__elsePattern)){parser.pos=start;return null}if(!parser.matchString(tag.close)){parser.error("Expected closing delimiter '"+tag.close+"'")}return{t:ELSE}}var readElseIf=readElseIf__readElse;var readElseIf__elsePattern=/^\s*elseif\s+/;function readElseIf__readElse(parser,tag){var start=parser.pos,expression;if(!parser.matchString(tag.open)){return null}if(!parser.matchPattern(readElseIf__elsePattern)){parser.pos=start;return null}expression=converters_readExpression(parser);if(!parser.matchString(tag.close)){parser.error("Expected closing delimiter '"+tag.close+"'")}return{t:ELSEIF,x:expression}}var handlebarsBlockCodes={each:SECTION_EACH,if:SECTION_IF,"if-with":SECTION_IF_WITH,with:SECTION_WITH,unless:SECTION_UNLESS};var mustache_readSection=readSection;var indexRefPattern=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,keyIndexRefPattern=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,handlebarsBlockPattern=new RegExp("^("+Object.keys(handlebarsBlockCodes).join("|")+")\\b");function readSection(parser,tag){var start,expression,section,child,children,hasElse,block,unlessBlock,conditions,closed,i,expectedClose;start=parser.pos;if(parser.matchString("^")){section={t:SECTION,f:[],n:SECTION_UNLESS}}else if(parser.matchString("#")){section={t:SECTION,f:[]};if(parser.matchString("partial")){parser.pos=start-parser.standardDelimiters[0].length;parser.error("Partial definitions can only be at the top level of the template, or immediately inside components")}if(block=parser.matchPattern(handlebarsBlockPattern)){expectedClose=block;section.n=handlebarsBlockCodes[block]}}else{return null}parser.allowWhitespace();expression=converters_readExpression(parser);if(!expression){parser.error("Expected expression")}if(i=parser.matchPattern(indexRefPattern)){var extra=undefined;if(extra=parser.matchPattern(keyIndexRefPattern)){section.i=i+","+extra}else{section.i=i}}parser.allowWhitespace();if(!parser.matchString(tag.close)){parser.error("Expected closing delimiter '"+tag.close+"'")}parser.sectionDepth+=1;children=section.f;conditions=[];do{if(child=section_readClosing(parser,tag)){if(expectedClose&&child.r!==expectedClose){parser.error("Expected "+tag.open+"/"+expectedClose+""+tag.close)}parser.sectionDepth-=1;closed=true}else if(child=readElseIf(parser,tag)){if(section.n===SECTION_UNLESS){parser.error("{{else}} not allowed in {{#unless}}")}if(hasElse){parser.error("illegal {{elseif...}} after {{else}}")}if(!unlessBlock){unlessBlock=createUnlessBlock(expression,section.n)}unlessBlock.f.push({t:SECTION,n:SECTION_IF,x:utils_flattenExpression(mustache_readSection__combine(conditions.concat(child.x))),f:children=[]});conditions.push(invert(child.x))}else if(child=section_readElse(parser,tag)){if(section.n===SECTION_UNLESS){parser.error("{{else}} not allowed in {{#unless}}")}if(hasElse){parser.error("there can only be one {{else}} block, at the end of a section")}hasElse=true;if(!unlessBlock){unlessBlock=createUnlessBlock(expression,section.n);children=unlessBlock.f}else{unlessBlock.f.push({t:SECTION,n:SECTION_IF,x:utils_flattenExpression(mustache_readSection__combine(conditions)),f:children=[]})}}else{child=parser.read(READERS);if(!child){break}children.push(child)}}while(!closed);if(unlessBlock){if(section.n===SECTION_WITH){section.n=SECTION_IF_WITH}section.l=unlessBlock}utils_refineExpression(expression,section);if(!section.f.length){delete section.f}return section}function createUnlessBlock(expression,sectionType){var unlessBlock;if(sectionType===SECTION_WITH){unlessBlock={t:SECTION,n:SECTION_IF,f:[]};utils_refineExpression(invert(expression),unlessBlock)}else{unlessBlock={t:SECTION,n:SECTION_UNLESS,f:[]};utils_refineExpression(expression,unlessBlock)}return unlessBlock}function invert(expression){if(expression.t===PREFIX_OPERATOR&&expression.s==="!"){return expression.o}return{t:PREFIX_OPERATOR,s:"!",o:parensIfNecessary(expression)}}function mustache_readSection__combine(expressions){if(expressions.length===1){return expressions[0]}return{t:INFIX_OPERATOR,s:"&&",o:[parensIfNecessary(expressions[0]),parensIfNecessary(mustache_readSection__combine(expressions.slice(1)))]}}function parensIfNecessary(expression){return{t:BRACKETED,x:expression}}var converters_readHtmlComment=readHtmlComment;var OPEN_COMMENT="<!--",CLOSE_COMMENT="-->";function readHtmlComment(parser){var start,content,remaining,endIndex,comment;start=parser.pos;if(!parser.matchString(OPEN_COMMENT)){return null}remaining=parser.remaining();endIndex=remaining.indexOf(CLOSE_COMMENT);if(endIndex===-1){parser.error("Illegal HTML - expected closing comment sequence ('-->')")}content=remaining.substr(0,endIndex);parser.pos+=endIndex+3;comment={t:COMMENT,c:content};if(parser.includeLinePositions){comment.p=parser.getLinePos(start)}return comment}var booleanAttributes,voidElementNames,htmlEntities,controlCharacters,entityPattern,lessThan,greaterThan,amp;booleanAttributes=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i;voidElementNames=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i;htmlEntities={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};controlCharacters=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376];entityPattern=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(htmlEntities).join("|")+"));?","g")
;function decodeCharacterReferences(html){return html.replace(entityPattern,function(match,entity){var code;if(entity[0]!=="#"){code=htmlEntities[entity]}else if(entity[1]==="x"){code=parseInt(entity.substring(2),16)}else{code=parseInt(entity.substring(1),10)}if(!code){return match}return String.fromCharCode(validateCode(code))})}function validateCode(code){if(!code){return 65533}if(code===10){return 32}if(code<128){return code}if(code<=159){return controlCharacters[code-128]}if(code<55296){return code}if(code<=57343){return 65533}if(code<=65535){return code}return 65533}lessThan=/</g;greaterThan=/>/g;amp=/&/g;function escapeHtml(str){return str.replace(amp,"&amp;").replace(lessThan,"&lt;").replace(greaterThan,"&gt;")}var leadingLinebreak=/^\s*\r?\n/,trailingLinebreak=/\r?\n\s*$/;var stripStandalones=function(items){var i,current,backOne,backTwo,lastSectionItem;for(i=1;i<items.length;i+=1){current=items[i];backOne=items[i-1];backTwo=items[i-2];if(isString(current)&&isComment(backOne)&&isString(backTwo)){if(trailingLinebreak.test(backTwo)&&leadingLinebreak.test(current)){items[i-2]=backTwo.replace(trailingLinebreak,"\n");items[i]=current.replace(leadingLinebreak,"")}}if(isSection(current)&&isString(backOne)){if(trailingLinebreak.test(backOne)&&isString(current.f[0])&&leadingLinebreak.test(current.f[0])){items[i-1]=backOne.replace(trailingLinebreak,"\n");current.f[0]=current.f[0].replace(leadingLinebreak,"")}}if(isString(current)&&isSection(backOne)){lastSectionItem=lastItem(backOne.f);if(isString(lastSectionItem)&&trailingLinebreak.test(lastSectionItem)&&leadingLinebreak.test(current)){backOne.f[backOne.f.length-1]=lastSectionItem.replace(trailingLinebreak,"\n");items[i]=current.replace(leadingLinebreak,"")}}}return items};function isString(item){return typeof item==="string"}function isComment(item){return item.t===COMMENT||item.t===DELIMCHANGE}function isSection(item){return(item.t===SECTION||item.t===INVERTED)&&item.f}var trimWhitespace=function(items,leadingPattern,trailingPattern){var item;if(leadingPattern){item=items[0];if(typeof item==="string"){item=item.replace(leadingPattern,"");if(!item){items.shift()}else{items[0]=item}}}if(trailingPattern){item=lastItem(items);if(typeof item==="string"){item=item.replace(trailingPattern,"");if(!item){items.pop()}else{items[items.length-1]=item}}}};var utils_cleanup=cleanup;var contiguousWhitespace=/[ \t\f\r\n]+/g;var preserveWhitespaceElements=/^(?:pre|script|style|textarea)$/i;var utils_cleanup__leadingWhitespace=/^[ \t\f\r\n]+/;var trailingWhitespace=/[ \t\f\r\n]+$/;var leadingNewLine=/^(?:\r\n|\r|\n)/;var trailingNewLine=/(?:\r\n|\r|\n)$/;function cleanup(items,stripComments,preserveWhitespace,removeLeadingWhitespace,removeTrailingWhitespace){var i,item,previousItem,nextItem,preserveWhitespaceInsideFragment,removeLeadingWhitespaceInsideFragment,removeTrailingWhitespaceInsideFragment,key;stripStandalones(items);i=items.length;while(i--){item=items[i];if(item.exclude){items.splice(i,1)}else if(stripComments&&item.t===COMMENT){items.splice(i,1)}}trimWhitespace(items,removeLeadingWhitespace?utils_cleanup__leadingWhitespace:null,removeTrailingWhitespace?trailingWhitespace:null);i=items.length;while(i--){item=items[i];if(item.f){var isPreserveWhitespaceElement=item.t===ELEMENT&&preserveWhitespaceElements.test(item.e);preserveWhitespaceInsideFragment=preserveWhitespace||isPreserveWhitespaceElement;if(!preserveWhitespace&&isPreserveWhitespaceElement){trimWhitespace(item.f,leadingNewLine,trailingNewLine)}if(!preserveWhitespaceInsideFragment){previousItem=items[i-1];nextItem=items[i+1];if(!previousItem||typeof previousItem==="string"&&trailingWhitespace.test(previousItem)){removeLeadingWhitespaceInsideFragment=true}if(!nextItem||typeof nextItem==="string"&&utils_cleanup__leadingWhitespace.test(nextItem)){removeTrailingWhitespaceInsideFragment=true}}cleanup(item.f,stripComments,preserveWhitespaceInsideFragment,removeLeadingWhitespaceInsideFragment,removeTrailingWhitespaceInsideFragment)}if(item.l){cleanup(item.l.f,stripComments,preserveWhitespace,removeLeadingWhitespaceInsideFragment,removeTrailingWhitespaceInsideFragment);items.splice(i+1,0,item.l);delete item.l}if(item.a){for(key in item.a){if(item.a.hasOwnProperty(key)&&typeof item.a[key]!=="string"){cleanup(item.a[key],stripComments,preserveWhitespace,removeLeadingWhitespaceInsideFragment,removeTrailingWhitespaceInsideFragment)}}}if(item.m){cleanup(item.m,stripComments,preserveWhitespace,removeLeadingWhitespaceInsideFragment,removeTrailingWhitespaceInsideFragment)}if(item.v){for(key in item.v){if(item.v.hasOwnProperty(key)){if(isArray(item.v[key].n)){cleanup(item.v[key].n,stripComments,preserveWhitespace,removeLeadingWhitespaceInsideFragment,removeTrailingWhitespaceInsideFragment)}if(isArray(item.v[key].d)){cleanup(item.v[key].d,stripComments,preserveWhitespace,removeLeadingWhitespaceInsideFragment,removeTrailingWhitespaceInsideFragment)}}}}}i=items.length;while(i--){if(typeof items[i]==="string"){if(typeof items[i+1]==="string"){items[i]=items[i]+items[i+1];items.splice(i+1,1)}if(!preserveWhitespace){items[i]=items[i].replace(contiguousWhitespace," ")}if(items[i]===""){items.splice(i,1)}}}}var element_readClosingTag=readClosingTag;var closingTagPattern=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/;function readClosingTag(parser){var start,tag;start=parser.pos;if(!parser.matchString("</")){return null}if(tag=parser.matchPattern(closingTagPattern)){if(parser.inside&&tag!==parser.inside){parser.pos=start;return null}return{t:CLOSING_TAG,e:tag}}parser.pos-=2;parser.error("Illegal closing tag")}var getLowestIndex=function(haystack,needles){var i,index,lowest;i=needles.length;while(i--){index=haystack.indexOf(needles[i]);if(!index){return 0}if(index===-1){continue}if(!lowest||index<lowest){lowest=index}}return lowest||-1};var element_readAttribute=readAttribute;var attributeNamePattern=/^[^\s"'>\/=]+/,unquotedAttributeValueTextPattern=/^[^\s"'=<>`]+/;function readAttribute(parser){var attr,name,value;parser.allowWhitespace();name=parser.matchPattern(attributeNamePattern);if(!name){return null}attr={name:name};value=readAttributeValue(parser);if(value!=null){attr.value=value}return attr}function readAttributeValue(parser){var start,valueStart,startDepth,value;start=parser.pos;if(!/[=\/>\s]/.test(parser.nextChar())){parser.error("Expected `=`, `/`, `>` or whitespace")}parser.allowWhitespace();if(!parser.matchString("=")){parser.pos=start;return null}parser.allowWhitespace();valueStart=parser.pos;startDepth=parser.sectionDepth;value=readQuotedAttributeValue(parser,"'")||readQuotedAttributeValue(parser,'"')||readUnquotedAttributeValue(parser);if(value===null){parser.error("Expected valid attribute value")}if(parser.sectionDepth!==startDepth){parser.pos=valueStart;parser.error("An attribute value must contain as many opening section tags as closing section tags")}if(!value.length){return""}if(value.length===1&&typeof value[0]==="string"){return decodeCharacterReferences(value[0])}return value}function readUnquotedAttributeValueToken(parser){var start,text,haystack,needles,index;start=parser.pos;text=parser.matchPattern(unquotedAttributeValueTextPattern);if(!text){return null}haystack=text;needles=parser.tags.map(function(t){return t.open});if((index=getLowestIndex(haystack,needles))!==-1){text=text.substr(0,index);parser.pos=start+text.length}return text}function readUnquotedAttributeValue(parser){var tokens,token;parser.inAttribute=true;tokens=[];token=converters_readMustache(parser)||readUnquotedAttributeValueToken(parser);while(token!==null){tokens.push(token);token=converters_readMustache(parser)||readUnquotedAttributeValueToken(parser)}if(!tokens.length){return null}parser.inAttribute=false;return tokens}function readQuotedAttributeValue(parser,quoteMark){var start,tokens,token;start=parser.pos;if(!parser.matchString(quoteMark)){return null}parser.inAttribute=quoteMark;tokens=[];token=converters_readMustache(parser)||readQuotedStringToken(parser,quoteMark);while(token!==null){tokens.push(token);token=converters_readMustache(parser)||readQuotedStringToken(parser,quoteMark)}if(!parser.matchString(quoteMark)){parser.pos=start;return null}parser.inAttribute=false;return tokens}function readQuotedStringToken(parser,quoteMark){var start,index,haystack,needles;start=parser.pos;haystack=parser.remaining();needles=parser.tags.map(function(t){return t.open});needles.push(quoteMark);index=getLowestIndex(haystack,needles);if(index===-1){parser.error("Quoted attribute value must have a closing quote")}if(!index){return null}parser.pos+=index;return haystack.substr(0,index)}var JsonParser,specials,specialsPattern,parseJSON__numberPattern,placeholderPattern,placeholderAtStartPattern,onlyWhitespace;specials={true:true,false:false,undefined:undefined,null:null};specialsPattern=new RegExp("^(?:"+Object.keys(specials).join("|")+")");parseJSON__numberPattern=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/;placeholderPattern=/\$\{([^\}]+)\}/g;placeholderAtStartPattern=/^\$\{([^\}]+)\}/;onlyWhitespace=/^\s*$/;JsonParser=parse_Parser.extend({init:function(str,options){this.values=options.values;this.allowWhitespace()},postProcess:function(result){if(result.length!==1||!onlyWhitespace.test(this.leftover)){return null}return{value:result[0].v}},converters:[function getPlaceholder(parser){var placeholder;if(!parser.values){return null}placeholder=parser.matchPattern(placeholderAtStartPattern);if(placeholder&&parser.values.hasOwnProperty(placeholder)){return{v:parser.values[placeholder]}}},function getSpecial(parser){var special;if(special=parser.matchPattern(specialsPattern)){return{v:specials[special]}}},function getNumber(parser){var number;if(number=parser.matchPattern(parseJSON__numberPattern)){return{v:+number}}},function getString(parser){var stringLiteral=readStringLiteral(parser),values;if(stringLiteral&&(values=parser.values)){return{v:stringLiteral.v.replace(placeholderPattern,function(match,$1){return $1 in values?values[$1]:$1})}}return stringLiteral},function getObject(parser){var result,pair;if(!parser.matchString("{")){return null}result={};parser.allowWhitespace();if(parser.matchString("}")){return{v:result}}while(pair=getKeyValuePair(parser)){result[pair.key]=pair.value;parser.allowWhitespace();if(parser.matchString("}")){return{v:result}}if(!parser.matchString(",")){return null}}return null},function getArray(parser){var result,valueToken;if(!parser.matchString("[")){return null}result=[];parser.allowWhitespace();if(parser.matchString("]")){return{v:result}}while(valueToken=parser.read()){result.push(valueToken.v);parser.allowWhitespace();if(parser.matchString("]")){return{v:result}}if(!parser.matchString(",")){return null}parser.allowWhitespace()}return null}]});function getKeyValuePair(parser){var key,valueToken,pair;parser.allowWhitespace();key=shared_readKey(parser);if(!key){return null}pair={key:key};parser.allowWhitespace();if(!parser.matchString(":")){return null}parser.allowWhitespace();valueToken=parser.read();if(!valueToken){return null}pair.value=valueToken.v;return pair}var parseJSON=function(str,values){var parser=new JsonParser(str,{values:values});return parser.result};var element_processDirective=processDirective;var methodCallPattern=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/,methodCallExcessPattern=/\)\s*$/,ExpressionParser;ExpressionParser=parse_Parser.extend({converters:[converters_readExpression]});function processDirective(tokens,parentParser){var result,match,parser,args,token,colonIndex,directiveName,directiveArgs,parsed;if(typeof tokens==="string"){if(match=methodCallPattern.exec(tokens)){var end=tokens.lastIndexOf(")");if(!methodCallExcessPattern.test(tokens)){parentParser.error("Invalid input after method call expression '"+tokens.slice(end+1)+"'")}result={m:match[1]};args="["+tokens.slice(result.m.length+1,end)+"]";parser=new ExpressionParser(args);result.a=utils_flattenExpression(parser.result[0]);return result}if(tokens.indexOf(":")===-1){return tokens.trim()}tokens=[tokens]}result={};directiveName=[];directiveArgs=[];if(tokens){while(tokens.length){token=tokens.shift();if(typeof token==="string"){colonIndex=token.indexOf(":");if(colonIndex===-1){directiveName.push(token)}else{if(colonIndex){directiveName.push(token.substr(0,colonIndex))}if(token.length>colonIndex+1){directiveArgs[0]=token.substring(colonIndex+1)}break}}else{directiveName.push(token)}}directiveArgs=directiveArgs.concat(tokens)}if(!directiveName.length){result=""}else if(directiveArgs.length||typeof directiveName!=="string"){result={n:directiveName.length===1&&typeof directiveName[0]==="string"?directiveName[0]:directiveName};if(directiveArgs.length===1&&typeof directiveArgs[0]==="string"){parsed=parseJSON("["+directiveArgs[0]+"]");result.a=parsed?parsed.value:directiveArgs[0].trim()}else{result.d=directiveArgs}}else{result=directiveName}return result}var tagNamePattern=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,validTagNameFollower=/^[\s\n\/>]/,onPattern=/^on/,proxyEventPattern=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,reservedEventNames=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,directives={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},exclude={exclude:true},disallowedContents;disallowedContents={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var converters_readElement=readElement;function readElement(parser){var start,element,directiveName,match,addProxyEvent,attribute,directive,selfClosing,children,partials,hasPartials,child,closed,pos,remaining,closingTag;start=parser.pos;if(parser.inside||parser.inAttribute){return null}if(!parser.matchString("<")){return null}if(parser.nextChar()==="/"){return null}element={};if(parser.includeLinePositions){element.p=parser.getLinePos(start)}if(parser.matchString("!")){element.t=DOCTYPE;if(!parser.matchPattern(/^doctype/i)){parser.error("Expected DOCTYPE declaration")}element.a=parser.matchPattern(/^(.+?)>/);return element}element.t=ELEMENT;element.e=parser.matchPattern(tagNamePattern);if(!element.e){return null}if(!validTagNameFollower.test(parser.nextChar())){parser.error("Illegal tag name")}addProxyEvent=function(name,directive){var directiveName=directive.n||directive;if(reservedEventNames.test(directiveName)){parser.pos-=directiveName.length;parser.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")}element.v[name]=directive};parser.allowWhitespace();while(attribute=converters_readMustache(parser)||element_readAttribute(parser)){if(attribute.name){if(directiveName=directives[attribute.name]){element[directiveName]=element_processDirective(attribute.value,parser)}else if(match=proxyEventPattern.exec(attribute.name)){if(!element.v)element.v={};directive=element_processDirective(attribute.value,parser);addProxyEvent(match[1],directive)}else{if(!parser.sanitizeEventAttributes||!onPattern.test(attribute.name)){if(!element.a)element.a={};element.a[attribute.name]=attribute.value||(attribute.value===""?"":0)}}}else{if(!element.m)element.m=[];element.m.push(attribute)}parser.allowWhitespace()}parser.allowWhitespace();if(parser.matchString("/")){selfClosing=true}if(!parser.matchString(">")){return null}var lowerCaseName=element.e.toLowerCase();var preserveWhitespace=parser.preserveWhitespace;if(!selfClosing&&!voidElementNames.test(element.e)){parser.elementStack.push(lowerCaseName);if(lowerCaseName==="script"||lowerCaseName==="style"){parser.inside=lowerCaseName}children=[];partials=create(null);do{pos=parser.pos;remaining=parser.remaining();if(!canContain(lowerCaseName,remaining)){closed=true}else if(closingTag=element_readClosingTag(parser)){closed=true;var closingTagName=closingTag.e.toLowerCase();if(closingTagName!==lowerCaseName){parser.pos=pos;if(!~parser.elementStack.indexOf(closingTagName)){var errorMessage="Unexpected closing tag";if(voidElementNames.test(closingTagName)){errorMessage+=" (<"+closingTagName+"> is a void element - it cannot contain children)"}parser.error(errorMessage)}}}else if(child=section_readClosing(parser,{open:parser.standardDelimiters[0],close:parser.standardDelimiters[1]})){closed=true;parser.pos=pos}else{if(child=parser.read(PARTIAL_READERS)){if(partials[child.n]){parser.pos=pos;parser.error("Duplicate partial definition")}utils_cleanup(child.f,parser.stripComments,preserveWhitespace,!preserveWhitespace,!preserveWhitespace);partials[child.n]=child.f;hasPartials=true}else{if(child=parser.read(READERS)){children.push(child)}else{closed=true}}}}while(!closed);if(children.length){element.f=children}if(hasPartials){element.p=partials}parser.elementStack.pop()}parser.inside=null;if(parser.sanitizeElements&&parser.sanitizeElements.indexOf(lowerCaseName)!==-1){return exclude}return element}function canContain(name,remaining){var match,disallowed;match=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(remaining);disallowed=disallowedContents[name];if(!match||!disallowed){return true}return!~disallowed.indexOf(match[1].toLowerCase())}var converters_readText=readText;function readText(parser){var index,remaining,disallowed,barrier;remaining=parser.remaining();barrier=parser.inside?"</"+parser.inside:"<";if(parser.inside&&!parser.interpolate[parser.inside]){index=remaining.indexOf(barrier)}else{disallowed=parser.tags.map(function(t){return t.open});disallowed=disallowed.concat(parser.tags.map(function(t){return"\\"+t.open}));if(parser.inAttribute===true){disallowed.push('"',"'","=","<",">","`")}else if(parser.inAttribute){disallowed.push(parser.inAttribute)}else{disallowed.push(barrier)}index=getLowestIndex(remaining,disallowed)}if(!index){return null}if(index===-1){index=remaining.length}parser.pos+=index;return parser.inside?remaining.substr(0,index):decodeCharacterReferences(remaining.substr(0,index))}var utils_escapeRegExp=escapeRegExp;var utils_escapeRegExp__pattern=/[-\/\\^$*+?.()|[\]{}]/g;function escapeRegExp(str){return str.replace(utils_escapeRegExp__pattern,"\\$&")}var converters_readPartialDefinitionComment=readPartialDefinitionComment;var startPattern=/^<!--\s*/,namePattern=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,finishPattern=/\s*-->/,child;function readPartialDefinitionComment(parser){var firstPos=parser.pos,open=parser.standardDelimiters[0],close=parser.standardDelimiters[1],content=undefined,closed=undefined;if(!parser.matchPattern(startPattern)||!parser.matchString(open)){parser.pos=firstPos;return null}var name=parser.matchPattern(namePattern);warnOnceIfDebug("Inline partial comments are deprecated.\nUse this...\n  {{#partial "+name+"}} ... {{/partial}}\n\n...instead of this:\n  <!-- {{>"+name+"}} --> ... <!-- {{/"+name+"}} -->'");if(!parser.matchString(close)||!parser.matchPattern(finishPattern)){parser.pos=firstPos;return null}content=[];var endPattern=new RegExp("^<!--\\s*"+utils_escapeRegExp(open)+"\\s*\\/\\s*"+name+"\\s*"+utils_escapeRegExp(close)+"\\s*-->");do{if(parser.matchPattern(endPattern)){closed=true}else{child=parser.read(READERS);if(!child){parser.error("expected closing comment ('<!-- "+open+"/"+name+""+close+" -->')")}content.push(child)}}while(!closed);return{t:INLINE_PARTIAL,f:content,n:name}}var converters_readPartialDefinitionSection=readPartialDefinitionSection;var partialDefinitionSectionPattern=/^#\s*partial\s+/;function readPartialDefinitionSection(parser){var start,name,content,child,closed;start=parser.pos;var delimiters=parser.standardDelimiters;if(!parser.matchString(delimiters[0])){return null}if(!parser.matchPattern(partialDefinitionSectionPattern)){parser.pos=start;return null}name=parser.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/);if(!name){parser.error("expected legal partial name")}if(!parser.matchString(delimiters[1])){parser.error("Expected closing delimiter '"+delimiters[1]+"'")}content=[];do{if(child=section_readClosing(parser,{open:parser.standardDelimiters[0],close:parser.standardDelimiters[1]})){if(!child.r==="partial"){parser.error("Expected "+delimiters[0]+"/partial"+delimiters[1])}closed=true}else{child=parser.read(READERS);if(!child){parser.error("Expected "+delimiters[0]+"/partial"+delimiters[1])}content.push(child)}}while(!closed);return{t:INLINE_PARTIAL,n:name,f:content}}var converters_readTemplate=readTemplate;function readTemplate(parser){var fragment=[];var partials=create(null);var hasPartials=false;var preserveWhitespace=parser.preserveWhitespace;while(parser.pos<parser.str.length){var pos=parser.pos,item=undefined,partial=undefined;if(partial=parser.read(PARTIAL_READERS)){if(partials[partial.n]){parser.pos=pos;parser.error("Duplicated partial definition")}utils_cleanup(partial.f,parser.stripComments,preserveWhitespace,!preserveWhitespace,!preserveWhitespace);partials[partial.n]=partial.f;hasPartials=true}else if(item=parser.read(READERS)){fragment.push(item)}else{parser.error("Unexpected template content")}}var result={v:TEMPLATE_VERSION,t:fragment};if(hasPartials){result.p=partials}return result}var _parse=parse;var STANDARD_READERS=[mustache_readPartial,mustache_readUnescaped,mustache_readSection,mustache_readYielder,mustache_readInterpolator,readMustacheComment];var TRIPLE_READERS=[mustache_readTriple];var STATIC_READERS=[mustache_readUnescaped,mustache_readSection,mustache_readInterpolator];var StandardParser=undefined;function parse(template,options){return new StandardParser(template,options||{}).result}var READERS=[converters_readMustache,converters_readHtmlComment,converters_readElement,converters_readText];var PARTIAL_READERS=[converters_readPartialDefinitionComment,converters_readPartialDefinitionSection];StandardParser=parse_Parser.extend({init:function(str,options){var tripleDelimiters=options.tripleDelimiters||["{{{","}}}"],staticDelimiters=options.staticDelimiters||["[[","]]"],staticTripleDelimiters=options.staticTripleDelimiters||["[[[","]]]"];this.standardDelimiters=options.delimiters||["{{","}}"];this.tags=[{isStatic:false,isTriple:false,open:this.standardDelimiters[0],close:this.standardDelimiters[1],readers:STANDARD_READERS},{isStatic:false,isTriple:true,open:tripleDelimiters[0],close:tripleDelimiters[1],readers:TRIPLE_READERS},{isStatic:true,isTriple:false,open:staticDelimiters[0],close:staticDelimiters[1],readers:STATIC_READERS},{isStatic:true,isTriple:true,open:staticTripleDelimiters[0],close:staticTripleDelimiters[1],readers:TRIPLE_READERS}];this.sortMustacheTags();this.sectionDepth=0;this.elementStack=[];this.interpolate={script:!options.interpolate||options.interpolate.script!==false,style:!options.interpolate||options.interpolate.style!==false};if(options.sanitize===true){options.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:true}}this.stripComments=options.stripComments!==false;this.preserveWhitespace=options.preserveWhitespace;this.sanitizeElements=options.sanitize&&options.sanitize.elements;this.sanitizeEventAttributes=options.sanitize&&options.sanitize.eventAttributes;this.includeLinePositions=options.includeLinePositions},postProcess:function(result){if(!result.length){return{t:[],v:TEMPLATE_VERSION}}if(this.sectionDepth>0){this.error("A section was left open")}utils_cleanup(result[0].t,this.stripComments,this.preserveWhitespace,!this.preserveWhitespace,!this.preserveWhitespace);return result[0]},converters:[converters_readTemplate],sortMustacheTags:function(){this.tags.sort(function(a,b){return b.open.length-a.open.length})}});var parseOptions=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"];var parser={fromId:fromId,isHashedId:isHashedId,isParsed:isParsed,getParseOptions:getParseOptions,createHelper:template_parser__createHelper,parse:doParse};function template_parser__createHelper(parseOptions){var helper=create(parser);helper.parse=function(template,options){return doParse(template,options||parseOptions)};return helper}function doParse(template,parseOptions){if(!_parse){throw new Error("Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser")}return _parse(template,parseOptions||this.options)}function fromId(id,options){var template;if(!isClient){if(options&&options.noThrow){return}throw new Error("Cannot retrieve template #"+id+" as Ractive is not running in a browser.")}if(isHashedId(id)){id=id.substring(1)}if(!(template=document.getElementById(id))){if(options&&options.noThrow){return}throw new Error("Could not find template element with id #"+id)}if(template.tagName.toUpperCase()!=="SCRIPT"){if(options&&options.noThrow){return}throw new Error("Template element with id #"+id+", must be a <script> element")}return"textContent"in template?template.textContent:template.innerHTML}function isHashedId(id){return id&&id[0]==="#"}function isParsed(template){return!(typeof template==="string")}function getParseOptions(ractive){if(ractive.defaults){ractive=ractive.defaults}return parseOptions.reduce(function(val,key){val[key]=ractive[key];return val},{})}var template_parser=parser;var templateConfigurator={name:"template",extend:function extend(Parent,proto,options){var template;if("template"in options){template=options.template;if(typeof template==="function"){proto.template=template}else{proto.template=parseIfString(template,proto)}}},init:function init(Parent,ractive,options){var template,fn;template="template"in options?options.template:Parent.prototype.template;if(typeof template==="function"){fn=template;template=getDynamicTemplate(ractive,fn);ractive._config.template={fn:fn,result:template}}template=parseIfString(template,ractive);ractive.template=template.t;if(template.p){extendPartials(ractive.partials,template.p)}},reset:function(ractive){var result=resetValue(ractive),parsed;if(result){parsed=parseIfString(result,ractive);ractive.template=parsed.t;extendPartials(ractive.partials,parsed.p,true);return true}}};function resetValue(ractive){var initial=ractive._config.template,result;if(!initial||!initial.fn){return}result=getDynamicTemplate(ractive,initial.fn);if(result!==initial.result){initial.result=result;result=parseIfString(result,ractive);return result}}function getDynamicTemplate(ractive,fn){var helper=template_template__createHelper(template_parser.getParseOptions(ractive));return fn.call(ractive,helper)}function template_template__createHelper(parseOptions){var helper=create(template_parser);helper.parse=function(template,options){return template_parser.parse(template,options||parseOptions)};return helper}function parseIfString(template,ractive){if(typeof template==="string"){if(template[0]==="#"){template=template_parser.fromId(template)}template=_parse(template,template_parser.getParseOptions(ractive))}else if(template==undefined){throw new Error("The template cannot be "+template+".")}else if(typeof template.v!=="number"){throw new Error("The template parser was passed a non-string template, but the template doesn't have a version.  Make sure you're passing in the template you think you are.")}else if(template.v!==TEMPLATE_VERSION){throw new Error("Mismatched template version (expected "+TEMPLATE_VERSION+", got "+template.v+") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app")}return template}function extendPartials(existingPartials,newPartials,overwrite){if(!newPartials)return;for(var key in newPartials){if(overwrite||!existingPartials.hasOwnProperty(key)){existingPartials[key]=newPartials[key]}}}var template_template=templateConfigurator;var config_registries__registryNames,Registry,registries;config_registries__registryNames=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"];Registry=function(name,useDefaults){this.name=name;this.useDefaults=useDefaults};Registry.prototype={constructor:Registry,extend:function(Parent,proto,options){this.configure(this.useDefaults?Parent.defaults:Parent,this.useDefaults?proto:proto.constructor,options)},init:function(){},configure:function(Parent,target,options){var name=this.name,option=options[name],registry;registry=create(Parent[name]);for(var key in option){registry[key]=option[key]}target[name]=registry},reset:function(ractive){var registry=ractive[this.name];var changed=false;Object.keys(registry).forEach(function(key){var item=registry[key];if(item._fn){if(item._fn.isOwner){registry[key]=item._fn}else{delete registry[key]}changed=true}});return changed}};registries=config_registries__registryNames.map(function(name){return new Registry(name,name==="computed")});var config_registries=registries;var wrapPrototype=wrap;function wrap(parent,name,method){if(!/_super/.test(method)){return method}var wrapper=function wrapSuper(){var superMethod=getSuperMethod(wrapper._parent,name),hasSuper="_super"in this,oldSuper=this._super,result;this._super=superMethod;result=method.apply(this,arguments);if(hasSuper){this._super=oldSuper}else{delete this._super}return result};wrapper._parent=parent;wrapper._method=method;return wrapper}function getSuperMethod(parent,name){var value,method;if(name in parent){value=parent[name];if(typeof value==="function"){method=value}else{method=function returnValue(){return value}}}else{method=noop}return method}var config_deprecate=deprecate;function getMessage(deprecated,correct,isError){return"options."+deprecated+" has been deprecated in favour of options."+correct+"."+(isError?" You cannot specify both options, please use options."+correct+".":"")}function deprecateOption(options,deprecatedOption,correct){if(deprecatedOption in options){if(!(correct in options)){warnIfDebug(getMessage(deprecatedOption,correct));options[correct]=options[deprecatedOption]}else{throw new Error(getMessage(deprecatedOption,correct,true))}}}function deprecate(options){deprecateOption(options,"beforeInit","onconstruct");deprecateOption(options,"init","onrender");deprecateOption(options,"complete","oncomplete");deprecateOption(options,"eventDefinitions","events");if(isArray(options.adaptors)){deprecateOption(options,"adaptors","adapt")}}var config,order,defaultKeys,custom,isBlacklisted,isStandardKey;custom={adapt:custom_adapt,css:css_css,data:custom_data,template:template_template};defaultKeys=Object.keys(config_defaults);isStandardKey=makeObj(defaultKeys.filter(function(key){return!custom[key]}));isBlacklisted=makeObj(defaultKeys.concat(config_registries.map(function(r){return r.name})));order=[].concat(defaultKeys.filter(function(key){return!config_registries[key]&&!custom[key]}),config_registries,custom.data,custom.template,custom.css);config={extend:function(Parent,proto,options){return configure("extend",Parent,proto,options)},init:function(Parent,ractive,options){return configure("init",Parent,ractive,options)},reset:function(ractive){return order.filter(function(c){return c.reset&&c.reset(ractive)}).map(function(c){return c.name})},order:order};function configure(method,Parent,target,options){config_deprecate(options);for(var key in options){if(isStandardKey.hasOwnProperty(key)){var value=options[key];if(key!=="el"&&typeof value==="function"){warnIfDebug(""+key+" is a Ractive option that does not expect a function and will be ignored",method==="init"?target:null)}else{target[key]=value}}}config_registries.forEach(function(registry){registry[method](Parent,target,options)});custom_adapt[method](Parent,target,options);template_template[method](Parent,target,options);css_css[method](Parent,target,options);extendOtherMethods(Parent.prototype,target,options)}function extendOtherMethods(parent,target,options){for(var key in options){
if(!isBlacklisted[key]&&options.hasOwnProperty(key)){var member=options[key];if(typeof member==="function"){member=wrapPrototype(parent,key,member)}target[key]=member}}}function makeObj(array){var obj={};array.forEach(function(x){return obj[x]=true});return obj}var config_config=config;var prototype_bubble=Fragment$bubble;function Fragment$bubble(){this.dirtyValue=this.dirtyArgs=true;if(this.bound&&typeof this.owner.bubble==="function"){this.owner.bubble()}}var Fragment_prototype_detach=Fragment$detach;function Fragment$detach(){var docFrag;if(this.items.length===1){return this.items[0].detach()}docFrag=document.createDocumentFragment();this.items.forEach(function(item){var node=item.detach();if(node){docFrag.appendChild(node)}});return docFrag}var Fragment_prototype_find=Fragment$find;function Fragment$find(selector){var i,len,item,queryResult;if(this.items){len=this.items.length;for(i=0;i<len;i+=1){item=this.items[i];if(item.find&&(queryResult=item.find(selector))){return queryResult}}return null}}var Fragment_prototype_findAll=Fragment$findAll;function Fragment$findAll(selector,query){var i,len,item;if(this.items){len=this.items.length;for(i=0;i<len;i+=1){item=this.items[i];if(item.findAll){item.findAll(selector,query)}}}return query}var Fragment_prototype_findAllComponents=Fragment$findAllComponents;function Fragment$findAllComponents(selector,query){var i,len,item;if(this.items){len=this.items.length;for(i=0;i<len;i+=1){item=this.items[i];if(item.findAllComponents){item.findAllComponents(selector,query)}}}return query}var Fragment_prototype_findComponent=Fragment$findComponent;function Fragment$findComponent(selector){var len,i,item,queryResult;if(this.items){len=this.items.length;for(i=0;i<len;i+=1){item=this.items[i];if(item.findComponent&&(queryResult=item.findComponent(selector))){return queryResult}}return null}}var prototype_findNextNode=Fragment$findNextNode;function Fragment$findNextNode(item){var index=item.index,node;if(this.items[index+1]){node=this.items[index+1].firstNode()}else if(this.owner===this.root){if(!this.owner.component){node=null}else{node=this.owner.component.findNextNode()}}else{node=this.owner.findNextNode(this)}return node}var prototype_firstNode=Fragment$firstNode;function Fragment$firstNode(){if(this.items&&this.items[0]){return this.items[0].firstNode()}return null}var shared_processItems=processItems;function processItems(items,values,guid,counter){counter=counter||0;return items.map(function(item){var placeholderId,wrapped,value;if(item.text){return item.text}if(item.fragments){return item.fragments.map(function(fragment){return processItems(fragment.items,values,guid,counter)}).join("")}placeholderId=guid+"-"+counter++;if(item.keypath&&(wrapped=item.root.viewmodel.wrapped[item.keypath.str])){value=wrapped.value}else{value=item.getValue()}values[placeholderId]=value;return"${"+placeholderId+"}"}).join("")}var getArgsList=Fragment$getArgsList;function Fragment$getArgsList(){var values,source,parsed,result;if(this.dirtyArgs){source=shared_processItems(this.items,values={},this.root._guid);parsed=parseJSON("["+source+"]",values);if(!parsed){result=[this.toString()]}else{result=parsed.value}this.argsList=result;this.dirtyArgs=false}return this.argsList}var getNode=Fragment$getNode;function Fragment$getNode(){var fragment=this;do{if(fragment.pElement){return fragment.pElement.node}}while(fragment=fragment.parent);return this.root.detached||this.root.el}var prototype_getValue=Fragment$getValue;function Fragment$getValue(){var values,source,parsed,result;if(this.dirtyValue){source=shared_processItems(this.items,values={},this.root._guid);parsed=parseJSON(source,values);if(!parsed){result=this.toString()}else{result=parsed.value}this.value=result;this.dirtyValue=false}return this.value}var shared_detach=function(){return detachNode(this.node)};var Text=function(options){this.type=TEXT;this.text=options.template};Text.prototype={detach:shared_detach,firstNode:function(){return this.node},render:function(){if(!this.node){this.node=document.createTextNode(this.text)}return this.node},toString:function(escape){return escape?escapeHtml(this.text):this.text},unrender:function(shouldDestroy){if(shouldDestroy){return this.detach()}}};var items_Text=Text;var shared_unbind=shared_unbind__unbind;function shared_unbind__unbind(){if(this.registered){this.root.viewmodel.unregister(this.keypath,this)}if(this.resolver){this.resolver.unbind()}}var Mustache_getValue=Mustache$getValue;function Mustache$getValue(){return this.value}var ReferenceResolver=function(owner,ref,callback){var keypath;this.ref=ref;this.resolved=false;this.root=owner.root;this.parentFragment=owner.parentFragment;this.callback=callback;keypath=shared_resolveRef(owner.root,ref,owner.parentFragment);if(keypath!=undefined){this.resolve(keypath)}else{global_runloop.addUnresolved(this)}};ReferenceResolver.prototype={resolve:function(keypath){if(this.keypath&&!keypath){global_runloop.addUnresolved(this)}this.resolved=true;this.keypath=keypath;this.callback(keypath)},forceResolution:function(){this.resolve(getKeypath(this.ref))},rebind:function(oldKeypath,newKeypath){var keypath;if(this.keypath!=undefined){keypath=this.keypath.replace(oldKeypath,newKeypath);if(keypath!==undefined){this.resolve(keypath)}}},unbind:function(){if(!this.resolved){global_runloop.removeUnresolved(this)}}};var Resolvers_ReferenceResolver=ReferenceResolver;var SpecialResolver=function(owner,ref,callback){this.parentFragment=owner.parentFragment;this.ref=ref;this.callback=callback;this.rebind()};var props={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};function getProp(target,prop){var value;for(var i=0;i<prop.prop.length;i++){if((value=target[prop.prop[i]])!==undefined){return value}}}SpecialResolver.prototype={rebind:function(){var ref=this.ref,fragment=this.parentFragment,prop=props[ref],value;if(!prop){throw new Error('Unknown special reference "'+ref+'" - valid references are @index, @key and @keypath')}if(this.cached){return this.callback(getKeypath("@"+prop.prefix+getProp(this.cached,prop)))}if(prop.prop.indexOf("index")!==-1||prop.prop.indexOf("key")!==-1){while(fragment){if(fragment.owner.currentSubtype===SECTION_EACH&&(value=getProp(fragment,prop))!==undefined){this.cached=fragment;fragment.registerIndexRef(this);return this.callback(getKeypath("@"+prop.prefix+value))}if(!fragment.parent&&fragment.owner&&fragment.owner.component&&fragment.owner.component.parentFragment&&!fragment.owner.component.instance.isolated){fragment=fragment.owner.component.parentFragment}else{fragment=fragment.parent}}}else{while(fragment){if((value=getProp(fragment,prop))!==undefined){return this.callback(getKeypath("@"+prop.prefix+value.str))}fragment=fragment.parent}}},unbind:function(){if(this.cached){this.cached.unregisterIndexRef(this)}}};var Resolvers_SpecialResolver=SpecialResolver;var IndexResolver=function(owner,ref,callback){this.parentFragment=owner.parentFragment;this.ref=ref;this.callback=callback;ref.ref.fragment.registerIndexRef(this);this.rebind()};IndexResolver.prototype={rebind:function(){var index,ref=this.ref.ref;if(ref.ref.t==="k"){index="k"+ref.fragment.key}else{index="i"+ref.fragment.index}if(index!==undefined){this.callback(getKeypath("@"+index))}},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}};var Resolvers_IndexResolver=IndexResolver;var Resolvers_findIndexRefs=findIndexRefs;function findIndexRefs(fragment,refName){var result={},refs,fragRefs,ref,i,owner,hit=false;if(!refName){result.refs=refs={}}while(fragment){if((owner=fragment.owner)&&(fragRefs=owner.indexRefs)){if(refName&&(ref=owner.getIndexRef(refName))){result.ref={fragment:fragment,ref:ref};return result}else if(!refName){for(i in fragRefs){ref=fragRefs[i];if(!refs[ref.n]){hit=true;refs[ref.n]={fragment:fragment,ref:ref}}}}}if(!fragment.parent&&fragment.owner&&fragment.owner.component&&fragment.owner.component.parentFragment&&!fragment.owner.component.instance.isolated){result.componentBoundary=true;fragment=fragment.owner.component.parentFragment}else{fragment=fragment.parent}}if(!hit){return undefined}else{return result}}findIndexRefs.resolve=function resolve(indices){var refs={},k,ref;for(k in indices.refs){ref=indices.refs[k];refs[ref.ref.n]=ref.ref.t==="k"?ref.fragment.key:ref.fragment.index}return refs};var Resolvers_createReferenceResolver=createReferenceResolver;function createReferenceResolver(owner,ref,callback){var indexRef;if(ref.charAt(0)==="@"){return new Resolvers_SpecialResolver(owner,ref,callback)}if(indexRef=Resolvers_findIndexRefs(owner.parentFragment,ref)){return new Resolvers_IndexResolver(owner,indexRef,callback)}return new Resolvers_ReferenceResolver(owner,ref,callback)}var shared_getFunctionFromString=getFunctionFromString;var cache={};function getFunctionFromString(str,i){var fn,args;if(cache[str]){return cache[str]}args=[];while(i--){args[i]="_"+i}fn=new Function(args.join(","),"return("+str+")");cache[str]=fn;return fn}var ExpressionResolver,Resolvers_ExpressionResolver__bind=Function.prototype.bind;ExpressionResolver=function(owner,parentFragment,expression,callback){var _this=this;var ractive;ractive=owner.root;this.root=ractive;this.parentFragment=parentFragment;this.callback=callback;this.owner=owner;this.str=expression.s;this.keypaths=[];this.pending=expression.r.length;this.refResolvers=expression.r.map(function(ref,i){return Resolvers_createReferenceResolver(_this,ref,function(keypath){_this.resolve(i,keypath)})});this.ready=true;this.bubble()};ExpressionResolver.prototype={bubble:function(){if(!this.ready){return}this.uniqueString=getUniqueString(this.str,this.keypaths);this.keypath=createExpressionKeypath(this.uniqueString);this.createEvaluator();this.callback(this.keypath)},unbind:function(){var resolver;while(resolver=this.refResolvers.pop()){resolver.unbind()}},resolve:function(index,keypath){this.keypaths[index]=keypath;this.bubble()},createEvaluator:function(){var _this=this;var computation,valueGetters,signature,keypath,fn;keypath=this.keypath;computation=this.root.viewmodel.computations[keypath.str];if(!computation){fn=shared_getFunctionFromString(this.str,this.refResolvers.length);valueGetters=this.keypaths.map(function(keypath){var value;if(keypath==="undefined"){return function(){return undefined}}if(keypath.isSpecial){value=keypath.value;return function(){return value}}return function(){var value=_this.root.viewmodel.get(keypath,{noUnwrap:true,fullRootGet:true});if(typeof value==="function"){value=wrapFunction(value,_this.root)}return value}});signature={deps:this.keypaths.filter(isValidDependency),getter:function(){var args=valueGetters.map(call);return fn.apply(null,args)}};computation=this.root.viewmodel.compute(keypath,signature)}else{this.root.viewmodel.mark(keypath)}},rebind:function(oldKeypath,newKeypath){this.refResolvers.forEach(function(r){return r.rebind(oldKeypath,newKeypath)})}};var Resolvers_ExpressionResolver=ExpressionResolver;function call(value){return value.call()}function getUniqueString(str,keypaths){return str.replace(/_([0-9]+)/g,function(match,$1){var keypath,value;if(+$1>=keypaths.length){return"_"+$1}keypath=keypaths[$1];if(keypath===undefined){return"undefined"}if(keypath.isSpecial){value=keypath.value;return typeof value==="number"?value:'"'+value+'"'}return keypath.str})}function createExpressionKeypath(uniqueString){return getKeypath("${"+uniqueString.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}")}function isValidDependency(keypath){return keypath!==undefined&&keypath[0]!=="@"}function wrapFunction(fn,ractive){var wrapped,prop,key;if(fn.__ractive_nowrap){return fn}prop="__ractive_"+ractive._guid;wrapped=fn[prop];if(wrapped){return wrapped}else if(/this/.test(fn.toString())){defineProperty(fn,prop,{value:Resolvers_ExpressionResolver__bind.call(fn,ractive),configurable:true});for(key in fn){if(fn.hasOwnProperty(key)){fn[prop][key]=fn[key]}}ractive._boundFunctions.push({fn:fn,prop:prop});return fn[prop]}defineProperty(fn,"__ractive_nowrap",{value:fn});return fn.__ractive_nowrap}var MemberResolver=function(template,resolver,parentFragment){var _this=this;this.resolver=resolver;this.root=resolver.root;this.parentFragment=parentFragment;this.viewmodel=resolver.root.viewmodel;if(typeof template==="string"){this.value=template}else if(template.t===REFERENCE){this.refResolver=Resolvers_createReferenceResolver(this,template.n,function(keypath){_this.resolve(keypath)})}else{new Resolvers_ExpressionResolver(resolver,parentFragment,template,function(keypath){_this.resolve(keypath)})}};MemberResolver.prototype={resolve:function(keypath){if(this.keypath){this.viewmodel.unregister(this.keypath,this)}this.keypath=keypath;this.value=this.viewmodel.get(keypath);this.bind();this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(oldKeypath,newKeypath){if(this.refResolver){this.refResolver.rebind(oldKeypath,newKeypath)}},setValue:function(value){this.value=value;this.resolver.bubble()},unbind:function(){if(this.keypath){this.viewmodel.unregister(this.keypath,this)}if(this.refResolver){this.refResolver.unbind()}},forceResolution:function(){if(this.refResolver){this.refResolver.forceResolution()}}};var ReferenceExpressionResolver_MemberResolver=MemberResolver;var ReferenceExpressionResolver=function(mustache,template,callback){var _this=this;var ractive,ref,keypath,parentFragment;this.parentFragment=parentFragment=mustache.parentFragment;this.root=ractive=mustache.root;this.mustache=mustache;this.ref=ref=template.r;this.callback=callback;this.unresolved=[];if(keypath=shared_resolveRef(ractive,ref,parentFragment)){this.base=keypath}else{this.baseResolver=new Resolvers_ReferenceResolver(this,ref,function(keypath){_this.base=keypath;_this.baseResolver=null;_this.bubble()})}this.members=template.m.map(function(template){return new ReferenceExpressionResolver_MemberResolver(template,_this,parentFragment)});this.ready=true;this.bubble()};ReferenceExpressionResolver.prototype={getKeypath:function(){var values=this.members.map(ReferenceExpressionResolver_ReferenceExpressionResolver__getValue);if(!values.every(isDefined)||this.baseResolver){return null}return this.base.join(values.join("."))},bubble:function(){if(!this.ready||this.baseResolver){return}this.callback(this.getKeypath())},unbind:function(){this.members.forEach(methodCallers__unbind)},rebind:function(oldKeypath,newKeypath){var changed;if(this.base){var newBase=this.base.replace(oldKeypath,newKeypath);if(newBase&&newBase!==this.base){this.base=newBase;changed=true}}this.members.forEach(function(members){if(members.rebind(oldKeypath,newKeypath)){changed=true}});if(changed){this.bubble()}},forceResolution:function(){if(this.baseResolver){this.base=getKeypath(this.ref);this.baseResolver.unbind();this.baseResolver=null}this.members.forEach(forceResolution);this.bubble()}};function ReferenceExpressionResolver_ReferenceExpressionResolver__getValue(member){return member.value}function isDefined(value){return value!=undefined}function forceResolution(member){member.forceResolution()}var ReferenceExpressionResolver_ReferenceExpressionResolver=ReferenceExpressionResolver;var Mustache_initialise=Mustache$init;function Mustache$init(mustache,options){var ref,parentFragment,template;parentFragment=options.parentFragment;template=options.template;mustache.root=parentFragment.root;mustache.parentFragment=parentFragment;mustache.pElement=parentFragment.pElement;mustache.template=options.template;mustache.index=options.index||0;mustache.isStatic=options.template.s;mustache.type=options.template.t;mustache.registered=false;if(ref=template.r){mustache.resolver=Resolvers_createReferenceResolver(mustache,ref,resolve)}if(options.template.x){mustache.resolver=new Resolvers_ExpressionResolver(mustache,parentFragment,options.template.x,resolveAndRebindChildren)}if(options.template.rx){mustache.resolver=new ReferenceExpressionResolver_ReferenceExpressionResolver(mustache,options.template.rx,resolveAndRebindChildren)}if(mustache.template.n===SECTION_UNLESS&&!mustache.hasOwnProperty("value")){mustache.setValue(undefined)}function resolve(keypath){mustache.resolve(keypath)}function resolveAndRebindChildren(newKeypath){var oldKeypath=mustache.keypath;if(newKeypath!=oldKeypath){mustache.resolve(newKeypath);if(oldKeypath!==undefined){mustache.fragments&&mustache.fragments.forEach(function(f){f.rebind(oldKeypath,newKeypath)})}}}}var Mustache_resolve=Mustache$resolve;function Mustache$resolve(keypath){var wasResolved,value,twowayBinding;if(keypath&&keypath.isSpecial){this.keypath=keypath;this.setValue(keypath.value);return}if(this.registered){this.root.viewmodel.unregister(this.keypath,this);this.registered=false;wasResolved=true}this.keypath=keypath;if(keypath!=undefined){value=this.root.viewmodel.get(keypath);this.root.viewmodel.register(keypath,this);this.registered=true}this.setValue(value);if(wasResolved&&(twowayBinding=this.twowayBinding)){twowayBinding.rebound()}}var Mustache_rebind=Mustache$rebind;function Mustache$rebind(oldKeypath,newKeypath){if(this.fragments){this.fragments.forEach(function(f){return f.rebind(oldKeypath,newKeypath)})}if(this.resolver){this.resolver.rebind(oldKeypath,newKeypath)}}var Mustache={getValue:Mustache_getValue,init:Mustache_initialise,resolve:Mustache_resolve,rebind:Mustache_rebind};var Interpolator=function(options){this.type=INTERPOLATOR;Mustache.init(this,options)};Interpolator.prototype={update:function(){this.node.data=this.value==undefined?"":this.value},resolve:Mustache.resolve,rebind:Mustache.rebind,detach:shared_detach,unbind:shared_unbind,render:function(){if(!this.node){this.node=document.createTextNode(safeToStringValue(this.value))}return this.node},unrender:function(shouldDestroy){if(shouldDestroy){detachNode(this.node)}},getValue:Mustache.getValue,setValue:function(value){var wrapper;if(this.keypath&&(wrapper=this.root.viewmodel.wrapped[this.keypath.str])){value=wrapper.get()}if(!isEqual(value,this.value)){this.value=value;this.parentFragment.bubble();if(this.node){global_runloop.addView(this)}}},firstNode:function(){return this.node},toString:function(escape){var string=""+safeToStringValue(this.value);return escape?escapeHtml(string):string}};var items_Interpolator=Interpolator;var Section_prototype_bubble=Section$bubble;function Section$bubble(){this.parentFragment.bubble()}var Section_prototype_detach=Section$detach;function Section$detach(){var docFrag;if(this.fragments.length===1){return this.fragments[0].detach()}docFrag=document.createDocumentFragment();this.fragments.forEach(function(item){docFrag.appendChild(item.detach())});return docFrag}var find=Section$find;function Section$find(selector){var i,len,queryResult;len=this.fragments.length;for(i=0;i<len;i+=1){if(queryResult=this.fragments[i].find(selector)){return queryResult}}return null}var findAll=Section$findAll;function Section$findAll(selector,query){var i,len;len=this.fragments.length;for(i=0;i<len;i+=1){this.fragments[i].findAll(selector,query)}}var findAllComponents=Section$findAllComponents;function Section$findAllComponents(selector,query){var i,len;len=this.fragments.length;for(i=0;i<len;i+=1){this.fragments[i].findAllComponents(selector,query)}}var findComponent=Section$findComponent;function Section$findComponent(selector){var i,len,queryResult;len=this.fragments.length;for(i=0;i<len;i+=1){if(queryResult=this.fragments[i].findComponent(selector)){return queryResult}}return null}var findNextNode=Section$findNextNode;function Section$findNextNode(fragment){if(this.fragments[fragment.index+1]){return this.fragments[fragment.index+1].firstNode()}return this.parentFragment.findNextNode(this)}var firstNode=Section$firstNode;function Section$firstNode(){var len,i,node;if(len=this.fragments.length){for(i=0;i<len;i+=1){if(node=this.fragments[i].firstNode()){return node}}}return this.parentFragment.findNextNode(this)}var shuffle=Section$shuffle;function Section$shuffle(newIndices){var _this=this;var parentFragment,firstChange,i,newLength,reboundFragments,fragmentOptions,fragment;if(this.shuffling||this.unbound||this.currentSubtype!==SECTION_EACH){return}this.shuffling=true;global_runloop.scheduleTask(function(){return _this.shuffling=false});parentFragment=this.parentFragment;reboundFragments=[];newIndices.forEach(function(newIndex,oldIndex){var fragment,by,oldKeypath,newKeypath,deps;if(newIndex===oldIndex){reboundFragments[newIndex]=_this.fragments[oldIndex];return}fragment=_this.fragments[oldIndex];if(firstChange===undefined){firstChange=oldIndex}if(newIndex===-1){_this.fragmentsToUnrender.push(fragment);fragment.unbind();return}by=newIndex-oldIndex;oldKeypath=_this.keypath.join(oldIndex);newKeypath=_this.keypath.join(newIndex);fragment.index=newIndex;if(deps=fragment.registeredIndexRefs){deps.forEach(shuffle__blindRebind)}fragment.rebind(oldKeypath,newKeypath);reboundFragments[newIndex]=fragment});newLength=this.root.viewmodel.get(this.keypath).length;if(firstChange===undefined){if(this.length===newLength){return}firstChange=this.length}this.length=this.fragments.length=newLength;if(this.rendered){global_runloop.addView(this)}fragmentOptions={template:this.template.f,root:this.root,owner:this};for(i=firstChange;i<newLength;i+=1){fragment=reboundFragments[i];if(!fragment){this.fragmentsToCreate.push(i)}this.fragments[i]=fragment}}function shuffle__blindRebind(dep){dep.rebind("","")}var prototype_rebind=function(oldKeypath,newKeypath){Mustache.rebind.call(this,oldKeypath,newKeypath)};var Section_prototype_render=Section$render;function Section$render(){var _this=this;this.docFrag=document.createDocumentFragment();this.fragments.forEach(function(f){return _this.docFrag.appendChild(f.render())});this.renderedFragments=this.fragments.slice();this.fragmentsToRender=[];this.rendered=true;return this.docFrag}var setValue=Section$setValue;function Section$setValue(value){var _this=this;var wrapper,fragmentOptions;if(this.updating){return}this.updating=true;if(this.keypath&&(wrapper=this.root.viewmodel.wrapped[this.keypath.str])){value=wrapper.get()}if(this.fragmentsToCreate.length){fragmentOptions={template:this.template.f||[],root:this.root,pElement:this.pElement,owner:this};this.fragmentsToCreate.forEach(function(index){var fragment;fragmentOptions.context=_this.keypath.join(index);fragmentOptions.index=index;fragment=new virtualdom_Fragment(fragmentOptions);_this.fragmentsToRender.push(_this.fragments[index]=fragment)});this.fragmentsToCreate.length=0}else if(reevaluateSection(this,value)){this.bubble();if(this.rendered){global_runloop.addView(this)}}this.value=value;this.updating=false}function changeCurrentSubtype(section,value,obj){if(value===SECTION_EACH){if(section.indexRefs&&section.indexRefs[0]){var ref=section.indexRefs[0];if(obj&&ref.t==="i"||!obj&&ref.t==="k"){if(!obj){section.length=0;section.fragmentsToUnrender=section.fragments.slice(0);section.fragmentsToUnrender.forEach(function(f){return f.unbind()})}}ref.t=obj?"k":"i"}}section.currentSubtype=value}function reevaluateSection(section,value){var fragmentOptions={template:section.template.f||[],root:section.root,pElement:section.parentFragment.pElement,owner:section};section.hasContext=true;if(section.subtype){switch(section.subtype){case SECTION_IF:section.hasContext=false;return reevaluateConditionalSection(section,value,false,fragmentOptions);case SECTION_UNLESS:section.hasContext=false;return reevaluateConditionalSection(section,value,true,fragmentOptions);case SECTION_WITH:return reevaluateContextSection(section,fragmentOptions);case SECTION_IF_WITH:return reevaluateConditionalContextSection(section,value,fragmentOptions);case SECTION_EACH:if(isObject(value)){changeCurrentSubtype(section,section.subtype,true);return reevaluateListObjectSection(section,value,fragmentOptions)}}}section.ordered=!!isArrayLike(value);if(section.ordered){changeCurrentSubtype(section,SECTION_EACH,false);return reevaluateListSection(section,value,fragmentOptions)}if(isObject(value)||typeof value==="function"){if(section.template.i){changeCurrentSubtype(section,SECTION_EACH,true);return reevaluateListObjectSection(section,value,fragmentOptions)}changeCurrentSubtype(section,SECTION_WITH,false);return reevaluateContextSection(section,fragmentOptions)}changeCurrentSubtype(section,SECTION_IF,false);section.hasContext=false;return reevaluateConditionalSection(section,value,false,fragmentOptions)}function reevaluateListSection(section,value,fragmentOptions){var i,length,fragment;length=value.length;if(length===section.length){return false}if(length<section.length){section.fragmentsToUnrender=section.fragments.splice(length,section.length-length);section.fragmentsToUnrender.forEach(methodCallers__unbind)}else{if(length>section.length){for(i=section.length;i<length;i+=1){fragmentOptions.context=section.keypath.join(i);fragmentOptions.index=i;fragment=new virtualdom_Fragment(fragmentOptions);section.fragmentsToRender.push(section.fragments[i]=fragment)}}}section.length=length;return true}function reevaluateListObjectSection(section,value,fragmentOptions){var id,i,hasKey,fragment,changed,deps;hasKey=section.hasKey||(section.hasKey={});i=section.fragments.length;while(i--){fragment=section.fragments[i];if(!(fragment.key in value)){changed=true;fragment.unbind();section.fragmentsToUnrender.push(fragment);section.fragments.splice(i,1);hasKey[fragment.key]=false}}i=section.fragments.length;while(i--){fragment=section.fragments[i];if(fragment.index!==i){fragment.index=i;if(deps=fragment.registeredIndexRefs){deps.forEach(setValue__blindRebind)}}}i=section.fragments.length;for(id in value){if(!hasKey[id]){changed=true;fragmentOptions.context=section.keypath.join(id);fragmentOptions.key=id;fragmentOptions.index=i++;fragment=new virtualdom_Fragment(fragmentOptions);section.fragmentsToRender.push(fragment);section.fragments.push(fragment);hasKey[id]=true}}section.length=section.fragments.length;return changed}function reevaluateConditionalContextSection(section,value,fragmentOptions){if(value){return reevaluateContextSection(section,fragmentOptions)}else{return removeSectionFragments(section)}}function reevaluateContextSection(section,fragmentOptions){var fragment;if(!section.length){fragmentOptions.context=section.keypath;fragmentOptions.index=0;fragment=new virtualdom_Fragment(fragmentOptions);section.fragmentsToRender.push(section.fragments[0]=fragment);section.length=1;return true}}function reevaluateConditionalSection(section,value,inverted,fragmentOptions){var doRender,emptyArray,emptyObject,fragment,name;emptyArray=isArrayLike(value)&&value.length===0;emptyObject=false;if(!isArrayLike(value)&&isObject(value)){emptyObject=true;for(name in value){emptyObject=false;break}}if(inverted){doRender=emptyArray||emptyObject||!value}else{doRender=value&&!emptyArray&&!emptyObject}if(doRender){if(!section.length){fragmentOptions.index=0;fragment=new virtualdom_Fragment(fragmentOptions);section.fragmentsToRender.push(section.fragments[0]=fragment);section.length=1;return true}if(section.length>1){section.fragmentsToUnrender=section.fragments.splice(1);section.fragmentsToUnrender.forEach(methodCallers__unbind);return true}}else{return removeSectionFragments(section)}}function removeSectionFragments(section){if(section.length){section.fragmentsToUnrender=section.fragments.splice(0,section.fragments.length).filter(isRendered);section.fragmentsToUnrender.forEach(methodCallers__unbind);section.length=section.fragmentsToRender.length=0;return true}}function isRendered(fragment){return fragment.rendered}function setValue__blindRebind(dep){dep.rebind("","")}var prototype_toString=Section$toString;function Section$toString(escape){var str,i,len;str="";i=0;len=this.length;for(i=0;i<len;i+=1){str+=this.fragments[i].toString(escape)}return str}var prototype_unbind=Section$unbind;function Section$unbind(){var _this=this;this.fragments.forEach(methodCallers__unbind);this.fragmentsToRender.forEach(function(f){return removeFromArray(_this.fragments,f)});this.fragmentsToRender=[];shared_unbind.call(this);this.length=0;this.unbound=true}var prototype_unrender=Section$unrender;function Section$unrender(shouldDestroy){this.fragments.forEach(shouldDestroy?unrenderAndDestroy:prototype_unrender__unrender);this.renderedFragments=[];this.rendered=false}function unrenderAndDestroy(fragment){fragment.unrender(true)}function prototype_unrender__unrender(fragment){fragment.unrender(false)}var prototype_update=Section$update;function Section$update(){var fragment,renderIndex,renderedFragments,anchor,target,i,len;renderedFragments=this.renderedFragments;while(fragment=this.fragmentsToUnrender.pop()){fragment.unrender(true);renderedFragments.splice(renderedFragments.indexOf(fragment),1)}while(fragment=this.fragmentsToRender.shift()){fragment.render()}if(this.rendered){target=this.parentFragment.getNode()}len=this.fragments.length;for(i=0;i<len;i+=1){fragment=this.fragments[i];renderIndex=renderedFragments.indexOf(fragment,i);if(renderIndex===i){if(this.docFrag.childNodes.length){anchor=fragment.firstNode();target.insertBefore(this.docFrag,anchor)}continue}this.docFrag.appendChild(fragment.detach());if(renderIndex!==-1){renderedFragments.splice(renderIndex,1)}renderedFragments.splice(i,0,fragment)}if(this.rendered&&this.docFrag.childNodes.length){anchor=this.parentFragment.findNextNode(this);target.insertBefore(this.docFrag,anchor)}this.renderedFragments=this.fragments.slice()}var Section=function(options){this.type=SECTION;this.subtype=this.currentSubtype=options.template.n;this.inverted=this.subtype===SECTION_UNLESS;this.pElement=options.pElement;this.fragments=[];this.fragmentsToCreate=[];this.fragmentsToRender=[];this.fragmentsToUnrender=[];if(options.template.i){this.indexRefs=options.template.i.split(",").map(function(k,i){return{n:k,t:i===0?"k":"i"}})}this.renderedFragments=[];this.length=0;Mustache.init(this,options)};Section.prototype={bubble:Section_prototype_bubble,detach:Section_prototype_detach,find:find,findAll:findAll,findAllComponents:findAllComponents,findComponent:findComponent,findNextNode:findNextNode,firstNode:firstNode,getIndexRef:function(name){if(this.indexRefs){var i=this.indexRefs.length;while(i--){var ref=this.indexRefs[i];if(ref.n===name){return ref}}}},getValue:Mustache.getValue,shuffle:shuffle,rebind:prototype_rebind,render:Section_prototype_render,resolve:Mustache.resolve,setValue:setValue,toString:prototype_toString,unbind:prototype_unbind,unrender:prototype_unrender,update:prototype_update};var _Section=Section;var Triple_prototype_detach=Triple$detach;function Triple$detach(){var len,i;if(this.docFrag){len=this.nodes.length;for(i=0;i<len;i+=1){this.docFrag.appendChild(this.nodes[i])}return this.docFrag}}var Triple_prototype_find=Triple$find;function Triple$find(selector){var i,len,node,queryResult;len=this.nodes.length;for(i=0;i<len;i+=1){node=this.nodes[i];if(node.nodeType!==1){continue}if(matches(node,selector)){return node}if(queryResult=node.querySelector(selector)){return queryResult}}return null}var Triple_prototype_findAll=Triple$findAll;function Triple$findAll(selector,queryResult){var i,len,node,queryAllResult,numNodes,j;len=this.nodes.length;for(i=0;i<len;i+=1){node=this.nodes[i];if(node.nodeType!==1){continue}if(matches(node,selector)){queryResult.push(node)}if(queryAllResult=node.querySelectorAll(selector)){numNodes=queryAllResult.length;for(j=0;j<numNodes;j+=1){queryResult.push(queryAllResult[j])}}}}var Triple_prototype_firstNode=Triple$firstNode;function Triple$firstNode(){if(this.rendered&&this.nodes[0]){return this.nodes[0]}return this.parentFragment.findNextNode(this)}var elementCache={},ieBug,ieBlacklist;try{createElement("table").innerHTML="foo"}catch(err){ieBug=true;ieBlacklist={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],
SELECT:['<select class="x">',"</select>"]}}var insertHtml=function(html,node,docFrag){var container,nodes=[],wrapper,selectedOption,child,i;if(html!=null&&html!==""){if(ieBug&&(wrapper=ieBlacklist[node.tagName])){container=element("DIV");container.innerHTML=wrapper[0]+html+wrapper[1];container=container.querySelector(".x");if(container.tagName==="SELECT"){selectedOption=container.options[container.selectedIndex]}}else if(node.namespaceURI===namespaces.svg){container=element("DIV");container.innerHTML='<svg class="x">'+html+"</svg>";container=container.querySelector(".x")}else{container=element(node.tagName);container.innerHTML=html;if(container.tagName==="SELECT"){selectedOption=container.options[container.selectedIndex]}}while(child=container.firstChild){nodes.push(child);docFrag.appendChild(child)}if(node.tagName==="SELECT"){i=nodes.length;while(i--){if(nodes[i]!==selectedOption){nodes[i].selected=false}}}}return nodes};function element(tagName){return elementCache[tagName]||(elementCache[tagName]=createElement(tagName))}var helpers_updateSelect=updateSelect;function updateSelect(parentElement){var selectedOptions,option,value;if(!parentElement||parentElement.name!=="select"||!parentElement.binding){return}selectedOptions=toArray(parentElement.node.options).filter(isSelected);if(parentElement.getAttribute("multiple")){value=selectedOptions.map(function(o){return o.value})}else if(option=selectedOptions[0]){value=option.value}if(value!==undefined){parentElement.binding.setValue(value)}parentElement.bubble()}function isSelected(option){return option.selected}var Triple_prototype_render=Triple$render;function Triple$render(){if(this.rendered){throw new Error("Attempted to render an item that was already rendered")}this.docFrag=document.createDocumentFragment();this.nodes=insertHtml(this.value,this.parentFragment.getNode(),this.docFrag);helpers_updateSelect(this.pElement);this.rendered=true;return this.docFrag}var prototype_setValue=Triple$setValue;function Triple$setValue(value){var wrapper;if(wrapper=this.root.viewmodel.wrapped[this.keypath.str]){value=wrapper.get()}if(value!==this.value){this.value=value;this.parentFragment.bubble();if(this.rendered){global_runloop.addView(this)}}}var Triple_prototype_toString=Triple$toString;function Triple$toString(){return this.value!=undefined?decodeCharacterReferences(""+this.value):""}var Triple_prototype_unrender=Triple$unrender;function Triple$unrender(shouldDestroy){if(this.rendered&&shouldDestroy){this.nodes.forEach(detachNode);this.rendered=false}}var Triple_prototype_update=Triple$update;function Triple$update(){var node,parentNode;if(!this.rendered){return}while(this.nodes&&this.nodes.length){node=this.nodes.pop();node.parentNode.removeChild(node)}parentNode=this.parentFragment.getNode();this.nodes=insertHtml(this.value,parentNode,this.docFrag);parentNode.insertBefore(this.docFrag,this.parentFragment.findNextNode(this));helpers_updateSelect(this.pElement)}var Triple=function(options){this.type=TRIPLE;Mustache.init(this,options)};Triple.prototype={detach:Triple_prototype_detach,find:Triple_prototype_find,findAll:Triple_prototype_findAll,firstNode:Triple_prototype_firstNode,getValue:Mustache.getValue,rebind:Mustache.rebind,render:Triple_prototype_render,resolve:Mustache.resolve,setValue:prototype_setValue,toString:Triple_prototype_toString,unbind:shared_unbind,unrender:Triple_prototype_unrender,update:Triple_prototype_update};var _Triple=Triple;var Element_prototype_bubble=function(){this.parentFragment.bubble()};var Element_prototype_detach=Element$detach;function Element$detach(){var node=this.node,parentNode;if(node){if(parentNode=node.parentNode){parentNode.removeChild(node)}return node}}var Element_prototype_find=function(selector){if(!this.node){return null}if(matches(this.node,selector)){return this.node}if(this.fragment&&this.fragment.find){return this.fragment.find(selector)}};var Element_prototype_findAll=function(selector,query){if(query._test(this,true)&&query.live){(this.liveQueries||(this.liveQueries=[])).push(query)}if(this.fragment){this.fragment.findAll(selector,query)}};var Element_prototype_findAllComponents=function(selector,query){if(this.fragment){this.fragment.findAllComponents(selector,query)}};var Element_prototype_findComponent=function(selector){if(this.fragment){return this.fragment.findComponent(selector)}};var Element_prototype_findNextNode=Element$findNextNode;function Element$findNextNode(){return null}var Element_prototype_firstNode=Element$firstNode;function Element$firstNode(){return this.node}var getAttribute=Element$getAttribute;function Element$getAttribute(name){if(!this.attributes||!this.attributes[name]){return}return this.attributes[name].value}var truthy=/^true|on|yes|1$/i;var processBindingAttributes__isNumeric=/^[0-9]+$/;var processBindingAttributes=function(element,template){var val,attrs,attributes;attributes=template.a||{};attrs={};val=attributes.twoway;if(val!==undefined){attrs.twoway=val===0||truthy.test(val)}val=attributes.lazy;if(val!==undefined){if(val!==0&&processBindingAttributes__isNumeric.test(val)){attrs.lazy=parseInt(val)}else{attrs.lazy=val===0||truthy.test(val)}}return attrs};var Attribute_prototype_bubble=Attribute$bubble;function Attribute$bubble(){var value=this.useProperty||!this.rendered?this.fragment.getValue():this.fragment.toString();if(!isEqual(value,this.value)){if(this.name==="id"&&this.value){delete this.root.nodes[this.value]}this.value=value;if(this.name==="value"&&this.node){this.node._ractive.value=value}if(this.rendered){global_runloop.addView(this)}}}var svgCamelCaseElements,svgCamelCaseAttributes,createMap,map;svgCamelCaseElements="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" ");svgCamelCaseAttributes="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" ");createMap=function(items){var map={},i=items.length;while(i--){map[items[i].toLowerCase()]=items[i]}return map};map=createMap(svgCamelCaseElements.concat(svgCamelCaseAttributes));var enforceCase=function(elementName){var lowerCaseElementName=elementName.toLowerCase();return map[lowerCaseElementName]||lowerCaseElementName};var determineNameAndNamespace=function(attribute,name){var colonIndex,namespacePrefix;colonIndex=name.indexOf(":");if(colonIndex!==-1){namespacePrefix=name.substr(0,colonIndex);if(namespacePrefix!=="xmlns"){name=name.substring(colonIndex+1);attribute.name=enforceCase(name);attribute.namespace=namespaces[namespacePrefix.toLowerCase()];attribute.namespacePrefix=namespacePrefix;if(!attribute.namespace){throw'Unknown namespace ("'+namespacePrefix+'")'}return}}attribute.name=attribute.element.namespace!==namespaces.html?enforceCase(name):name};var helpers_getInterpolator=getInterpolator;function getInterpolator(attribute){var items=attribute.fragment.items;if(items.length!==1){return}if(items[0].type===INTERPOLATOR){return items[0]}}var prototype_init=Attribute$init;function Attribute$init(options){this.type=ATTRIBUTE;this.element=options.element;this.root=options.root;determineNameAndNamespace(this,options.name);this.isBoolean=booleanAttributes.test(this.name);if(!options.value||typeof options.value==="string"){this.value=this.isBoolean?true:options.value||"";return}this.parentFragment=this.element.parentFragment;this.fragment=new virtualdom_Fragment({template:options.value,root:this.root,owner:this});this.value=this.fragment.getValue();this.interpolator=helpers_getInterpolator(this);this.isBindable=!!this.interpolator&&!this.interpolator.isStatic;this.ready=true}var Attribute_prototype_rebind=Attribute$rebind;function Attribute$rebind(oldKeypath,newKeypath){if(this.fragment){this.fragment.rebind(oldKeypath,newKeypath)}}var Attribute_prototype_render=Attribute$render;var propertyNames={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor",class:"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName",for:"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};function Attribute$render(node){var propertyName;this.node=node;if(!node.namespaceURI||node.namespaceURI===namespaces.html){propertyName=propertyNames[this.name]||this.name;if(node[propertyName]!==undefined){this.propertyName=propertyName}if(this.isBoolean||this.isTwoway){this.useProperty=true}if(propertyName==="value"){node._ractive.value=this.value}}this.rendered=true;this.update()}var Attribute_prototype_toString=Attribute$toString;function Attribute$toString(){var _ref=this;var name=_ref.name;var namespacePrefix=_ref.namespacePrefix;var value=_ref.value;var interpolator=_ref.interpolator;var fragment=_ref.fragment;if(name==="value"&&(this.element.name==="select"||this.element.name==="textarea")){return}if(name==="value"&&this.element.getAttribute("contenteditable")!==undefined){return}if(name==="name"&&this.element.name==="input"&&interpolator){return"name={{"+(interpolator.keypath.str||interpolator.ref)+"}}"}if(this.isBoolean){return value?name:""}if(fragment){if(fragment.items.length===1&&fragment.items[0].value==null){return""}value=fragment.toString()}if(namespacePrefix){name=namespacePrefix+":"+name}return value?name+'="'+Attribute_prototype_toString__escape(value)+'"':name}function Attribute_prototype_toString__escape(value){return value.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var Attribute_prototype_unbind=Attribute$unbind;function Attribute$unbind(){if(this.fragment){this.fragment.unbind()}if(this.name==="id"){delete this.root.nodes[this.value]}}var updateSelectValue=Attribute$updateSelect;function Attribute$updateSelect(){var value=this.value,options,option,optionValue,i;if(!this.locked){this.node._ractive.value=value;options=this.node.options;i=options.length;while(i--){option=options[i];optionValue=option._ractive?option._ractive.value:option.value;if(optionValue==value){option.selected=true;break}}}}var updateMultipleSelectValue=Attribute$updateMultipleSelect;function Attribute$updateMultipleSelect(){var value=this.value,options,i,option,optionValue;if(!isArray(value)){value=[value]}options=this.node.options;i=options.length;while(i--){option=options[i];optionValue=option._ractive?option._ractive.value:option.value;option.selected=arrayContains(value,optionValue)}}var updateRadioName=Attribute$updateRadioName;function Attribute$updateRadioName(){var _ref=this;var node=_ref.node;var value=_ref.value;node.checked=value==node._ractive.value}var updateRadioValue=Attribute$updateRadioValue;function Attribute$updateRadioValue(){var wasChecked,node=this.node,binding,bindings,i;wasChecked=node.checked;node.value=this.element.getAttribute("value");node.checked=this.element.getAttribute("value")===this.element.getAttribute("name");if(wasChecked&&!node.checked&&this.element.binding){bindings=this.element.binding.siblings;if(i=bindings.length){while(i--){binding=bindings[i];if(!binding.element.node){return}if(binding.element.node.checked){global_runloop.addRactive(binding.root);return binding.handleChange()}}this.root.viewmodel.set(binding.keypath,undefined)}}}var updateCheckboxName=Attribute$updateCheckboxName;function Attribute$updateCheckboxName(){var _ref=this;var element=_ref.element;var node=_ref.node;var value=_ref.value;var binding=element.binding;var valueAttribute;var i;valueAttribute=element.getAttribute("value");if(!isArray(value)){binding.isChecked=node.checked=value==valueAttribute}else{i=value.length;while(i--){if(valueAttribute==value[i]){binding.isChecked=node.checked=true;return}}binding.isChecked=node.checked=false}}var updateClassName=Attribute$updateClassName;function Attribute$updateClassName(){this.node.className=safeToStringValue(this.value)}var updateIdAttribute=Attribute$updateIdAttribute;function Attribute$updateIdAttribute(){var _ref=this;var node=_ref.node;var value=_ref.value;this.root.nodes[value]=node;node.id=value}var updateIEStyleAttribute=Attribute$updateIEStyleAttribute;function Attribute$updateIEStyleAttribute(){var node,value;node=this.node;value=this.value;if(value===undefined){value=""}node.style.setAttribute("cssText",value)}var updateContentEditableValue=Attribute$updateContentEditableValue;function Attribute$updateContentEditableValue(){var value=this.value;if(value===undefined){value=""}if(!this.locked){this.node.innerHTML=value}}var updateValue=Attribute$updateValue;function Attribute$updateValue(){var _ref=this;var node=_ref.node;var value=_ref.value;node._ractive.value=value;if(!this.locked){node.value=value==undefined?"":value}}var updateBoolean=Attribute$updateBooleanAttribute;function Attribute$updateBooleanAttribute(){if(!this.locked){this.node[this.propertyName]=this.value}}var updateEverythingElse=Attribute$updateEverythingElse;function Attribute$updateEverythingElse(){var _ref=this;var node=_ref.node;var namespace=_ref.namespace;var name=_ref.name;var value=_ref.value;var fragment=_ref.fragment;if(namespace){node.setAttributeNS(namespace,name,(fragment||value).toString())}else if(!this.isBoolean){if(value==null){node.removeAttribute(name)}else{node.setAttribute(name,(fragment||value).toString())}}else{if(value){node.setAttribute(name,"")}else{node.removeAttribute(name)}}}var Attribute_prototype_update=Attribute$update;function Attribute$update(){var _ref=this;var name=_ref.name;var element=_ref.element;var node=_ref.node;var type;var updateMethod;if(name==="id"){updateMethod=updateIdAttribute}else if(name==="value"){if(element.name==="select"&&name==="value"){updateMethod=element.getAttribute("multiple")?updateMultipleSelectValue:updateSelectValue}else if(element.name==="textarea"){updateMethod=updateValue}else if(element.getAttribute("contenteditable")!=null){updateMethod=updateContentEditableValue}else if(element.name==="input"){type=element.getAttribute("type");if(type==="file"){updateMethod=noop}else if(type==="radio"&&element.binding&&element.binding.name==="name"){updateMethod=updateRadioValue}else{updateMethod=updateValue}}}else if(this.isTwoway&&name==="name"){if(node.type==="radio"){updateMethod=updateRadioName}else if(node.type==="checkbox"){updateMethod=updateCheckboxName}}else if(name==="style"&&node.style.setAttribute){updateMethod=updateIEStyleAttribute}else if(name==="class"&&(!node.namespaceURI||node.namespaceURI===namespaces.html)){updateMethod=updateClassName}else if(this.useProperty){updateMethod=updateBoolean}if(!updateMethod){updateMethod=updateEverythingElse}this.update=updateMethod;this.update()}var Attribute=function(options){this.init(options)};Attribute.prototype={bubble:Attribute_prototype_bubble,init:prototype_init,rebind:Attribute_prototype_rebind,render:Attribute_prototype_render,toString:Attribute_prototype_toString,unbind:Attribute_prototype_unbind,update:Attribute_prototype_update};var _Attribute=Attribute;var createAttributes=function(element,attributes){var name,attribute,result=[];for(name in attributes){if(name==="twoway"||name==="lazy"){continue}if(attributes.hasOwnProperty(name)){attribute=new _Attribute({element:element,name:name,value:attributes[name],root:element.root});result[name]=attribute;if(name!=="value"){result.push(attribute)}}}if(attribute=result.value){result.push(attribute)}return result};var _ConditionalAttribute__div;if(typeof document!=="undefined"){_ConditionalAttribute__div=createElement("div")}var ConditionalAttribute=function(element,template){this.element=element;this.root=element.root;this.parentFragment=element.parentFragment;this.attributes=[];this.fragment=new virtualdom_Fragment({root:element.root,owner:this,template:[template]})};ConditionalAttribute.prototype={bubble:function(){if(this.node){this.update()}this.element.bubble()},rebind:function(oldKeypath,newKeypath){this.fragment.rebind(oldKeypath,newKeypath)},render:function(node){this.node=node;this.isSvg=node.namespaceURI===namespaces.svg;this.update()},unbind:function(){this.fragment.unbind()},update:function(){var _this=this;var str,attrs;str=this.fragment.toString();attrs=parseAttributes(str,this.isSvg);this.attributes.filter(function(a){return notIn(attrs,a)}).forEach(function(a){_this.node.removeAttribute(a.name)});attrs.forEach(function(a){_this.node.setAttribute(a.name,a.value)});this.attributes=attrs},toString:function(){return this.fragment.toString()}};var _ConditionalAttribute=ConditionalAttribute;function parseAttributes(str,isSvg){var tag=isSvg?"svg":"div";_ConditionalAttribute__div.innerHTML="<"+tag+" "+str+"></"+tag+">";return toArray(_ConditionalAttribute__div.childNodes[0].attributes)}function notIn(haystack,needle){var i=haystack.length;while(i--){if(haystack[i].name===needle.name){return false}}return true}var createConditionalAttributes=function(element,attributes){if(!attributes){return[]}return attributes.map(function(a){return new _ConditionalAttribute(element,a)})};var Binding=function(element){var interpolator,keypath,value,parentForm;this.element=element;this.root=element.root;this.attribute=element.attributes[this.name||"value"];interpolator=this.attribute.interpolator;interpolator.twowayBinding=this;if(keypath=interpolator.keypath){if(keypath.str.slice(-1)==="}"){warnOnceIfDebug("Two-way binding does not work with expressions (`%s` on <%s>)",interpolator.resolver.uniqueString,element.name,{ractive:this.root});return false}if(keypath.isSpecial){warnOnceIfDebug("Two-way binding does not work with %s",interpolator.resolver.ref,{ractive:this.root});return false}}else{var ref=interpolator.template.r?"'"+interpolator.template.r+"' reference":"expression";warnIfDebug("The %s being used for two-way binding is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",ref,{ractive:this.root});interpolator.resolver.forceResolution();keypath=interpolator.keypath}this.attribute.isTwoway=true;this.keypath=keypath;value=this.root.viewmodel.get(keypath);if(value===undefined&&this.getInitialValue){value=this.getInitialValue();if(value!==undefined){this.root.viewmodel.set(keypath,value)}}if(parentForm=findParentForm(element)){this.resetValue=value;parentForm.formBindings.push(this)}};Binding.prototype={handleChange:function(){var _this=this;global_runloop.start(this.root);this.attribute.locked=true;this.root.viewmodel.set(this.keypath,this.getValue());global_runloop.scheduleTask(function(){return _this.attribute.locked=false});global_runloop.end()},rebound:function(){var bindings,oldKeypath,newKeypath;oldKeypath=this.keypath;newKeypath=this.attribute.interpolator.keypath;if(oldKeypath===newKeypath){return}removeFromArray(this.root._twowayBindings[oldKeypath.str],this);this.keypath=newKeypath;bindings=this.root._twowayBindings[newKeypath.str]||(this.root._twowayBindings[newKeypath.str]=[]);bindings.push(this)},unbind:function(){}};Binding.extend=function(properties){var Parent=this,SpecialisedBinding;SpecialisedBinding=function(element){Binding.call(this,element);if(this.init){this.init()}};SpecialisedBinding.prototype=create(Parent.prototype);utils_object__extend(SpecialisedBinding.prototype,properties);SpecialisedBinding.extend=Binding.extend;return SpecialisedBinding};var Binding_Binding=Binding;function findParentForm(element){while(element=element.parent){if(element.name==="form"){return element}}}var handleDomEvent=handleChange;function handleChange(){this._ractive.binding.handleChange()}var GenericBinding;GenericBinding=Binding_Binding.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var node=this.element.node,lazy,timeout=false;this.rendered=true;lazy=this.root.lazy;if(this.element.lazy===true){lazy=true}else if(this.element.lazy===false){lazy=false}else if(is__isNumeric(this.element.lazy)){lazy=false;timeout=+this.element.lazy}else if(is__isNumeric(lazy||"")){timeout=+lazy;lazy=false;this.element.lazy=timeout}this.handler=timeout?handleDelay:handleDomEvent;node.addEventListener("change",handleDomEvent,false);if(!lazy){node.addEventListener("input",this.handler,false);if(node.attachEvent){node.addEventListener("keyup",this.handler,false)}}node.addEventListener("blur",handleBlur,false)},unrender:function(){var node=this.element.node;this.rendered=false;node.removeEventListener("change",handleDomEvent,false);node.removeEventListener("input",this.handler,false);node.removeEventListener("keyup",this.handler,false);node.removeEventListener("blur",handleBlur,false)}});var Binding_GenericBinding=GenericBinding;function handleBlur(){var value;handleDomEvent.call(this);value=this._ractive.root.viewmodel.get(this._ractive.binding.keypath);this.value=value==undefined?"":value}function handleDelay(){var binding=this._ractive.binding,el=this;if(!!binding._timeout)clearTimeout(binding._timeout);binding._timeout=setTimeout(function(){if(binding.rendered)handleDomEvent.call(el);binding._timeout=undefined},binding.element.lazy)}var ContentEditableBinding=Binding_GenericBinding.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},getValue:function(){return this.element.node.innerHTML}});var Binding_ContentEditableBinding=ContentEditableBinding;var shared_getSiblings=getSiblings;var sets={};function getSiblings(id,group,keypath){var hash=id+group+keypath;return sets[hash]||(sets[hash]=[])}var RadioBinding=Binding_Binding.extend({name:"checked",init:function(){this.siblings=shared_getSiblings(this.root._guid,"radio",this.element.getAttribute("name"));this.siblings.push(this)},render:function(){var node=this.element.node;node.addEventListener("change",handleDomEvent,false);if(node.attachEvent){node.addEventListener("click",handleDomEvent,false)}},unrender:function(){var node=this.element.node;node.removeEventListener("change",handleDomEvent,false);node.removeEventListener("click",handleDomEvent,false)},handleChange:function(){global_runloop.start(this.root);this.siblings.forEach(function(binding){binding.root.viewmodel.set(binding.keypath,binding.getValue())});global_runloop.end()},getValue:function(){return this.element.node.checked},unbind:function(){removeFromArray(this.siblings,this)}});var Binding_RadioBinding=RadioBinding;var RadioNameBinding=Binding_Binding.extend({name:"name",init:function(){this.siblings=shared_getSiblings(this.root._guid,"radioname",this.keypath.str);this.siblings.push(this);this.radioName=true},getInitialValue:function(){if(this.element.getAttribute("checked")){return this.element.getAttribute("value")}},render:function(){var node=this.element.node;node.name="{{"+this.keypath.str+"}}";node.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value");node.addEventListener("change",handleDomEvent,false);if(node.attachEvent){node.addEventListener("click",handleDomEvent,false)}},unrender:function(){var node=this.element.node;node.removeEventListener("change",handleDomEvent,false);node.removeEventListener("click",handleDomEvent,false)},getValue:function(){var node=this.element.node;return node._ractive?node._ractive.value:node.value},handleChange:function(){if(this.element.node.checked){Binding_Binding.prototype.handleChange.call(this)}},rebound:function(oldKeypath,newKeypath){var node;Binding_Binding.prototype.rebound.call(this,oldKeypath,newKeypath);if(node=this.element.node){node.name="{{"+this.keypath.str+"}}"}},unbind:function(){removeFromArray(this.siblings,this)}});var Binding_RadioNameBinding=RadioNameBinding;var CheckboxNameBinding=Binding_Binding.extend({name:"name",getInitialValue:function(){this.noInitialValue=true;return[]},init:function(){var existingValue,bindingValue;this.checkboxName=true;this.siblings=shared_getSiblings(this.root._guid,"checkboxes",this.keypath.str);this.siblings.push(this);if(this.noInitialValue){this.siblings.noInitialValue=true}if(this.siblings.noInitialValue&&this.element.getAttribute("checked")){existingValue=this.root.viewmodel.get(this.keypath);bindingValue=this.element.getAttribute("value");existingValue.push(bindingValue)}},unbind:function(){removeFromArray(this.siblings,this)},render:function(){var node=this.element.node,existingValue,bindingValue;existingValue=this.root.viewmodel.get(this.keypath);bindingValue=this.element.getAttribute("value");if(isArray(existingValue)){this.isChecked=arrayContains(existingValue,bindingValue)}else{this.isChecked=existingValue==bindingValue}node.name="{{"+this.keypath.str+"}}";node.checked=this.isChecked;node.addEventListener("change",handleDomEvent,false);if(node.attachEvent){node.addEventListener("click",handleDomEvent,false)}},unrender:function(){var node=this.element.node;node.removeEventListener("change",handleDomEvent,false);node.removeEventListener("click",handleDomEvent,false)},changed:function(){var wasChecked=!!this.isChecked;this.isChecked=this.element.node.checked;return this.isChecked===wasChecked},handleChange:function(){this.isChecked=this.element.node.checked;Binding_Binding.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(isChecked).map(Binding_CheckboxNameBinding__getValue)}});function isChecked(binding){return binding.isChecked}function Binding_CheckboxNameBinding__getValue(binding){return binding.element.getAttribute("value")}var Binding_CheckboxNameBinding=CheckboxNameBinding;var CheckboxBinding=Binding_Binding.extend({name:"checked",render:function(){var node=this.element.node;node.addEventListener("change",handleDomEvent,false);if(node.attachEvent){node.addEventListener("click",handleDomEvent,false)}},unrender:function(){var node=this.element.node;node.removeEventListener("change",handleDomEvent,false);node.removeEventListener("click",handleDomEvent,false)},getValue:function(){return this.element.node.checked}});var Binding_CheckboxBinding=CheckboxBinding;var SelectBinding=Binding_Binding.extend({getInitialValue:function(){var options=this.element.options,len,i,value,optionWasSelected;if(this.element.getAttribute("value")!==undefined){return}i=len=options.length;if(!len){return}while(i--){if(options[i].getAttribute("selected")){value=options[i].getAttribute("value");optionWasSelected=true;break}}if(!optionWasSelected){while(++i<len){if(!options[i].getAttribute("disabled")){value=options[i].getAttribute("value");break}}}if(value!==undefined){this.element.attributes.value.value=value}return value},render:function(){this.element.node.addEventListener("change",handleDomEvent,false)},unrender:function(){this.element.node.removeEventListener("change",handleDomEvent,false)},setValue:function(value){this.root.viewmodel.set(this.keypath,value)},getValue:function(){var options,i,len,option,optionValue;options=this.element.node.options;len=options.length;for(i=0;i<len;i+=1){option=options[i];if(options[i].selected){optionValue=option._ractive?option._ractive.value:option.value;return optionValue}}},forceUpdate:function(){var _this=this;var value=this.getValue();if(value!==undefined){this.attribute.locked=true;global_runloop.scheduleTask(function(){return _this.attribute.locked=false});this.root.viewmodel.set(this.keypath,value)}}});var Binding_SelectBinding=SelectBinding;var MultipleSelectBinding=Binding_SelectBinding.extend({getInitialValue:function(){return this.element.options.filter(function(option){return option.getAttribute("selected")}).map(function(option){return option.getAttribute("value")})},render:function(){var valueFromModel;this.element.node.addEventListener("change",handleDomEvent,false);valueFromModel=this.root.viewmodel.get(this.keypath);if(valueFromModel===undefined){this.handleChange()}},unrender:function(){this.element.node.removeEventListener("change",handleDomEvent,false)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var selectedValues,options,i,len,option,optionValue;selectedValues=[];options=this.element.node.options;len=options.length;for(i=0;i<len;i+=1){option=options[i];if(option.selected){optionValue=option._ractive?option._ractive.value:option.value;selectedValues.push(optionValue)}}return selectedValues},handleChange:function(){var attribute,previousValue,value;attribute=this.attribute;previousValue=attribute.value;value=this.getValue();if(previousValue===undefined||!arrayContentsMatch(value,previousValue)){Binding_SelectBinding.prototype.handleChange.call(this)}return this},forceUpdate:function(){var _this=this;var value=this.getValue();if(value!==undefined){this.attribute.locked=true;global_runloop.scheduleTask(function(){return _this.attribute.locked=false});this.root.viewmodel.set(this.keypath,value)}},updateModel:function(){if(this.attribute.value===undefined||!this.attribute.value.length){this.root.viewmodel.set(this.keypath,this.initialValue)}}});var Binding_MultipleSelectBinding=MultipleSelectBinding;var FileListBinding=Binding_Binding.extend({render:function(){this.element.node.addEventListener("change",handleDomEvent,false)},unrender:function(){this.element.node.removeEventListener("change",handleDomEvent,false)},getValue:function(){return this.element.node.files}});var Binding_FileListBinding=FileListBinding;var NumericBinding=Binding_GenericBinding.extend({getInitialValue:function(){return undefined},getValue:function(){var value=parseFloat(this.element.node.value);return isNaN(value)?undefined:value}});var init_createTwowayBinding=createTwowayBinding;function createTwowayBinding(element){var attributes=element.attributes,type,Binding,bindName,bindChecked,binding;if(element.binding){element.binding.teardown();element.binding=null}if((element.getAttribute("contenteditable")||!!attributes.contenteditable&&isBindable(attributes.contenteditable))&&isBindable(attributes.value)){Binding=Binding_ContentEditableBinding}else if(element.name==="input"){type=element.getAttribute("type");if(type==="radio"||type==="checkbox"){bindName=isBindable(attributes.name);bindChecked=isBindable(attributes.checked);if(bindName&&bindChecked){warnIfDebug("A radio input can have two-way binding on its name attribute, or its checked attribute - not both",{ractive:element.root})}if(bindName){Binding=type==="radio"?Binding_RadioNameBinding:Binding_CheckboxNameBinding}else if(bindChecked){Binding=type==="radio"?Binding_RadioBinding:Binding_CheckboxBinding}}else if(type==="file"&&isBindable(attributes.value)){Binding=Binding_FileListBinding}else if(isBindable(attributes.value)){Binding=type==="number"||type==="range"?NumericBinding:Binding_GenericBinding}}else if(element.name==="select"&&isBindable(attributes.value)){Binding=element.getAttribute("multiple")?Binding_MultipleSelectBinding:Binding_SelectBinding}else if(element.name==="textarea"&&isBindable(attributes.value)){Binding=Binding_GenericBinding}if(Binding&&(binding=new Binding(element))&&binding.keypath){return binding}}function isBindable(attribute){return attribute&&attribute.isBindable}
var EventHandler_prototype_bubble=EventHandler$bubble;function EventHandler$bubble(){var hasAction=this.getAction();if(hasAction&&!this.hasListener){this.listen()}else if(!hasAction&&this.hasListener){this.unrender()}}var EventHandler_prototype_fire=EventHandler$fire;function EventHandler$fire(event){shared_fireEvent(this.root,this.getAction(),{event:event})}var getAction=EventHandler$getAction;function EventHandler$getAction(){return this.action.toString().trim()}var EventHandler_prototype_init=EventHandler$init;var eventPattern=/^event(?:\.(.+))?/;function EventHandler$init(element,name,template){var _this=this;var action,refs,ractive;this.element=element;this.root=element.root;this.parentFragment=element.parentFragment;this.name=name;if(name.indexOf("*")!==-1){fatal('Only component proxy-events may contain "*" wildcards, <%s on-%s="..."/> is not valid',element.name,name);this.invalid=true}if(template.m){refs=template.a.r;this.method=template.m;this.keypaths=[];this.fn=shared_getFunctionFromString(template.a.s,refs.length);this.parentFragment=element.parentFragment;ractive=this.root;this.refResolvers=[];refs.forEach(function(ref,i){var match=undefined;if(match=eventPattern.exec(ref)){_this.keypaths[i]={eventObject:true,refinements:match[1]?match[1].split("."):[]}}else{_this.refResolvers.push(Resolvers_createReferenceResolver(_this,ref,function(keypath){return _this.resolve(i,keypath)}))}});this.fire=fireMethodCall}else{action=template.n||template;if(typeof action!=="string"){action=new virtualdom_Fragment({template:action,root:this.root,owner:this})}this.action=action;if(template.d){this.dynamicParams=new virtualdom_Fragment({template:template.d,root:this.root,owner:this.element});this.fire=fireEventWithDynamicParams}else if(template.a){this.params=template.a;this.fire=fireEventWithParams}}}function fireMethodCall(event){var ractive,values,args;ractive=this.root;if(typeof ractive[this.method]!=="function"){throw new Error('Attempted to call a non-existent method ("'+this.method+'")')}values=this.keypaths.map(function(keypath){var value,len,i;if(keypath===undefined){return undefined}if(keypath.eventObject){value=event;if(len=keypath.refinements.length){for(i=0;i<len;i+=1){value=value[keypath.refinements[i]]}}}else{value=ractive.viewmodel.get(keypath)}return value});shared_eventStack.enqueue(ractive,event);args=this.fn.apply(null,values);ractive[this.method].apply(ractive,args);shared_eventStack.dequeue(ractive)}function fireEventWithParams(event){shared_fireEvent(this.root,this.getAction(),{event:event,args:this.params})}function fireEventWithDynamicParams(event){var args=this.dynamicParams.getArgsList();if(typeof args==="string"){args=args.substr(1,args.length-2)}shared_fireEvent(this.root,this.getAction(),{event:event,args:args})}var shared_genericHandler=genericHandler;function genericHandler(event){var storage,handler,indices,index={};storage=this._ractive;handler=storage.events[event.type];if(indices=Resolvers_findIndexRefs(handler.element.parentFragment)){index=Resolvers_findIndexRefs.resolve(indices)}handler.fire({node:this,original:event,index:index,keypath:storage.keypath.str,context:storage.root.viewmodel.get(storage.keypath)})}var listen=EventHandler$listen;var customHandlers={},touchEvents={touchstart:true,touchmove:true,touchend:true,touchcancel:true,touchleave:true};function EventHandler$listen(){var definition,name=this.name;if(this.invalid){return}if(definition=findInViewHierarchy("events",this.root,name)){this.custom=definition(this.node,getCustomHandler(name))}else{if(!("on"+name in this.node)&&!(window&&"on"+name in window)&&!isJsdom){if(!touchEvents[name]){warnOnceIfDebug(missingPlugin(name,"event"),{node:this.node})}return}this.node.addEventListener(name,shared_genericHandler,false)}this.hasListener=true}function getCustomHandler(name){if(!customHandlers[name]){customHandlers[name]=function(event){var storage=event.node._ractive;event.index=storage.index;event.keypath=storage.keypath.str;event.context=storage.root.viewmodel.get(storage.keypath);storage.events[name].fire(event)}}return customHandlers[name]}var EventHandler_prototype_rebind=EventHandler$rebind;function EventHandler$rebind(oldKeypath,newKeypath){var fragment;if(this.method){fragment=this.element.parentFragment;this.refResolvers.forEach(rebind);return}if(typeof this.action!=="string"){rebind(this.action)}if(this.dynamicParams){rebind(this.dynamicParams)}function rebind(thing){thing&&thing.rebind(oldKeypath,newKeypath)}}var EventHandler_prototype_render=EventHandler$render;function EventHandler$render(){this.node=this.element.node;this.node._ractive.events[this.name]=this;if(this.method||this.getAction()){this.listen()}}var prototype_resolve=EventHandler$resolve;function EventHandler$resolve(index,keypath){this.keypaths[index]=keypath}var EventHandler_prototype_unbind=EventHandler$unbind;function EventHandler$unbind(){if(this.method){this.refResolvers.forEach(methodCallers__unbind);return}if(typeof this.action!=="string"){this.action.unbind()}if(this.dynamicParams){this.dynamicParams.unbind()}}var EventHandler_prototype_unrender=EventHandler$unrender;function EventHandler$unrender(){if(this.custom){this.custom.teardown()}else{this.node.removeEventListener(this.name,shared_genericHandler,false)}this.hasListener=false}var EventHandler=function(element,name,template){this.init(element,name,template)};EventHandler.prototype={bubble:EventHandler_prototype_bubble,fire:EventHandler_prototype_fire,getAction:getAction,init:EventHandler_prototype_init,listen:listen,rebind:EventHandler_prototype_rebind,render:EventHandler_prototype_render,resolve:prototype_resolve,unbind:EventHandler_prototype_unbind,unrender:EventHandler_prototype_unrender};var _EventHandler=EventHandler;var createEventHandlers=function(element,template){var i,name,names,handler,result=[];for(name in template){if(template.hasOwnProperty(name)){names=name.split("-");i=names.length;while(i--){handler=new _EventHandler(element,names[i],template[name]);result.push(handler)}}}return result};var Decorator=function(element,template){var self=this,ractive,name,fragment;this.element=element;this.root=ractive=element.root;name=template.n||template;if(typeof name!=="string"){fragment=new virtualdom_Fragment({template:name,root:ractive,owner:element});name=fragment.toString();fragment.unbind();if(name===""){return}}if(template.a){this.params=template.a}else if(template.d){this.fragment=new virtualdom_Fragment({template:template.d,root:ractive,owner:element});this.params=this.fragment.getArgsList();this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=true;self.params=this.getArgsList();if(self.ready){self.update()}}}this.fn=findInViewHierarchy("decorators",ractive,name);if(!this.fn){fatal(missingPlugin(name,"decorator"))}};Decorator.prototype={init:function(){var node,result,args;node=this.element.node;if(this.params){args=[node].concat(this.params);result=this.fn.apply(this.root,args)}else{result=this.fn.call(this.root,node)}if(!result||!result.teardown){throw new Error("Decorator definition must return an object with a teardown method")}this.actual=result;this.ready=true},update:function(){if(this.actual.update){this.actual.update.apply(this.root,this.params)}else{this.actual.teardown(true);this.init()}},rebind:function(oldKeypath,newKeypath){if(this.fragment){this.fragment.rebind(oldKeypath,newKeypath)}},teardown:function(updating){this.torndown=true;if(this.ready){this.actual.teardown()}if(!updating&&this.fragment){this.fragment.unbind()}}};var _Decorator=Decorator;function select__bubble(){var _this=this;if(!this.dirty){this.dirty=true;global_runloop.scheduleTask(function(){sync(_this);_this.dirty=false})}this.parentFragment.bubble()}function sync(selectElement){var selectNode,selectValue,isMultiple,options,optionWasSelected;selectNode=selectElement.node;if(!selectNode){return}options=toArray(selectNode.options);selectValue=selectElement.getAttribute("value");isMultiple=selectElement.getAttribute("multiple");if(selectValue!==undefined){options.forEach(function(o){var optionValue,shouldSelect;optionValue=o._ractive?o._ractive.value:o.value;shouldSelect=isMultiple?valueContains(selectValue,optionValue):selectValue==optionValue;if(shouldSelect){optionWasSelected=true}o.selected=shouldSelect});if(!optionWasSelected){if(options[0]){options[0].selected=true}if(selectElement.binding){selectElement.binding.forceUpdate()}}}else if(selectElement.binding){selectElement.binding.forceUpdate()}}function valueContains(selectValue,optionValue){var i=selectValue.length;while(i--){if(selectValue[i]==optionValue){return true}}}function special_option__init(option,template){option.select=findParentSelect(option.parent);if(!option.select){return}option.select.options.push(option);if(!template.a){template.a={}}if(template.a.value===undefined&&!template.a.hasOwnProperty("disabled")){template.a.value=template.f}if("selected"in template.a&&option.select.getAttribute("value")!==undefined){delete template.a.selected}}function special_option__unbind(option){if(option.select){removeFromArray(option.select.options,option)}}function findParentSelect(element){if(!element){return}do{if(element.name==="select"){return element}}while(element=element.parent)}var Element_prototype_init=Element$init;function Element$init(options){var parentFragment,template,ractive,binding,bindings,twoway,bindingAttrs;this.type=ELEMENT;parentFragment=this.parentFragment=options.parentFragment;template=this.template=options.template;this.parent=options.pElement||parentFragment.pElement;this.root=ractive=parentFragment.root;this.index=options.index;this.key=options.key;this.name=enforceCase(template.e);if(this.name==="option"){special_option__init(this,template)}if(this.name==="select"){this.options=[];this.bubble=select__bubble}if(this.name==="form"){this.formBindings=[]}bindingAttrs=processBindingAttributes(this,template);this.attributes=createAttributes(this,template.a);this.conditionalAttributes=createConditionalAttributes(this,template.m);if(template.f){this.fragment=new virtualdom_Fragment({template:template.f,root:ractive,owner:this,pElement:this,cssIds:null})}twoway=ractive.twoway;if(bindingAttrs.twoway===false)twoway=false;else if(bindingAttrs.twoway===true)twoway=true;this.twoway=twoway;this.lazy=bindingAttrs.lazy;if(twoway&&(binding=init_createTwowayBinding(this,template.a))){this.binding=binding;bindings=this.root._twowayBindings[binding.keypath.str]||(this.root._twowayBindings[binding.keypath.str]=[]);bindings.push(binding)}if(template.v){this.eventHandlers=createEventHandlers(this,template.v)}if(template.o){this.decorator=new _Decorator(this,template.o)}this.intro=template.t0||template.t1;this.outro=template.t0||template.t2}var Element_prototype_rebind=Element$rebind;function Element$rebind(oldKeypath,newKeypath){var i,storage,liveQueries,ractive;if(this.attributes){this.attributes.forEach(rebind)}if(this.conditionalAttributes){this.conditionalAttributes.forEach(rebind)}if(this.eventHandlers){this.eventHandlers.forEach(rebind)}if(this.decorator){rebind(this.decorator)}if(this.fragment){rebind(this.fragment)}if(liveQueries=this.liveQueries){ractive=this.root;i=liveQueries.length;while(i--){liveQueries[i]._makeDirty()}}if(this.node&&(storage=this.node._ractive)){assignNewKeypath(storage,"keypath",oldKeypath,newKeypath)}function rebind(thing){thing.rebind(oldKeypath,newKeypath)}}function special_img__render(img){var loadHandler;if(img.attributes.width||img.attributes.height){img.node.addEventListener("load",loadHandler=function(){var width=img.getAttribute("width"),height=img.getAttribute("height");if(width!==undefined){img.node.setAttribute("width",width)}if(height!==undefined){img.node.setAttribute("height",height)}img.node.removeEventListener("load",loadHandler,false)},false)}}function form__render(element){element.node.addEventListener("reset",handleReset,false)}function form__unrender(element){element.node.removeEventListener("reset",handleReset,false)}function handleReset(){var element=this._ractive.proxy;global_runloop.start();element.formBindings.forEach(updateModel);global_runloop.end()}function updateModel(binding){binding.root.viewmodel.set(binding.keypath,binding.resetValue)}var Transition_prototype_init=Transition$init;function Transition$init(element,template,isIntro){var ractive,name,fragment;this.element=element;this.root=ractive=element.root;this.isIntro=isIntro;name=template.n||template;if(typeof name!=="string"){fragment=new virtualdom_Fragment({template:name,root:ractive,owner:element});name=fragment.toString();fragment.unbind();if(name===""){return}}this.name=name;if(template.a){this.params=template.a}else if(template.d){fragment=new virtualdom_Fragment({template:template.d,root:ractive,owner:element});this.params=fragment.getArgsList();fragment.unbind()}this._fn=findInViewHierarchy("transitions",ractive,name);if(!this._fn){warnOnceIfDebug(missingPlugin(name,"transition"),{ractive:this.root})}}var camelCase=function(hyphenatedStr){return hyphenatedStr.replace(/-([a-zA-Z])/g,function(match,$1){return $1.toUpperCase()})};var helpers_prefix__prefix,prefixCache,helpers_prefix__testStyle;if(!isClient){helpers_prefix__prefix=null}else{prefixCache={};helpers_prefix__testStyle=createElement("div").style;helpers_prefix__prefix=function(prop){var i,vendor,capped;prop=camelCase(prop);if(!prefixCache[prop]){if(helpers_prefix__testStyle[prop]!==undefined){prefixCache[prop]=prop}else{capped=prop.charAt(0).toUpperCase()+prop.substring(1);i=vendors.length;while(i--){vendor=vendors[i];if(helpers_prefix__testStyle[vendor+capped]!==undefined){prefixCache[prop]=vendor+capped;break}}}}return prefixCache[prop]}}var helpers_prefix=helpers_prefix__prefix;var getStyle,prototype_getStyle__getComputedStyle;if(!isClient){getStyle=null}else{prototype_getStyle__getComputedStyle=window.getComputedStyle||legacy.getComputedStyle;getStyle=function(props){var computedStyle,styles,i,prop,value;computedStyle=prototype_getStyle__getComputedStyle(this.node);if(typeof props==="string"){value=computedStyle[helpers_prefix(props)];if(value==="0px"){value=0}return value}if(!isArray(props)){throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties")}styles={};i=props.length;while(i--){prop=props[i];value=computedStyle[helpers_prefix(prop)];if(value==="0px"){value=0}styles[prop]=value}return styles}}var prototype_getStyle=getStyle;var setStyle=function(style,value){var prop;if(typeof style==="string"){this.node.style[helpers_prefix(style)]=value}else{for(prop in style){if(style.hasOwnProperty(prop)){this.node.style[helpers_prefix(prop)]=style[prop]}}}return this};var Ticker=function(options){var easing;this.duration=options.duration;this.step=options.step;this.complete=options.complete;if(typeof options.easing==="string"){easing=options.root.easing[options.easing];if(!easing){warnOnceIfDebug(missingPlugin(options.easing,"easing"));easing=linear}}else if(typeof options.easing==="function"){easing=options.easing}else{easing=linear}this.easing=easing;this.start=utils_getTime();this.end=this.start+this.duration;this.running=true;shared_animations.add(this)};Ticker.prototype={tick:function(now){var elapsed,eased;if(!this.running){return false}if(now>this.end){if(this.step){this.step(1)}if(this.complete){this.complete(1)}return false}elapsed=now-this.start;eased=this.easing(elapsed/this.duration);if(this.step){this.step(eased)}return true},stop:function(){if(this.abort){this.abort()}this.running=false}};var shared_Ticker=Ticker;function linear(t){return t}var unprefixPattern=new RegExp("^-(?:"+vendors.join("|")+")-");var unprefix=function(prop){return prop.replace(unprefixPattern,"")};var vendorPattern=new RegExp("^(?:"+vendors.join("|")+")([A-Z])");var hyphenate=function(str){var hyphenated;if(!str){return""}if(vendorPattern.test(str)){str="-"+str}hyphenated=str.replace(/[A-Z]/g,function(match){return"-"+match.toLowerCase()});return hyphenated};var createTransitions,animateStyle_createTransitions__testStyle,TRANSITION,TRANSITIONEND,CSS_TRANSITIONS_ENABLED,TRANSITION_DURATION,TRANSITION_PROPERTY,TRANSITION_TIMING_FUNCTION,canUseCssTransitions={},cannotUseCssTransitions={};if(!isClient){createTransitions=null}else{animateStyle_createTransitions__testStyle=createElement("div").style;(function(){if(animateStyle_createTransitions__testStyle.transition!==undefined){TRANSITION="transition";TRANSITIONEND="transitionend";CSS_TRANSITIONS_ENABLED=true}else if(animateStyle_createTransitions__testStyle.webkitTransition!==undefined){TRANSITION="webkitTransition";TRANSITIONEND="webkitTransitionEnd";CSS_TRANSITIONS_ENABLED=true}else{CSS_TRANSITIONS_ENABLED=false}})();if(TRANSITION){TRANSITION_DURATION=TRANSITION+"Duration";TRANSITION_PROPERTY=TRANSITION+"Property";TRANSITION_TIMING_FUNCTION=TRANSITION+"TimingFunction"}createTransitions=function(t,to,options,changedProperties,resolve){setTimeout(function(){var hashPrefix,jsTransitionsComplete,cssTransitionsComplete,checkComplete,transitionEndHandler;checkComplete=function(){if(jsTransitionsComplete&&cssTransitionsComplete){t.root.fire(t.name+":end",t.node,t.isIntro);resolve()}};hashPrefix=(t.node.namespaceURI||"")+t.node.tagName;t.node.style[TRANSITION_PROPERTY]=changedProperties.map(helpers_prefix).map(hyphenate).join(",");t.node.style[TRANSITION_TIMING_FUNCTION]=hyphenate(options.easing||"linear");t.node.style[TRANSITION_DURATION]=options.duration/1e3+"s";transitionEndHandler=function(event){var index;index=changedProperties.indexOf(camelCase(unprefix(event.propertyName)));if(index!==-1){changedProperties.splice(index,1)}if(changedProperties.length){return}t.node.removeEventListener(TRANSITIONEND,transitionEndHandler,false);cssTransitionsComplete=true;checkComplete()};t.node.addEventListener(TRANSITIONEND,transitionEndHandler,false);setTimeout(function(){var i=changedProperties.length,hash,originalValue,index,propertiesToTransitionInJs=[],prop,suffix;while(i--){prop=changedProperties[i];hash=hashPrefix+prop;if(CSS_TRANSITIONS_ENABLED&&!cannotUseCssTransitions[hash]){t.node.style[helpers_prefix(prop)]=to[prop];if(!canUseCssTransitions[hash]){originalValue=t.getStyle(prop);canUseCssTransitions[hash]=t.getStyle(prop)!=to[prop];cannotUseCssTransitions[hash]=!canUseCssTransitions[hash];if(cannotUseCssTransitions[hash]){t.node.style[helpers_prefix(prop)]=originalValue}}}if(!CSS_TRANSITIONS_ENABLED||cannotUseCssTransitions[hash]){if(originalValue===undefined){originalValue=t.getStyle(prop)}index=changedProperties.indexOf(prop);if(index===-1){warnIfDebug("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!",{node:t.node})}else{changedProperties.splice(index,1)}suffix=/[^\d]*$/.exec(to[prop])[0];propertiesToTransitionInJs.push({name:helpers_prefix(prop),interpolator:shared_interpolate(parseFloat(originalValue),parseFloat(to[prop])),suffix:suffix})}}if(propertiesToTransitionInJs.length){new shared_Ticker({root:t.root,duration:options.duration,easing:camelCase(options.easing||""),step:function(pos){var prop,i;i=propertiesToTransitionInJs.length;while(i--){prop=propertiesToTransitionInJs[i];t.node.style[prop.name]=prop.interpolator(pos)+prop.suffix}},complete:function(){jsTransitionsComplete=true;checkComplete()}})}else{jsTransitionsComplete=true}if(!changedProperties.length){t.node.removeEventListener(TRANSITIONEND,transitionEndHandler,false);cssTransitionsComplete=true;checkComplete()}},0)},options.delay||0)}}var animateStyle_createTransitions=createTransitions;var hidden,vendor,animateStyle_visibility__prefix,animateStyle_visibility__i,visibility;if(typeof document!=="undefined"){hidden="hidden";visibility={};if(hidden in document){animateStyle_visibility__prefix=""}else{animateStyle_visibility__i=vendors.length;while(animateStyle_visibility__i--){vendor=vendors[animateStyle_visibility__i];hidden=vendor+"Hidden";if(hidden in document){animateStyle_visibility__prefix=vendor}}}if(animateStyle_visibility__prefix!==undefined){document.addEventListener(animateStyle_visibility__prefix+"visibilitychange",onChange);onChange()}else{if("onfocusout"in document){document.addEventListener("focusout",onHide);document.addEventListener("focusin",onShow)}else{window.addEventListener("pagehide",onHide);window.addEventListener("blur",onHide);window.addEventListener("pageshow",onShow);window.addEventListener("focus",onShow)}visibility.hidden=false}}function onChange(){visibility.hidden=document[hidden]}function onHide(){visibility.hidden=true}function onShow(){visibility.hidden=false}var animateStyle_visibility=visibility;var animateStyle,_animateStyle__getComputedStyle,resolved;if(!isClient){animateStyle=null}else{_animateStyle__getComputedStyle=window.getComputedStyle||legacy.getComputedStyle;animateStyle=function(style,value,options){var _this=this;var to;if(arguments.length===4){throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback")}if(animateStyle_visibility.hidden){this.setStyle(style,value);return resolved||(resolved=utils_Promise.resolve())}if(typeof style==="string"){to={};to[style]=value}else{to=style;options=value}if(!options){warnOnceIfDebug('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name);options=this}var promise=new utils_Promise(function(resolve){var propertyNames,changedProperties,computedStyle,current,from,i,prop;if(!options.duration){_this.setStyle(to);resolve();return}propertyNames=Object.keys(to);changedProperties=[];computedStyle=_animateStyle__getComputedStyle(_this.node);from={};i=propertyNames.length;while(i--){prop=propertyNames[i];current=computedStyle[helpers_prefix(prop)];if(current==="0px"){current=0}if(current!=to[prop]){changedProperties.push(prop);_this.node.style[helpers_prefix(prop)]=current}}if(!changedProperties.length){resolve();return}animateStyle_createTransitions(_this,to,options,changedProperties,resolve)});return promise}}var _animateStyle=animateStyle;var processParams=function(params,defaults){if(typeof params==="number"){params={duration:params}}else if(typeof params==="string"){if(params==="slow"){params={duration:600}}else if(params==="fast"){params={duration:200}}else{params={duration:400}}}else if(!params){params={}}return fillGaps({},params,defaults)};var prototype_start=Transition$start;function Transition$start(){var _this=this;var node,originalStyle,completed;node=this.node=this.element.node;originalStyle=node.getAttribute("style");this.complete=function(noReset){if(completed){return}if(!noReset&&_this.isIntro){resetStyle(node,originalStyle)}node._ractive.transition=null;_this._manager.remove(_this);completed=true};if(!this._fn){this.complete();return}this._fn.apply(this.root,[this].concat(this.params))}function resetStyle(node,style){if(style){node.setAttribute("style",style)}else{node.getAttribute("style");node.removeAttribute("style")}}var Transition=function(owner,template,isIntro){this.init(owner,template,isIntro)};Transition.prototype={init:Transition_prototype_init,start:prototype_start,getStyle:prototype_getStyle,setStyle:setStyle,animateStyle:_animateStyle,processParams:processParams};var _Transition=Transition;var Element_prototype_render=Element$render;var updateCss,updateScript;updateCss=function(){var node=this.node,content=this.fragment.toString(false);if(window&&window.appearsToBeIELessEqual8){node.type="text/css"}if(node.styleSheet){node.styleSheet.cssText=content}else{while(node.hasChildNodes()){node.removeChild(node.firstChild)}node.appendChild(document.createTextNode(content))}};updateScript=function(){if(!this.node.type||this.node.type==="text/javascript"){warnIfDebug("Script tag was updated. This does not cause the code to be re-evaluated!",{ractive:this.root})}this.node.text=this.fragment.toString(false)};function Element$render(){var _this=this;var root=this.root,namespace,node,transition;namespace=getNamespace(this);node=this.node=createElement(this.name,namespace);if(this.parentFragment.cssIds){this.node.setAttribute("data-ractive-css",this.parentFragment.cssIds.map(function(x){return"{"+x+"}"}).join(" "))}defineProperty(this.node,"_ractive",{value:{proxy:this,keypath:getInnerContext(this.parentFragment),events:create(null),root:root}});this.attributes.forEach(function(a){return a.render(node)});this.conditionalAttributes.forEach(function(a){return a.render(node)});if(this.fragment){if(this.name==="script"){this.bubble=updateScript;this.node.text=this.fragment.toString(false);this.fragment.unrender=noop}else if(this.name==="style"){this.bubble=updateCss;this.bubble();this.fragment.unrender=noop}else if(this.binding&&this.getAttribute("contenteditable")){this.fragment.unrender=noop}else{this.node.appendChild(this.fragment.render())}}if(this.binding){this.binding.render();this.node._ractive.binding=this.binding}if(this.eventHandlers){this.eventHandlers.forEach(function(h){return h.render()})}if(this.name==="option"){processOption(this)}if(this.name==="img"){special_img__render(this)}else if(this.name==="form"){form__render(this)}else if(this.name==="input"||this.name==="textarea"){this.node.defaultValue=this.node.value}else if(this.name==="option"){this.node.defaultSelected=this.node.selected}if(this.decorator&&this.decorator.fn){global_runloop.scheduleTask(function(){if(!_this.decorator.torndown){_this.decorator.init()}},true)}if(root.transitionsEnabled&&this.intro){transition=new _Transition(this,this.intro,true);global_runloop.registerTransition(transition);global_runloop.scheduleTask(function(){return transition.start()},true);this.transition=transition}if(this.node.autofocus){global_runloop.scheduleTask(function(){return _this.node.focus()},true)}updateLiveQueries(this);return this.node}function getNamespace(element){var namespace,xmlns,parent;if(xmlns=element.getAttribute("xmlns")){namespace=xmlns}else if(element.name==="svg"){namespace=namespaces.svg}else if(parent=element.parent){if(parent.name==="foreignObject"){namespace=namespaces.html}else{namespace=parent.node.namespaceURI}}else{namespace=element.root.el.namespaceURI}return namespace}function processOption(option){var optionValue,selectValue,i;if(!option.select){return}selectValue=option.select.getAttribute("value");if(selectValue===undefined){return}optionValue=option.getAttribute("value");if(option.select.node.multiple&&isArray(selectValue)){i=selectValue.length;while(i--){if(optionValue==selectValue[i]){option.node.selected=true;break}}}else{option.node.selected=optionValue==selectValue}}function updateLiveQueries(element){var instance,liveQueries,i,selector,query;instance=element.root;do{liveQueries=instance._liveQueries;i=liveQueries.length;while(i--){selector=liveQueries[i];query=liveQueries["_"+selector];if(query._test(element)){(element.liveQueries||(element.liveQueries=[])).push(query)}}}while(instance=instance.parent)}var Element_prototype_toString=function(){var str,escape;if(this.template.y){return"<!DOCTYPE"+this.template.dd+">"}str="<"+this.template.e;str+=this.attributes.map(stringifyAttribute).join("")+this.conditionalAttributes.map(stringifyAttribute).join("");if(this.name==="option"&&optionIsSelected(this)){str+=" selected"}if(this.name==="input"&&inputIsCheckedRadio(this)){str+=" checked"}str+=">";if(this.name==="textarea"&&this.getAttribute("value")!==undefined){str+=escapeHtml(this.getAttribute("value"))}else if(this.getAttribute("contenteditable")!==undefined){str+=this.getAttribute("value")||""}if(this.fragment){escape=this.name!=="script"&&this.name!=="style";str+=this.fragment.toString(escape)}if(!voidElementNames.test(this.template.e)){str+="</"+this.template.e+">"}return str};function optionIsSelected(element){var optionValue,selectValue,i;optionValue=element.getAttribute("value");if(optionValue===undefined||!element.select){return false}selectValue=element.select.getAttribute("value");if(selectValue==optionValue){return true}if(element.select.getAttribute("multiple")&&isArray(selectValue)){i=selectValue.length;while(i--){if(selectValue[i]==optionValue){return true}}}}function inputIsCheckedRadio(element){var attributes,typeAttribute,valueAttribute,nameAttribute;attributes=element.attributes;typeAttribute=attributes.type;valueAttribute=attributes.value;nameAttribute=attributes.name;if(!typeAttribute||typeAttribute.value!=="radio"||!valueAttribute||!nameAttribute.interpolator){return}if(valueAttribute.value===nameAttribute.interpolator.value){return true}}function stringifyAttribute(attribute){var str=attribute.toString();return str?" "+str:""}var Element_prototype_unbind=Element$unbind;function Element$unbind(){if(this.fragment){this.fragment.unbind()}if(this.binding){this.binding.unbind()}if(this.eventHandlers){this.eventHandlers.forEach(methodCallers__unbind)}if(this.name==="option"){special_option__unbind(this)}this.attributes.forEach(methodCallers__unbind);this.conditionalAttributes.forEach(methodCallers__unbind)}var Element_prototype_unrender=Element$unrender;function Element$unrender(shouldDestroy){var binding,bindings,transition;if(transition=this.transition){transition.complete()}if(this.name==="option"){this.detach()}else if(shouldDestroy){global_runloop.detachWhenReady(this)}if(this.fragment){this.fragment.unrender(false)}if(binding=this.binding){this.binding.unrender();this.node._ractive.binding=null;bindings=this.root._twowayBindings[binding.keypath.str];bindings.splice(bindings.indexOf(binding),1)}if(this.eventHandlers){this.eventHandlers.forEach(methodCallers__unrender)}if(this.decorator){global_runloop.registerDecorator(this.decorator)}if(this.root.transitionsEnabled&&this.outro){transition=new _Transition(this,this.outro,false);global_runloop.registerTransition(transition);global_runloop.scheduleTask(function(){return transition.start()})}if(this.liveQueries){removeFromLiveQueries(this)}if(this.name==="form"){form__unrender(this)}}function removeFromLiveQueries(element){var query,selector,i;i=element.liveQueries.length;while(i--){query=element.liveQueries[i];selector=query.selector;query._remove(element.node)}}var Element=function(options){this.init(options)};Element.prototype={bubble:Element_prototype_bubble,detach:Element_prototype_detach,find:Element_prototype_find,findAll:Element_prototype_findAll,findAllComponents:Element_prototype_findAllComponents,findComponent:Element_prototype_findComponent,findNextNode:Element_prototype_findNextNode,firstNode:Element_prototype_firstNode,getAttribute:getAttribute,init:Element_prototype_init,rebind:Element_prototype_rebind,render:Element_prototype_render,toString:Element_prototype_toString,unbind:Element_prototype_unbind,unrender:Element_prototype_unrender};var _Element=Element;var deIndent__empty=/^\s*$/,deIndent__leadingWhitespace=/^\s*/;var deIndent=function(str){var lines,firstLine,lastLine,minIndent;lines=str.split("\n");firstLine=lines[0];if(firstLine!==undefined&&deIndent__empty.test(firstLine)){lines.shift()}lastLine=lastItem(lines);if(lastLine!==undefined&&deIndent__empty.test(lastLine)){lines.pop()}minIndent=lines.reduce(reducer,null);if(minIndent){str=lines.map(function(line){return line.replace(minIndent,"")}).join("\n")}return str};function reducer(previous,line){var lineIndent=deIndent__leadingWhitespace.exec(line)[0];if(previous===null||lineIndent.length<previous.length){return lineIndent}return previous}var Partial_getPartialTemplate=getPartialTemplate;function getPartialTemplate(ractive,name,parentFragment){var partial;if(partial=getPartialFromRegistry(ractive,name,parentFragment||{})){return partial}partial=template_parser.fromId(name,{noThrow:true});if(partial){partial=deIndent(partial);var parsed=template_parser.parse(partial,template_parser.getParseOptions(ractive));return ractive.partials[name]=parsed.t}}function getPartialFromRegistry(ractive,name,parentFragment){var fn=undefined,partial=findParentPartial(name,parentFragment.owner)
;if(partial)return partial;var instance=findInstance("partials",ractive,name);if(!instance){return}partial=instance.partials[name];if(typeof partial==="function"){fn=partial.bind(instance);fn.isOwner=instance.partials.hasOwnProperty(name);partial=fn.call(ractive,template_parser)}if(!partial&&partial!==""){warnIfDebug(noRegistryFunctionReturn,name,"partial","partial",{ractive:ractive});return}if(!template_parser.isParsed(partial)){var parsed=template_parser.parse(partial,template_parser.getParseOptions(instance));if(parsed.p){warnIfDebug("Partials ({{>%s}}) cannot contain nested inline partials",name,{ractive:ractive})}var target=fn?instance:findOwner(instance,name);target.partials[name]=partial=parsed.t}if(fn){partial._fn=fn}return partial.v?partial.t:partial}function findOwner(ractive,key){return ractive.partials.hasOwnProperty(key)?ractive:findConstructor(ractive.constructor,key)}function findConstructor(constructor,key){if(!constructor){return}return constructor.partials.hasOwnProperty(key)?constructor:findConstructor(constructor._Parent,key)}function findParentPartial(name,parent){if(parent){if(parent.template&&parent.template.p&&parent.template.p[name]){return parent.template.p[name]}else if(parent.parentFragment&&parent.parentFragment.owner){return findParentPartial(name,parent.parentFragment.owner)}}}var applyIndent=function(string,indent){var indented;if(!indent){return string}indented=string.split("\n").map(function(line,notFirstLine){return notFirstLine?indent+line:line}).join("\n");return indented};var missingPartialMessage='Could not find template for partial "%s"';var Partial=function(options){var parentFragment,template;parentFragment=this.parentFragment=options.parentFragment;this.root=parentFragment.root;this.type=PARTIAL;this.index=options.index;this.name=options.template.r;this.rendered=false;this.fragment=this.fragmentToRender=this.fragmentToUnrender=null;Mustache.init(this,options);if(!this.keypath){if(template=Partial_getPartialTemplate(this.root,this.name,parentFragment)){shared_unbind.call(this);this.isNamed=true;this.setTemplate(template)}else{warnOnceIfDebug(missingPartialMessage,this.name)}}};Partial.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(selector){return this.fragment.find(selector)},findAll:function(selector,query){return this.fragment.findAll(selector,query)},findComponent:function(selector){return this.fragment.findComponent(selector)},findAllComponents:function(selector,query){return this.fragment.findAllComponents(selector,query)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){if(this.isNamed&&this.name)return this.name;else if(this.value===undefined)return this.name;else return this.value},getValue:function(){return this.fragment.getValue()},rebind:function(oldKeypath,newKeypath){if(!this.isNamed){Mustache_rebind.call(this,oldKeypath,newKeypath)}if(this.fragment){this.fragment.rebind(oldKeypath,newKeypath)}},render:function(){this.docFrag=document.createDocumentFragment();this.update();this.rendered=true;return this.docFrag},resolve:Mustache.resolve,setValue:function(value){var template;if(value!==undefined&&value===this.value){return}if(value!==undefined){template=Partial_getPartialTemplate(this.root,""+value,this.parentFragment)}if(!template&&this.name&&(template=Partial_getPartialTemplate(this.root,this.name,this.parentFragment))){shared_unbind.call(this);this.isNamed=true}if(!template){warnOnceIfDebug(missingPartialMessage,this.name,{ractive:this.root})}this.value=value;this.setTemplate(template||[]);this.bubble();if(this.rendered){global_runloop.addView(this)}},setTemplate:function(template){if(this.fragment){this.fragment.unbind();if(this.rendered){this.fragmentToUnrender=this.fragment}}this.fragment=new virtualdom_Fragment({template:template,root:this.root,owner:this,pElement:this.parentFragment.pElement});this.fragmentToRender=this.fragment},toString:function(toString){var string,previousItem,lastLine,match;string=this.fragment.toString(toString);previousItem=this.parentFragment.items[this.index-1];if(!previousItem||previousItem.type!==TEXT){return string}lastLine=previousItem.text.split("\n").pop();if(match=/^\s+$/.exec(lastLine)){return applyIndent(string,match[0])}return string},unbind:function(){if(!this.isNamed){shared_unbind.call(this)}if(this.fragment){this.fragment.unbind()}},unrender:function(shouldDestroy){if(this.rendered){if(this.fragment){this.fragment.unrender(shouldDestroy)}this.rendered=false}},update:function(){var target,anchor;if(this.fragmentToUnrender){this.fragmentToUnrender.unrender(true);this.fragmentToUnrender=null}if(this.fragmentToRender){this.docFrag.appendChild(this.fragmentToRender.render());this.fragmentToRender=null}if(this.rendered){target=this.parentFragment.getNode();anchor=this.parentFragment.findNextNode(this);target.insertBefore(this.docFrag,anchor)}}};var _Partial=Partial;var Component_getComponent=getComponent;function getComponent(ractive,name){var Component,instance=findInstance("components",ractive,name);if(instance){Component=instance.components[name];if(!Component._Parent){var fn=Component.bind(instance);fn.isOwner=instance.components.hasOwnProperty(name);Component=fn();if(!Component){warnIfDebug(noRegistryFunctionReturn,name,"component","component",{ractive:ractive});return}if(typeof Component==="string"){Component=getComponent(ractive,Component)}Component._fn=fn;instance.components[name]=Component}}return Component}var Component_prototype_detach=Component$detach;var Component_prototype_detach__detachHook=new hooks_Hook("detach");function Component$detach(){var detached=this.instance.fragment.detach();Component_prototype_detach__detachHook.fire(this.instance);return detached}var Component_prototype_find=Component$find;function Component$find(selector){return this.instance.fragment.find(selector)}var Component_prototype_findAll=Component$findAll;function Component$findAll(selector,query){return this.instance.fragment.findAll(selector,query)}var Component_prototype_findAllComponents=Component$findAllComponents;function Component$findAllComponents(selector,query){query._test(this,true);if(this.instance.fragment){this.instance.fragment.findAllComponents(selector,query)}}var Component_prototype_findComponent=Component$findComponent;function Component$findComponent(selector){if(!selector||selector===this.name){return this.instance}if(this.instance.fragment){return this.instance.fragment.findComponent(selector)}return null}var Component_prototype_findNextNode=Component$findNextNode;function Component$findNextNode(){return this.parentFragment.findNextNode(this)}var Component_prototype_firstNode=Component$firstNode;function Component$firstNode(){if(this.rendered){return this.instance.fragment.firstNode()}return null}var processWrapper=function(wrapper,array,methodName,newIndices){var root=wrapper.root;var keypath=wrapper.keypath;if(!!newIndices){root.viewmodel.smartUpdate(keypath,array,newIndices)}else{root.viewmodel.mark(keypath)}};var patchedArrayProto=[],mutatorMethods=["pop","push","reverse","shift","sort","splice","unshift"],testObj,patchArrayMethods,unpatchArrayMethods;mutatorMethods.forEach(function(methodName){var method=function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var newIndices,result,wrapper,i;newIndices=shared_getNewIndices(this,methodName,args);result=Array.prototype[methodName].apply(this,arguments);global_runloop.start();this._ractive.setting=true;i=this._ractive.wrappers.length;while(i--){wrapper=this._ractive.wrappers[i];global_runloop.addRactive(wrapper.root);processWrapper(wrapper,this,methodName,newIndices)}global_runloop.end();this._ractive.setting=false;return result};defineProperty(patchedArrayProto,methodName,{value:method})});testObj={};if(testObj.__proto__){patchArrayMethods=function(array){array.__proto__=patchedArrayProto};unpatchArrayMethods=function(array){array.__proto__=Array.prototype}}else{patchArrayMethods=function(array){var i,methodName;i=mutatorMethods.length;while(i--){methodName=mutatorMethods[i];defineProperty(array,methodName,{value:patchedArrayProto[methodName],configurable:true})}};unpatchArrayMethods=function(array){var i;i=mutatorMethods.length;while(i--){delete array[mutatorMethods[i]]}}}patchArrayMethods.unpatch=unpatchArrayMethods;var patch=patchArrayMethods;var arrayAdaptor,ArrayWrapper,array_index__errorMessage;arrayAdaptor={filter:function(object){return isArray(object)&&(!object._ractive||!object._ractive.setting)},wrap:function(ractive,array,keypath){return new ArrayWrapper(ractive,array,keypath)}};ArrayWrapper=function(ractive,array,keypath){this.root=ractive;this.value=array;this.keypath=getKeypath(keypath);if(!array._ractive){defineProperty(array,"_ractive",{value:{wrappers:[],instances:[],setting:false},configurable:true});patch(array)}if(!array._ractive.instances[ractive._guid]){array._ractive.instances[ractive._guid]=0;array._ractive.instances.push(ractive)}array._ractive.instances[ractive._guid]+=1;array._ractive.wrappers.push(this)};ArrayWrapper.prototype={get:function(){return this.value},teardown:function(){var array,storage,wrappers,instances,index;array=this.value;storage=array._ractive;wrappers=storage.wrappers;instances=storage.instances;if(storage.setting){return false}index=wrappers.indexOf(this);if(index===-1){throw new Error(array_index__errorMessage)}wrappers.splice(index,1);if(!wrappers.length){delete array._ractive;patch.unpatch(this.value)}else{instances[this.root._guid]-=1;if(!instances[this.root._guid]){index=instances.indexOf(this.root);if(index===-1){throw new Error(array_index__errorMessage)}instances.splice(index,1)}}}};array_index__errorMessage="Something went wrong in a rather interesting way";var array_index=arrayAdaptor;var numeric=/^\s*[0-9]+\s*$/;var createBranch=function(key){return numeric.test(key)?[]:{}};var magicAdaptor,MagicWrapper;try{Object.defineProperty({},"test",{value:0});magicAdaptor={filter:function(object,keypath,ractive){var parentWrapper,parentValue;if(!keypath){return false}keypath=getKeypath(keypath);if((parentWrapper=ractive.viewmodel.wrapped[keypath.parent.str])&&!parentWrapper.magic){return false}parentValue=ractive.viewmodel.get(keypath.parent);if(isArray(parentValue)&&/^[0-9]+$/.test(keypath.lastKey)){return false}return parentValue&&(typeof parentValue==="object"||typeof parentValue==="function")},wrap:function(ractive,property,keypath){return new MagicWrapper(ractive,property,keypath)}};MagicWrapper=function(ractive,value,keypath){var objKeypath,template,siblings;keypath=getKeypath(keypath);this.magic=true;this.ractive=ractive;this.keypath=keypath;this.value=value;this.prop=keypath.lastKey;objKeypath=keypath.parent;this.obj=objKeypath.isRoot?ractive.viewmodel.data:ractive.viewmodel.get(objKeypath);template=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop);if(template&&template.set&&(siblings=template.set._ractiveWrappers)){if(siblings.indexOf(this)===-1){siblings.push(this)}return}createAccessors(this,value,template)};MagicWrapper.prototype={get:function(){return this.value},reset:function(value){if(this.updating){return}this.updating=true;this.obj[this.prop]=value;global_runloop.addRactive(this.ractive);this.ractive.viewmodel.mark(this.keypath,{keepExistingWrapper:true});this.updating=false;return true},set:function(key,value){if(this.updating){return}if(!this.obj[this.prop]){this.updating=true;this.obj[this.prop]=createBranch(key);this.updating=false}this.obj[this.prop][key]=value},teardown:function(){var template,set,value,wrappers,index;if(this.updating){return false}template=Object.getOwnPropertyDescriptor(this.obj,this.prop);set=template&&template.set;if(!set){return}wrappers=set._ractiveWrappers;index=wrappers.indexOf(this);if(index!==-1){wrappers.splice(index,1)}if(!wrappers.length){value=this.obj[this.prop];Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:true,enumerable:true,configurable:true});this.obj[this.prop]=value}}}}catch(err){magicAdaptor=false}var adaptors_magic=magicAdaptor;function createAccessors(originalWrapper,value,template){var object,property,oldGet,oldSet,get,set;object=originalWrapper.obj;property=originalWrapper.prop;if(template&&!template.configurable){if(property==="length"){return}throw new Error('Cannot use magic mode with property "'+property+'" - object is not configurable')}if(template){oldGet=template.get;oldSet=template.set}get=oldGet||function(){return value};set=function(v){if(oldSet){oldSet(v)}value=oldGet?oldGet():v;set._ractiveWrappers.forEach(updateWrapper)};function updateWrapper(wrapper){var keypath,ractive;wrapper.value=value;if(wrapper.updating){return}ractive=wrapper.ractive;keypath=wrapper.keypath;wrapper.updating=true;global_runloop.start(ractive);ractive.viewmodel.mark(keypath);global_runloop.end();wrapper.updating=false}set._ractiveWrappers=[originalWrapper];Object.defineProperty(object,property,{get:get,set:set,enumerable:true,configurable:true})}var magicArrayAdaptor,MagicArrayWrapper;if(adaptors_magic){magicArrayAdaptor={filter:function(object,keypath,ractive){return adaptors_magic.filter(object,keypath,ractive)&&array_index.filter(object)},wrap:function(ractive,array,keypath){return new MagicArrayWrapper(ractive,array,keypath)}};MagicArrayWrapper=function(ractive,array,keypath){this.value=array;this.magic=true;this.magicWrapper=adaptors_magic.wrap(ractive,array,keypath);this.arrayWrapper=array_index.wrap(ractive,array,keypath)};MagicArrayWrapper.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown();this.magicWrapper.teardown()},reset:function(value){return this.magicWrapper.reset(value)}}}var magicArray=magicArrayAdaptor;var prototype_adapt=Viewmodel$adapt;var prefixers={};function Viewmodel$adapt(keypath,value){var len,i,adaptor,wrapped;if(!this.adaptors)return;len=this.adaptors.length;for(i=0;i<len;i+=1){adaptor=this.adaptors[i];if(adaptor.filter(value,keypath,this.ractive)){wrapped=this.wrapped[keypath]=adaptor.wrap(this.ractive,value,keypath,getPrefixer(keypath));wrapped.value=value;return}}}function prefixKeypath(obj,prefix){var prefixed={},key;if(!prefix){return obj}prefix+=".";for(key in obj){if(obj.hasOwnProperty(key)){prefixed[prefix+key]=obj[key]}}return prefixed}function getPrefixer(rootKeypath){var rootDot;if(!prefixers[rootKeypath]){rootDot=rootKeypath?rootKeypath+".":"";prefixers[rootKeypath]=function(relativeKeypath,value){var obj;if(typeof relativeKeypath==="string"){obj={};obj[rootDot+relativeKeypath]=value;return obj}if(typeof relativeKeypath==="object"){return rootDot?prefixKeypath(relativeKeypath,rootKeypath):relativeKeypath}}}return prefixers[rootKeypath]}var helpers_getUpstreamChanges=getUpstreamChanges;function getUpstreamChanges(changes){var upstreamChanges=[rootKeypath],i,keypath;i=changes.length;while(i--){keypath=changes[i].parent;while(keypath&&!keypath.isRoot){if(changes.indexOf(keypath)===-1){addToArray(upstreamChanges,keypath)}keypath=keypath.parent}}return upstreamChanges}var applyChanges_notifyPatternObservers=notifyPatternObservers;function notifyPatternObservers(viewmodel,keypath,onlyDirect){var potentialWildcardMatches;updateMatchingPatternObservers(viewmodel,keypath);if(onlyDirect){return}potentialWildcardMatches=keypath.wildcardMatches();potentialWildcardMatches.forEach(function(upstreamPattern){cascade(viewmodel,upstreamPattern,keypath)})}function cascade(viewmodel,upstreamPattern,keypath){var group,map,actualChildKeypath;upstreamPattern=upstreamPattern.str||upstreamPattern;group=viewmodel.depsMap.patternObservers;map=group&&group[upstreamPattern];if(!map){return}map.forEach(function(childKeypath){actualChildKeypath=keypath.join(childKeypath.lastKey);updateMatchingPatternObservers(viewmodel,actualChildKeypath);cascade(viewmodel,childKeypath,actualChildKeypath)})}function updateMatchingPatternObservers(viewmodel,keypath){viewmodel.patternObservers.forEach(function(observer){if(observer.regex.test(keypath.str)){observer.update(keypath)}})}var applyChanges=Viewmodel$applyChanges;function Viewmodel$applyChanges(){var _this=this;var self=this,changes,upstreamChanges,hash={},bindings;changes=this.changes;if(!changes.length){return}function invalidateComputation(computation){var key=computation.key;if(computation.viewmodel===self){self.clearCache(key.str);computation.invalidate();changes.push(key);cascade(key)}else{computation.viewmodel.mark(key)}}function cascade(keypath){var map,computations;if(self.noCascade.hasOwnProperty(keypath.str)){return}if(computations=self.deps.computed[keypath.str]){computations.forEach(invalidateComputation)}if(map=self.depsMap.computed[keypath.str]){map.forEach(cascade)}}changes.slice().forEach(cascade);upstreamChanges=helpers_getUpstreamChanges(changes);upstreamChanges.forEach(function(keypath){var computations;if(changes.indexOf(keypath)===-1&&(computations=self.deps.computed[keypath.str])){computations.forEach(invalidateComputation)}});this.changes=[];if(this.patternObservers.length){upstreamChanges.forEach(function(keypath){return applyChanges_notifyPatternObservers(_this,keypath,true)});changes.forEach(function(keypath){return applyChanges_notifyPatternObservers(_this,keypath)})}if(this.deps.observers){upstreamChanges.forEach(function(keypath){return notifyUpstreamDependants(_this,null,keypath,"observers")});notifyAllDependants(this,changes,"observers")}if(this.deps["default"]){bindings=[];upstreamChanges.forEach(function(keypath){return notifyUpstreamDependants(_this,bindings,keypath,"default")});if(bindings.length){notifyBindings(this,bindings,changes)}notifyAllDependants(this,changes,"default")}changes.forEach(function(keypath){hash[keypath.str]=_this.get(keypath)});this.implicitChanges={};this.noCascade={};return hash}function notifyUpstreamDependants(viewmodel,bindings,keypath,groupName){var dependants,value;if(dependants=findDependants(viewmodel,keypath,groupName)){value=viewmodel.get(keypath);dependants.forEach(function(d){if(bindings&&d.refineValue){bindings.push(d)}else{d.setValue(value)}})}}function notifyBindings(viewmodel,bindings,changes){bindings.forEach(function(binding){var useSet=false,i=0,length=changes.length,refinements=[];while(i<length){var keypath=changes[i];if(keypath===binding.keypath){useSet=true;break}if(keypath.slice(0,binding.keypath.length)===binding.keypath){refinements.push(keypath)}i++}if(useSet){binding.setValue(viewmodel.get(binding.keypath))}if(refinements.length){binding.refineValue(refinements)}})}function notifyAllDependants(viewmodel,keypaths,groupName){var queue=[];addKeypaths(keypaths);queue.forEach(dispatch);function addKeypaths(keypaths){keypaths.forEach(addKeypath);keypaths.forEach(cascade)}function addKeypath(keypath){var deps=findDependants(viewmodel,keypath,groupName);if(deps){queue.push({keypath:keypath,deps:deps})}}function cascade(keypath){var childDeps;if(childDeps=viewmodel.depsMap[groupName][keypath.str]){addKeypaths(childDeps)}}function dispatch(set){var value=viewmodel.get(set.keypath);set.deps.forEach(function(d){return d.setValue(value)})}}function findDependants(viewmodel,keypath,groupName){var group=viewmodel.deps[groupName];return group?group[keypath.str]:null}var capture=Viewmodel$capture;function Viewmodel$capture(){this.captureGroups.push([])}var clearCache=Viewmodel$clearCache;function Viewmodel$clearCache(keypath,keepExistingWrapper){var cacheMap,wrapper;if(!keepExistingWrapper){if(wrapper=this.wrapped[keypath]){if(wrapper.teardown()!==false){this.wrapped[keypath]=null}}}this.cache[keypath]=undefined;if(cacheMap=this.cacheMap[keypath]){while(cacheMap.length){this.clearCache(cacheMap.pop())}}}var UnresolvedDependency=function(computation,ref){this.computation=computation;this.viewmodel=computation.viewmodel;this.ref=ref;this.root=this.viewmodel.ractive;this.parentFragment=this.root.component&&this.root.component.parentFragment};UnresolvedDependency.prototype={resolve:function(keypath){this.computation.softDeps.push(keypath);this.computation.unresolvedDeps[keypath.str]=null;this.viewmodel.register(keypath,this.computation,"computed")}};var Computation_UnresolvedDependency=UnresolvedDependency;var Computation=function(key,signature){this.key=key;this.getter=signature.getter;this.setter=signature.setter;this.hardDeps=signature.deps||[];this.softDeps=[];this.unresolvedDeps={};this.depValues={};this._dirty=this._firstRun=true};Computation.prototype={constructor:Computation,init:function(viewmodel){var _this=this;var initial;this.viewmodel=viewmodel;this.bypass=true;initial=viewmodel.get(this.key);viewmodel.clearCache(this.key.str);this.bypass=false;if(this.setter&&initial!==undefined){this.set(initial)}if(this.hardDeps){this.hardDeps.forEach(function(d){return viewmodel.register(d,_this,"computed")})}},invalidate:function(){this._dirty=true},get:function(){var _this=this;var newDeps,dependenciesChanged,dependencyValuesChanged=false;if(this.getting){var msg="The "+this.key.str+" computation indirectly called itself. This probably indicates a bug in the computation. It is commonly caused by `array.sort(...)` - if that's the case, clone the array first with `array.slice().sort(...)`";warnOnce(msg);return this.value}this.getting=true;if(this._dirty){if(this._firstRun||!this.hardDeps.length&&!this.softDeps.length){dependencyValuesChanged=true}else{[this.hardDeps,this.softDeps].forEach(function(deps){var keypath,value,i;if(dependencyValuesChanged){return}i=deps.length;while(i--){keypath=deps[i];value=_this.viewmodel.get(keypath);if(!isEqual(value,_this.depValues[keypath.str])){_this.depValues[keypath.str]=value;dependencyValuesChanged=true;return}}})}if(dependencyValuesChanged){this.viewmodel.capture();try{this.value=this.getter()}catch(err){warnIfDebug('Failed to compute "%s"',this.key.str);logIfDebug(err.stack||err);this.value=void 0}newDeps=this.viewmodel.release();dependenciesChanged=this.updateDependencies(newDeps);if(dependenciesChanged){[this.hardDeps,this.softDeps].forEach(function(deps){deps.forEach(function(keypath){_this.depValues[keypath.str]=_this.viewmodel.get(keypath)})})}}this._dirty=false}this.getting=this._firstRun=false;return this.value},set:function(value){if(this.setting){this.value=value;return}if(!this.setter){throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)")}this.setter(value)},updateDependencies:function(newDeps){var i,oldDeps,keypath,dependenciesChanged,unresolved;oldDeps=this.softDeps;i=oldDeps.length;while(i--){keypath=oldDeps[i];if(newDeps.indexOf(keypath)===-1){dependenciesChanged=true;this.viewmodel.unregister(keypath,this,"computed")}}i=newDeps.length;while(i--){keypath=newDeps[i];if(oldDeps.indexOf(keypath)===-1&&(!this.hardDeps||this.hardDeps.indexOf(keypath)===-1)){dependenciesChanged=true;if(isUnresolved(this.viewmodel,keypath)&&!this.unresolvedDeps[keypath.str]){unresolved=new Computation_UnresolvedDependency(this,keypath.str);newDeps.splice(i,1);this.unresolvedDeps[keypath.str]=unresolved;global_runloop.addUnresolved(unresolved)}else{this.viewmodel.register(keypath,this,"computed")}}}if(dependenciesChanged){this.softDeps=newDeps.slice()}return dependenciesChanged}};function isUnresolved(viewmodel,keypath){var key=keypath.firstKey;return!(key in viewmodel.data)&&!(key in viewmodel.computations)&&!(key in viewmodel.mappings)}var Computation_Computation=Computation;var compute=Viewmodel$compute;function Viewmodel$compute(key,signature){var computation=new Computation_Computation(key,signature);if(this.ready){computation.init(this)}return this.computations[key.str]=computation}var FAILED_LOOKUP={FAILED_LOOKUP:true};var viewmodel_prototype_get=Viewmodel$get;var viewmodel_prototype_get__empty={};function Viewmodel$get(keypath,options){var cache=this.cache,value,computation,wrapped,captureGroup,keypathStr=keypath.str,key;options=options||viewmodel_prototype_get__empty;if(options.capture&&(captureGroup=lastItem(this.captureGroups))){if(!~captureGroup.indexOf(keypath)){captureGroup.push(keypath)}}if(hasOwn.call(this.mappings,keypath.firstKey)){return this.mappings[keypath.firstKey].get(keypath,options)}if(keypath.isSpecial){return keypath.value}if(cache[keypathStr]===undefined){if((computation=this.computations[keypathStr])&&!computation.bypass){value=computation.get();this.adapt(keypathStr,value)}else if(wrapped=this.wrapped[keypathStr]){value=wrapped.value}else if(keypath.isRoot){this.adapt("",this.data);value=this.data}else{value=retrieve(this,keypath)}cache[keypathStr]=value}else{value=cache[keypathStr]}if(!options.noUnwrap&&(wrapped=this.wrapped[keypathStr])){value=wrapped.get()}if(keypath.isRoot&&options.fullRootGet){for(key in this.mappings){value[key]=this.mappings[key].getValue()}}return value===FAILED_LOOKUP?void 0:value}function retrieve(viewmodel,keypath){var parentValue,cacheMap,value,wrapped;parentValue=viewmodel.get(keypath.parent);if(wrapped=viewmodel.wrapped[keypath.parent.str]){parentValue=wrapped.get()}if(parentValue===null||parentValue===undefined){return}if(!(cacheMap=viewmodel.cacheMap[keypath.parent.str])){viewmodel.cacheMap[keypath.parent.str]=[keypath.str]}else{if(cacheMap.indexOf(keypath.str)===-1){cacheMap.push(keypath.str)}}if(typeof parentValue==="object"&&!(keypath.lastKey in parentValue)){return viewmodel.cache[keypath.str]=FAILED_LOOKUP}value=parentValue[keypath.lastKey];viewmodel.adapt(keypath.str,value,false);viewmodel.cache[keypath.str]=value;return value}var viewmodel_prototype_init=Viewmodel$init;function Viewmodel$init(){var key;for(key in this.computations){this.computations[key].init(this)}}var prototype_map=Viewmodel$map;function Viewmodel$map(key,options){var mapping=this.mappings[key.str]=new Mapping(key,options);mapping.initViewmodel(this);return mapping}var Mapping=function(localKey,options){this.localKey=localKey;this.keypath=options.keypath;this.origin=options.origin;this.deps=[];this.unresolved=[];this.resolved=false};Mapping.prototype={forceResolution:function(){this.keypath=this.localKey;this.setup()},get:function(keypath,options){if(!this.resolved){return undefined}return this.origin.get(this.map(keypath),options)},getValue:function(){if(!this.keypath){return undefined}return this.origin.get(this.keypath)},initViewmodel:function(viewmodel){this.local=viewmodel;this.setup()},map:function(keypath){if(typeof this.keypath===undefined){return this.localKey}return keypath.replace(this.localKey,this.keypath)},register:function(keypath,dependant,group){this.deps.push({keypath:keypath,dep:dependant,group:group});if(this.resolved){this.origin.register(this.map(keypath),dependant,group)}},resolve:function(keypath){if(this.keypath!==undefined){this.unbind(true)}this.keypath=keypath;this.setup()},set:function(keypath,value){if(!this.resolved){this.forceResolution()}this.origin.set(this.map(keypath),value)},setup:function(){var _this=this;if(this.keypath===undefined){return}this.resolved=true;if(this.deps.length){this.deps.forEach(function(d){var keypath=_this.map(d.keypath);_this.origin.register(keypath,d.dep,d.group);if(d.dep.setValue){d.dep.setValue(_this.origin.get(keypath))}else if(d.dep.invalidate){d.dep.invalidate()}else{throw new Error("An unexpected error occurred. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!")}});this.origin.mark(this.keypath)}},setValue:function(value){if(!this.keypath){throw new Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!")}this.origin.set(this.keypath,value)},unbind:function(keepLocal){var _this=this;if(!keepLocal){delete this.local.mappings[this.localKey]}if(!this.resolved){return}this.deps.forEach(function(d){_this.origin.unregister(_this.map(d.keypath),d.dep,d.group)});if(this.tracker){this.origin.unregister(this.keypath,this.tracker)}},unregister:function(keypath,dependant,group){var deps,i;if(!this.resolved){return}deps=this.deps;i=deps.length;while(i--){if(deps[i].dep===dependant){deps.splice(i,1);break}}this.origin.unregister(this.map(keypath),dependant,group)}};var mark=Viewmodel$mark;function Viewmodel$mark(keypath,options){var computation,keypathStr=keypath.str;if(options){if(options.implicit){this.implicitChanges[keypathStr]=true}if(options.noCascade){this.noCascade[keypathStr]=true}}if(computation=this.computations[keypathStr]){computation.invalidate()}if(this.changes.indexOf(keypath)===-1){this.changes.push(keypath)}var keepExistingWrapper=options?options.keepExistingWrapper:false;this.clearCache(keypathStr,keepExistingWrapper);if(this.ready){this.onchange()}}var mapOldToNewIndex=function(oldArray,newArray){var usedIndices,firstUnusedIndex,newIndices,changed;usedIndices={};firstUnusedIndex=0;newIndices=oldArray.map(function(item,i){var index,start,len;start=firstUnusedIndex;len=newArray.length;do{index=newArray.indexOf(item,start);if(index===-1){changed=true;return-1}start=index+1}while(usedIndices[index]&&start<len);if(index===firstUnusedIndex){firstUnusedIndex+=1}if(index!==i){changed=true}usedIndices[index]=true;return index});return newIndices};var merge=Viewmodel$merge;var comparators={};function Viewmodel$merge(keypath,currentArray,array,options){var oldArray,newArray,comparator,newIndices;this.mark(keypath);if(options&&options.compare){comparator=getComparatorFunction(options.compare);try{oldArray=currentArray.map(comparator);newArray=array.map(comparator)}catch(err){warnIfDebug('merge(): "%s" comparison failed. Falling back to identity checking',keypath);oldArray=currentArray;newArray=array}}else{oldArray=currentArray;newArray=array}newIndices=mapOldToNewIndex(oldArray,newArray);this.smartUpdate(keypath,array,newIndices,currentArray.length!==array.length)}function stringify(item){return JSON.stringify(item)}function getComparatorFunction(comparator){if(comparator===true){return stringify}if(typeof comparator==="string"){if(!comparators[comparator]){comparators[comparator]=function(item){return item[comparator]}}return comparators[comparator]}if(typeof comparator==="function"){return comparator}throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}var register=Viewmodel$register;function Viewmodel$register(keypath,dependant){var group=arguments[2]===undefined?"default":arguments[2];var mapping,depsByKeypath,deps;if(dependant.isStatic){return}if(mapping=this.mappings[keypath.firstKey]){mapping.register(keypath,dependant,group)}else{depsByKeypath=this.deps[group]||(this.deps[group]={});deps=depsByKeypath[keypath.str]||(depsByKeypath[keypath.str]=[]);deps.push(dependant);if(!this.depsMap[group]){this.depsMap[group]={}}if(!keypath.isRoot){register__updateDependantsMap(this,keypath,group)}}}function register__updateDependantsMap(viewmodel,keypath,group){var map,parent,keypathStr;while(!keypath.isRoot){map=viewmodel.depsMap[group];parent=map[keypath.parent.str]||(map[keypath.parent.str]=[]);keypathStr=keypath.str;if(parent["_"+keypathStr]===undefined){parent["_"+keypathStr]=0;parent.push(keypath)}parent["_"+keypathStr]+=1;keypath=keypath.parent}}var release=Viewmodel$release;function Viewmodel$release(){return this.captureGroups.pop()}var reset=Viewmodel$reset;function Viewmodel$reset(data){this.data=data;this.clearCache("")}var prototype_set=Viewmodel$set;function Viewmodel$set(keypath,value){var options=arguments[2]===undefined?{}:arguments[2];var mapping,computation,wrapper,keepExistingWrapper;if(!options.noMapping){if(mapping=this.mappings[keypath.firstKey]){return mapping.set(keypath,value)}}computation=this.computations[keypath.str];if(computation){if(computation.setting){return}computation.set(value);value=computation.get()}if(isEqual(this.cache[keypath.str],value)){return}wrapper=this.wrapped[keypath.str];if(wrapper&&wrapper.reset){keepExistingWrapper=wrapper.reset(value)!==false
;if(keepExistingWrapper){value=wrapper.get()}}if(!computation&&!keepExistingWrapper){resolveSet(this,keypath,value)}if(!options.silent){this.mark(keypath)}else{this.clearCache(keypath.str)}}function resolveSet(viewmodel,keypath,value){var wrapper,parentValue,wrapperSet,valueSet;wrapperSet=function(){if(wrapper.set){wrapper.set(keypath.lastKey,value)}else{parentValue=wrapper.get();valueSet()}};valueSet=function(){if(!parentValue){parentValue=createBranch(keypath.lastKey);viewmodel.set(keypath.parent,parentValue,{silent:true})}parentValue[keypath.lastKey]=value};wrapper=viewmodel.wrapped[keypath.parent.str];if(wrapper){wrapperSet()}else{parentValue=viewmodel.get(keypath.parent);if(wrapper=viewmodel.wrapped[keypath.parent.str]){wrapperSet()}else{valueSet()}}}var smartUpdate=Viewmodel$smartUpdate;var implicitOption={implicit:true},noCascadeOption={noCascade:true};function Viewmodel$smartUpdate(keypath,array,newIndices){var _this=this;var dependants,oldLength,i;oldLength=newIndices.length;newIndices.forEach(function(newIndex,oldIndex){if(newIndex===-1){_this.mark(keypath.join(oldIndex),noCascadeOption)}});this.set(keypath,array,{silent:true});if(dependants=this.deps["default"][keypath.str]){dependants.filter(canShuffle).forEach(function(d){return d.shuffle(newIndices,array)})}if(oldLength!==array.length){this.mark(keypath.join("length"),implicitOption);for(i=newIndices.touchedFrom;i<array.length;i+=1){this.mark(keypath.join(i))}for(i=array.length;i<oldLength;i+=1){this.mark(keypath.join(i),noCascadeOption)}}}function canShuffle(dependant){return typeof dependant.shuffle==="function"}var prototype_teardown=Viewmodel$teardown;function Viewmodel$teardown(){var _this=this;var unresolvedImplicitDependency;Object.keys(this.cache).forEach(function(keypath){return _this.clearCache(keypath)});while(unresolvedImplicitDependency=this.unresolvedImplicitDependencies.pop()){unresolvedImplicitDependency.teardown()}}var unregister=Viewmodel$unregister;function Viewmodel$unregister(keypath,dependant){var group=arguments[2]===undefined?"default":arguments[2];var mapping,deps,index;if(dependant.isStatic){return}if(mapping=this.mappings[keypath.firstKey]){return mapping.unregister(keypath,dependant,group)}deps=this.deps[group][keypath.str];index=deps.indexOf(dependant);if(index===-1){throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks")}deps.splice(index,1);if(keypath.isRoot){return}unregister__updateDependantsMap(this,keypath,group)}function unregister__updateDependantsMap(viewmodel,keypath,group){var map,parent;while(!keypath.isRoot){map=viewmodel.depsMap[group];parent=map[keypath.parent.str];parent["_"+keypath.str]-=1;if(!parent["_"+keypath.str]){removeFromArray(parent,keypath);parent["_"+keypath.str]=undefined}keypath=keypath.parent}}var Viewmodel=function(options){var adapt=options.adapt;var data=options.data;var ractive=options.ractive;var computed=options.computed;var mappings=options.mappings;var key;var mapping;this.ractive=ractive;this.adaptors=adapt;this.onchange=options.onchange;this.cache={};this.cacheMap=create(null);this.deps={computed:create(null),default:create(null)};this.depsMap={computed:create(null),default:create(null)};this.patternObservers=[];this.specials=create(null);this.wrapped=create(null);this.computations=create(null);this.captureGroups=[];this.unresolvedImplicitDependencies=[];this.changes=[];this.implicitChanges={};this.noCascade={};this.data=data;this.mappings=create(null);for(key in mappings){this.map(getKeypath(key),mappings[key])}if(data){for(key in data){if((mapping=this.mappings[key])&&mapping.getValue()===undefined){mapping.setValue(data[key])}}}for(key in computed){if(mappings&&key in mappings){fatal("Cannot map to a computed property ('%s')",key)}this.compute(getKeypath(key),computed[key])}this.ready=true};Viewmodel.prototype={adapt:prototype_adapt,applyChanges:applyChanges,capture:capture,clearCache:clearCache,compute:compute,get:viewmodel_prototype_get,init:viewmodel_prototype_init,map:prototype_map,mark:mark,merge:merge,register:register,release:release,reset:reset,set:prototype_set,smartUpdate:smartUpdate,teardown:prototype_teardown,unregister:unregister};var viewmodel_Viewmodel=Viewmodel;function HookQueue(event){this.hook=new hooks_Hook(event);this.inProcess={};this.queue={}}HookQueue.prototype={constructor:HookQueue,begin:function(ractive){this.inProcess[ractive._guid]=true},end:function(ractive){var parent=ractive.parent;if(!parent||!this.inProcess[parent._guid]){fire(this,ractive)}else{getChildQueue(this.queue,parent).push(ractive)}delete this.inProcess[ractive._guid]}};function getChildQueue(queue,ractive){return queue[ractive._guid]||(queue[ractive._guid]=[])}function fire(hookQueue,ractive){var childQueue=getChildQueue(hookQueue.queue,ractive);hookQueue.hook.fire(ractive);while(childQueue.length){fire(hookQueue,childQueue.shift())}delete hookQueue.queue[ractive._guid]}var hooks_HookQueue=HookQueue;var helpers_getComputationSignatures=getComputationSignatures;var helpers_getComputationSignatures__pattern=/\$\{([^\}]+)\}/g;function getComputationSignatures(ractive,computed){var signatures={},key;for(key in computed){signatures[key]=getComputationSignature(ractive,key,computed[key])}return signatures}function getComputationSignature(ractive,key,signature){var getter,setter;if(typeof signature==="function"){getter=helpers_getComputationSignatures__bind(signature,ractive)}if(typeof signature==="string"){getter=createFunctionFromString(ractive,signature)}if(typeof signature==="object"){if(typeof signature.get==="string"){getter=createFunctionFromString(ractive,signature.get)}else if(typeof signature.get==="function"){getter=helpers_getComputationSignatures__bind(signature.get,ractive)}else{fatal("`%s` computation must have a `get()` method",key)}if(typeof signature.set==="function"){setter=helpers_getComputationSignatures__bind(signature.set,ractive)}}return{getter:getter,setter:setter}}function createFunctionFromString(ractive,str){var functionBody,hasThis,fn;functionBody="return ("+str.replace(helpers_getComputationSignatures__pattern,function(match,keypath){hasThis=true;return'__ractive.get("'+keypath+'")'})+");";if(hasThis){functionBody="var __ractive = this; "+functionBody}fn=new Function(functionBody);return hasThis?fn.bind(ractive):fn}function helpers_getComputationSignatures__bind(fn,context){return/this/.test(fn.toString())?fn.bind(context):fn}var constructHook=new hooks_Hook("construct");var configHook=new hooks_Hook("config");var initHook=new hooks_HookQueue("init");var initialise__uid=0;var initialise__registryNames=["adaptors","components","decorators","easing","events","interpolators","partials","transitions"];var initialise=initialiseRactiveInstance;function initialiseRactiveInstance(ractive){var userOptions=arguments[1]===undefined?{}:arguments[1];var options=arguments[2]===undefined?{}:arguments[2];var el,viewmodel;if(_Ractive.DEBUG){welcome()}initialiseProperties(ractive,options);defineProperty(ractive,"data",{get:deprecateRactiveData});constructHook.fire(ractive,userOptions);initialise__registryNames.forEach(function(name){ractive[name]=utils_object__extend(create(ractive.constructor[name]||null),userOptions[name])});viewmodel=new viewmodel_Viewmodel({adapt:getAdaptors(ractive,ractive.adapt,userOptions),data:custom_data.init(ractive.constructor,ractive,userOptions),computed:helpers_getComputationSignatures(ractive,utils_object__extend(create(ractive.constructor.prototype.computed),userOptions.computed)),mappings:options.mappings,ractive:ractive,onchange:function(){return global_runloop.addRactive(ractive)}});ractive.viewmodel=viewmodel;viewmodel.init();config_config.init(ractive.constructor,ractive,userOptions);configHook.fire(ractive);initHook.begin(ractive);if(ractive.template){var cssIds=undefined;if(options.cssIds||ractive.cssId){cssIds=options.cssIds?options.cssIds.slice():[];if(ractive.cssId){cssIds.push(ractive.cssId)}}ractive.fragment=new virtualdom_Fragment({template:ractive.template,root:ractive,owner:ractive,cssIds:cssIds})}initHook.end(ractive);if(el=getElement(ractive.el)){var promise=ractive.render(el,ractive.append);if(_Ractive.DEBUG_PROMISES){promise["catch"](function(err){warnOnceIfDebug("Promise debugging is enabled, to help solve errors that happen asynchronously. Some browsers will log unhandled promise rejections, in which case you can safely disable promise debugging:\n  Ractive.DEBUG_PROMISES = false;");warnIfDebug("An error happened during rendering",{ractive:ractive});err.stack&&logIfDebug(err.stack);throw err})}}}function getAdaptors(ractive,protoAdapt,userOptions){var adapt,magic,modifyArrays;protoAdapt=protoAdapt.map(lookup);adapt=ensureArray(userOptions.adapt).map(lookup);adapt=initialise__combine(protoAdapt,adapt);magic="magic"in userOptions?userOptions.magic:ractive.magic;modifyArrays="modifyArrays"in userOptions?userOptions.modifyArrays:ractive.modifyArrays;if(magic){if(!environment__magic){throw new Error("Getters and setters (magic mode) are not supported in this browser")}if(modifyArrays){adapt.push(magicArray)}adapt.push(adaptors_magic)}if(modifyArrays){adapt.push(array_index)}return adapt;function lookup(adaptor){if(typeof adaptor==="string"){adaptor=findInViewHierarchy("adaptors",ractive,adaptor);if(!adaptor){fatal(missingPlugin(adaptor,"adaptor"))}}return adaptor}}function initialise__combine(a,b){var c=a.slice(),i=b.length;while(i--){if(!~c.indexOf(b[i])){c.push(b[i])}}return c}function initialiseProperties(ractive,options){ractive._guid="r-"+initialise__uid++;ractive._subs=create(null);ractive._config={};ractive._twowayBindings=create(null);ractive._animations=[];ractive.nodes={};ractive._liveQueries=[];ractive._liveComponentQueries=[];ractive._boundFunctions=[];ractive._observers=[];if(options.component){ractive.parent=options.parent;ractive.container=options.container||null;ractive.root=ractive.parent.root;ractive.component=options.component;options.component.instance=ractive;ractive._inlinePartials=options.inlinePartials}else{ractive.root=ractive;ractive.parent=ractive.container=null}}function deprecateRactiveData(){throw new Error("Using `ractive.data` is no longer supported - you must use the `ractive.get()` API instead")}function ComplexParameter(component,template,callback){this.parentFragment=component.parentFragment;this.callback=callback;this.fragment=new virtualdom_Fragment({template:template,root:component.root,owner:this});this.update()}var initialise_ComplexParameter=ComplexParameter;ComplexParameter.prototype={bubble:function(){if(!this.dirty){this.dirty=true;global_runloop.addView(this)}},update:function(){this.callback(this.fragment.getValue());this.dirty=false},rebind:function(oldKeypath,newKeypath){this.fragment.rebind(oldKeypath,newKeypath)},unbind:function(){this.fragment.unbind()}};var createInstance=function(component,Component,attributes,yieldTemplate,partials){var instance,parentFragment,ractive,fragment,container,inlinePartials={},data={},mappings={},ready,resolvers=[];parentFragment=component.parentFragment;ractive=component.root;partials=partials||{};utils_object__extend(inlinePartials,partials);partials.content=yieldTemplate||[];inlinePartials[""]=partials.content;if(Component.defaults.el){warnIfDebug("The <%s/> component has a default `el` property; it has been disregarded",component.name)}fragment=parentFragment;while(fragment){if(fragment.owner.type===YIELDER){container=fragment.owner.container;break}fragment=fragment.parent}if(attributes){Object.keys(attributes).forEach(function(key){var attribute=attributes[key],parsed,resolver;if(typeof attribute==="string"){parsed=parseJSON(attribute);data[key]=parsed?parsed.value:attribute}else if(attribute===0){data[key]=true}else if(isArray(attribute)){if(isSingleInterpolator(attribute)){mappings[key]={origin:component.root.viewmodel,keypath:undefined};resolver=createResolver(component,attribute[0],function(keypath){if(keypath.isSpecial){if(ready){instance.set(key,keypath.value)}else{data[key]=keypath.value;delete mappings[key]}}else{if(ready){instance.viewmodel.mappings[key].resolve(keypath)}else{mappings[key].keypath=keypath}}})}else{resolver=new initialise_ComplexParameter(component,attribute,function(value){if(ready){instance.set(key,value)}else{data[key]=value}})}resolvers.push(resolver)}else{throw new Error("erm wut")}})}instance=create(Component.prototype);initialise(instance,{el:null,append:true,data:data,partials:partials,magic:ractive.magic||Component.defaults.magic,modifyArrays:ractive.modifyArrays,adapt:ractive.adapt},{parent:ractive,component:component,container:container,mappings:mappings,inlinePartials:inlinePartials,cssIds:parentFragment.cssIds});ready=true;component.resolvers=resolvers;return instance};function createResolver(component,template,callback){var resolver;if(template.r){resolver=Resolvers_createReferenceResolver(component,template.r,callback)}else if(template.x){resolver=new Resolvers_ExpressionResolver(component,component.parentFragment,template.x,callback)}else if(template.rx){resolver=new ReferenceExpressionResolver_ReferenceExpressionResolver(component,template.rx,callback)}return resolver}function isSingleInterpolator(template){return template.length===1&&template[0].t===INTERPOLATOR}var initialise_propagateEvents=propagateEvents;function propagateEvents(component,eventsDescriptor){var eventName;for(eventName in eventsDescriptor){if(eventsDescriptor.hasOwnProperty(eventName)){propagateEvent(component.instance,component.root,eventName,eventsDescriptor[eventName])}}}function propagateEvent(childInstance,parentInstance,eventName,proxyEventName){if(typeof proxyEventName!=="string"){fatal("Components currently only support simple events - you cannot include arguments. Sorry!")}childInstance.on(eventName,function(){var event,args;if(arguments.length&&arguments[0]&&arguments[0].node){event=Array.prototype.shift.call(arguments)}args=Array.prototype.slice.call(arguments);shared_fireEvent(parentInstance,proxyEventName,{event:event,args:args});return false})}var initialise_updateLiveQueries=function(component){var ancestor,query;ancestor=component.root;while(ancestor){if(query=ancestor._liveComponentQueries["_"+component.name]){query.push(component.instance)}ancestor=ancestor.parent}};var Component_prototype_init=Component$init;function Component$init(options,Component){var parentFragment,root;if(!Component){throw new Error('Component "'+this.name+'" not found')}parentFragment=this.parentFragment=options.parentFragment;root=parentFragment.root;this.root=root;this.type=COMPONENT;this.name=options.template.e;this.index=options.index;this.indexRefBindings={};this.yielders={};this.resolvers=[];createInstance(this,Component,options.template.a,options.template.f,options.template.p);initialise_propagateEvents(this,options.template.v);if(options.template.t0||options.template.t1||options.template.t2||options.template.o){warnIfDebug('The "intro", "outro" and "decorator" directives have no effect on components',{ractive:this.instance})}initialise_updateLiveQueries(this)}var Component_prototype_rebind=Component$rebind;function Component$rebind(oldKeypath,newKeypath){var query;this.resolvers.forEach(rebind);for(var k in this.yielders){if(this.yielders[k][0]){rebind(this.yielders[k][0])}}if(query=this.root._liveComponentQueries["_"+this.name]){query._makeDirty()}function rebind(x){x.rebind(oldKeypath,newKeypath)}}var Component_prototype_render=Component$render;function Component$render(){var instance=this.instance;instance.render(this.parentFragment.getNode());this.rendered=true;return instance.fragment.detach()}var Component_prototype_toString=Component$toString;function Component$toString(){return this.instance.fragment.toString()}var Component_prototype_unbind=Component$unbind;var Component_prototype_unbind__teardownHook=new hooks_Hook("teardown");function Component$unbind(){var instance=this.instance;this.resolvers.forEach(methodCallers__unbind);removeFromLiveComponentQueries(this);instance._observers.forEach(cancel);instance.fragment.unbind();instance.viewmodel.teardown();if(instance.fragment.rendered&&instance.el.__ractive_instances__){removeFromArray(instance.el.__ractive_instances__,instance)}Component_prototype_unbind__teardownHook.fire(instance)}function removeFromLiveComponentQueries(component){var instance,query;instance=component.root;do{if(query=instance._liveComponentQueries["_"+component.name]){query._remove(component)}}while(instance=instance.parent)}var Component_prototype_unrender=Component$unrender;function Component$unrender(shouldDestroy){this.shouldDestroy=shouldDestroy;this.instance.unrender()}var Component=function(options,Constructor){this.init(options,Constructor)};Component.prototype={detach:Component_prototype_detach,find:Component_prototype_find,findAll:Component_prototype_findAll,findAllComponents:Component_prototype_findAllComponents,findComponent:Component_prototype_findComponent,findNextNode:Component_prototype_findNextNode,firstNode:Component_prototype_firstNode,init:Component_prototype_init,rebind:Component_prototype_rebind,render:Component_prototype_render,toString:Component_prototype_toString,unbind:Component_prototype_unbind,unrender:Component_prototype_unrender};var _Component=Component;var Comment=function(options){this.type=COMMENT;this.value=options.template.c};Comment.prototype={detach:shared_detach,firstNode:function(){return this.node},render:function(){if(!this.node){this.node=document.createComment(this.value)}return this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(shouldDestroy){if(shouldDestroy){this.node.parentNode.removeChild(this.node)}}};var items_Comment=Comment;var Yielder=function(options){var container,component;this.type=YIELDER;this.container=container=options.parentFragment.root;this.component=component=container.component;this.container=container;this.containerFragment=options.parentFragment;this.parentFragment=component.parentFragment;var name=this.name=options.template.n||"";var template=container._inlinePartials[name];if(!template){warnIfDebug('Could not find template for partial "'+name+'"',{ractive:options.root});template=[]}this.fragment=new virtualdom_Fragment({owner:this,root:container.parent,template:template,pElement:this.containerFragment.pElement});if(!isArray(component.yielders[name])){component.yielders[name]=[this]}else{component.yielders[name].push(this)}global_runloop.scheduleTask(function(){if(component.yielders[name].length>1){throw new Error("A component template can only have one {{yield"+(name?" "+name:"")+"}} declaration at a time")}})};Yielder.prototype={detach:function(){return this.fragment.detach()},find:function(selector){return this.fragment.find(selector)},findAll:function(selector,query){return this.fragment.findAll(selector,query)},findComponent:function(selector){return this.fragment.findComponent(selector)},findAllComponents:function(selector,query){return this.fragment.findAllComponents(selector,query)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(options){return this.fragment.getValue(options)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(shouldDestroy){this.fragment.unrender(shouldDestroy);removeFromArray(this.component.yielders[this.name],this)},rebind:function(oldKeypath,newKeypath){this.fragment.rebind(oldKeypath,newKeypath)},toString:function(){return this.fragment.toString()}};var items_Yielder=Yielder;var Doctype=function(options){this.declaration=options.template.a};Doctype.prototype={init:noop,render:noop,unrender:noop,teardown:noop,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var items_Doctype=Doctype;var Fragment_prototype_init=Fragment$init;function Fragment$init(options){var _this=this;this.owner=options.owner;this.parent=this.owner.parentFragment;this.root=options.root;this.pElement=options.pElement;this.context=options.context;this.index=options.index;this.key=options.key;this.registeredIndexRefs=[];this.cssIds="cssIds"in options?options.cssIds:this.parent?this.parent.cssIds:null;this.items=options.template.map(function(template,i){return createItem({parentFragment:_this,pElement:options.pElement,template:template,index:i})});this.value=this.argsList=null;this.dirtyArgs=this.dirtyValue=true;this.bound=true}function createItem(options){if(typeof options.template==="string"){return new items_Text(options)}switch(options.template.t){case YIELDER:return new items_Yielder(options);case INTERPOLATOR:return new items_Interpolator(options);case SECTION:return new _Section(options);case TRIPLE:return new _Triple(options);case ELEMENT:var constructor=undefined;if(constructor=Component_getComponent(options.parentFragment.root,options.template.e)){return new _Component(options,constructor)}return new _Element(options);case PARTIAL:return new _Partial(options);case COMMENT:return new items_Comment(options);case DOCTYPE:return new items_Doctype(options);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}var Fragment_prototype_rebind=Fragment$rebind;function Fragment$rebind(oldKeypath,newKeypath){if(!this.owner||this.owner.hasContext){assignNewKeypath(this,"context",oldKeypath,newKeypath)}this.items.forEach(function(item){if(item.rebind){item.rebind(oldKeypath,newKeypath)}})}var Fragment_prototype_render=Fragment$render;function Fragment$render(){var result;if(this.items.length===1){result=this.items[0].render()}else{result=document.createDocumentFragment();this.items.forEach(function(item){result.appendChild(item.render())})}this.rendered=true;return result}var Fragment_prototype_toString=Fragment$toString;function Fragment$toString(escape){if(!this.items){return""}return this.items.map(escape?toEscapedString:Fragment_prototype_toString__toString).join("")}function Fragment_prototype_toString__toString(item){return item.toString()}function toEscapedString(item){return item.toString(true)}var Fragment_prototype_unbind=Fragment$unbind;function Fragment$unbind(){if(!this.bound){return}this.items.forEach(unbindItem);this.bound=false}function unbindItem(item){if(item.unbind){item.unbind()}}var Fragment_prototype_unrender=Fragment$unrender;function Fragment$unrender(shouldDestroy){if(!this.rendered){throw new Error("Attempted to unrender a fragment that was not rendered")}this.items.forEach(function(i){return i.unrender(shouldDestroy)});this.rendered=false}var Fragment=function(options){this.init(options)};Fragment.prototype={bubble:prototype_bubble,detach:Fragment_prototype_detach,find:Fragment_prototype_find,findAll:Fragment_prototype_findAll,findAllComponents:Fragment_prototype_findAllComponents,findComponent:Fragment_prototype_findComponent,findNextNode:prototype_findNextNode,firstNode:prototype_firstNode,getArgsList:getArgsList,getNode:getNode,getValue:prototype_getValue,init:Fragment_prototype_init,rebind:Fragment_prototype_rebind,registerIndexRef:function(idx){var idxs=this.registeredIndexRefs;if(idxs.indexOf(idx)===-1){idxs.push(idx)}},render:Fragment_prototype_render,toString:Fragment_prototype_toString,unbind:Fragment_prototype_unbind,unregisterIndexRef:function(idx){var idxs=this.registeredIndexRefs;idxs.splice(idxs.indexOf(idx),1)},unrender:Fragment_prototype_unrender};var virtualdom_Fragment=Fragment;var prototype_reset=Ractive$reset;var shouldRerender=["template","partials","components","decorators","events"],resetHook=new hooks_Hook("reset");function Ractive$reset(data){var promise,wrapper,changes,i,rerender;data=data||{};if(typeof data!=="object"){throw new Error("The reset method takes either no arguments, or an object containing new data")}if((wrapper=this.viewmodel.wrapped[""])&&wrapper.reset){if(wrapper.reset(data)===false){this.viewmodel.reset(data)}}else{this.viewmodel.reset(data)}changes=config_config.reset(this);i=changes.length;while(i--){if(shouldRerender.indexOf(changes[i])>-1){rerender=true;break}}if(rerender){var component=undefined;this.viewmodel.mark(rootKeypath);if(component=this.component){component.shouldDestroy=true}this.unrender();if(component){component.shouldDestroy=false}if(this.fragment.template!==this.template){this.fragment.unbind();this.fragment=new virtualdom_Fragment({template:this.template,root:this,owner:this})}promise=this.render(this.el,this.anchor)}else{promise=global_runloop.start(this,true);this.viewmodel.mark(rootKeypath);global_runloop.end()}resetHook.fire(this,data);return promise}var resetPartial=function(name,partial){var promise,collection=[];function collect(source,dest,ractive){if(ractive&&ractive.partials[name])return;source.forEach(function(item){if(item.type===PARTIAL&&item.getPartialName()===name){dest.push(item)}if(item.fragment){collect(item.fragment.items,dest,ractive)}if(isArray(item.fragments)){collect(item.fragments,dest,ractive)}else if(isArray(item.items)){collect(item.items,dest,ractive)}else if(item.type===COMPONENT&&item.instance){collect(item.instance.fragment.items,dest,item.instance)}if(item.type===ELEMENT){if(isArray(item.attributes)){collect(item.attributes,dest,ractive)}if(isArray(item.conditionalAttributes)){collect(item.conditionalAttributes,dest,ractive)}}})}collect(this.fragment.items,collection);this.partials[name]=partial;promise=global_runloop.start(this,true);collection.forEach(function(item){item.value=undefined;item.setValue(name)});global_runloop.end();return promise};var resetTemplate=Ractive$resetTemplate;function Ractive$resetTemplate(template){var transitionsEnabled,component;template_template.init(null,this,{template:template});transitionsEnabled=this.transitionsEnabled;this.transitionsEnabled=false;if(component=this.component){component.shouldDestroy=true}this.unrender();if(component){component.shouldDestroy=false}this.fragment.unbind();this.fragment=new virtualdom_Fragment({template:this.template,root:this,owner:this});this.render(this.el,this.anchor);this.transitionsEnabled=transitionsEnabled}var reverse=makeArrayMethod("reverse");var Ractive_prototype_set=Ractive$set;function Ractive$set(keypath,value){var map,promise;promise=global_runloop.start(this,true);if(isObject(keypath)){map=keypath;for(keypath in map){if(map.hasOwnProperty(keypath)){value=map[keypath];set(this,keypath,value)}}}else{set(this,keypath,value)}global_runloop.end();return promise}function set(ractive,keypath,value){keypath=getKeypath(normalise(keypath));if(keypath.isPattern){getMatchingKeypaths(ractive,keypath).forEach(function(keypath){ractive.viewmodel.set(keypath,value)})}else{ractive.viewmodel.set(keypath,value)}}var shift=makeArrayMethod("shift");var prototype_sort=makeArrayMethod("sort");var splice=makeArrayMethod("splice");var subtract=Ractive$subtract;function Ractive$subtract(keypath,d){return shared_add(this,keypath,d===undefined?-1:-d)}var Ractive_prototype_teardown=Ractive$teardown;var Ractive_prototype_teardown__teardownHook=new hooks_Hook("teardown");function Ractive$teardown(){var promise;this.fragment.unbind();this.viewmodel.teardown();this._observers.forEach(cancel);if(this.fragment.rendered&&this.el.__ractive_instances__){removeFromArray(this.el.__ractive_instances__,this)}this.shouldDestroy=true;promise=this.fragment.rendered?this.unrender():utils_Promise.resolve();Ractive_prototype_teardown__teardownHook.fire(this);this._boundFunctions.forEach(deleteFunctionCopy);return promise}function deleteFunctionCopy(bound){delete bound.fn[bound.prop]}var toggle=Ractive$toggle;function Ractive$toggle(keypath){var _this=this;if(typeof keypath!=="string"){throw new TypeError(badArguments)}var changes=undefined;if(/\*/.test(keypath)){changes={};getMatchingKeypaths(this,getKeypath(normalise(keypath))).forEach(function(keypath){changes[keypath.str]=!_this.viewmodel.get(keypath)});return this.set(changes)}return this.set(keypath,!this.get(keypath))}var toHTML=Ractive$toHTML;function Ractive$toHTML(){return this.fragment.toString(true)}var Ractive_prototype_unrender=Ractive$unrender;var unrenderHook=new hooks_Hook("unrender");function Ractive$unrender(){var promise,shouldDestroy;if(!this.fragment.rendered){warnIfDebug("ractive.unrender() was called on a Ractive instance that was not rendered");return utils_Promise.resolve()}promise=global_runloop.start(this,true);shouldDestroy=!this.component||this.component.shouldDestroy||this.shouldDestroy;while(this._animations[0]){this._animations[0].stop()}this.fragment.unrender(shouldDestroy);removeFromArray(this.el.__ractive_instances__,this);unrenderHook.fire(this);global_runloop.end();return promise}var unshift=makeArrayMethod("unshift");var Ractive_prototype_update=Ractive$update;var updateHook=new hooks_Hook("update");function Ractive$update(keypath){var promise;keypath=getKeypath(keypath)||rootKeypath;promise=global_runloop.start(this,true);this.viewmodel.mark(keypath);global_runloop.end();updateHook.fire(this,keypath);return promise}var prototype_updateModel=Ractive$updateModel;function Ractive$updateModel(keypath,cascade){var values,key,bindings;if(typeof keypath==="string"&&!cascade){bindings=this._twowayBindings[keypath]}else{bindings=[];for(key in this._twowayBindings){if(!keypath||getKeypath(key).equalsOrStartsWith(keypath)){bindings.push.apply(bindings,this._twowayBindings[key])}}}values=consolidate(this,bindings);return this.set(values)}function consolidate(ractive,bindings){var values={},checkboxGroups=[];bindings.forEach(function(b){var oldValue,newValue;if(b.radioName&&!b.element.node.checked){return}if(b.checkboxName){if(!checkboxGroups[b.keypath.str]&&!b.changed()){checkboxGroups.push(b.keypath);checkboxGroups[b.keypath.str]=b}return}oldValue=b.attribute.value;newValue=b.getValue();if(arrayContentsMatch(oldValue,newValue)){return}if(!isEqual(oldValue,newValue)){values[b.keypath.str]=newValue}});if(checkboxGroups.length){checkboxGroups.forEach(function(keypath){var binding,oldValue,newValue;binding=checkboxGroups[keypath.str];oldValue=binding.attribute.value;newValue=binding.getValue();if(!arrayContentsMatch(oldValue,newValue)){values[keypath.str]=newValue}})}return values}var prototype={add:prototype_add,animate:prototype_animate,detach:prototype_detach,find:prototype_find,findAll:prototype_findAll,findAllComponents:prototype_findAllComponents,findComponent:prototype_findComponent,findContainer:findContainer,findParent:findParent,fire:prototype_fire,get:prototype_get,insert:insert,merge:prototype_merge,observe:observe,observeOnce:observeOnce,off:off,on:on,once:once,pop:pop,push:push,render:prototype_render,reset:prototype_reset,resetPartial:resetPartial,resetTemplate:resetTemplate,reverse:reverse,set:Ractive_prototype_set,shift:shift,sort:prototype_sort,splice:splice,subtract:subtract,teardown:Ractive_prototype_teardown,toggle:toggle,toHTML:toHTML,toHtml:toHTML,unrender:Ractive_prototype_unrender,unshift:unshift,update:Ractive_prototype_update,updateModel:prototype_updateModel};var wrapMethod=function(method,superMethod,force){if(force||needsSuper(method,superMethod)){return function(){var hasSuper="_super"in this,_super=this._super,result;this._super=superMethod;result=method.apply(this,arguments);if(hasSuper){this._super=_super}return result}}else{return method}};function needsSuper(method,superMethod){return typeof superMethod==="function"&&/_super/.test(method)}var unwrapExtended=unwrap;function unwrap(Child){var options={};while(Child){addRegistries(Child,options);addOtherOptions(Child,options);if(Child._Parent!==_Ractive){Child=Child._Parent}else{Child=false}}return options}function addRegistries(Child,options){config_registries.forEach(function(r){addRegistry(r.useDefaults?Child.prototype:Child,options,r.name)})}function addRegistry(target,options,name){var registry,keys=Object.keys(target[name]);if(!keys.length){return}
if(!(registry=options[name])){registry=options[name]={}}keys.filter(function(key){return!(key in registry)}).forEach(function(key){return registry[key]=target[name][key]})}function addOtherOptions(Child,options){Object.keys(Child.prototype).forEach(function(key){if(key==="computed"){return}var value=Child.prototype[key];if(!(key in options)){options[key]=value._method?value._method:value}else if(typeof options[key]==="function"&&typeof value==="function"&&options[key]._method){var result=undefined,needsSuper=value._method;if(needsSuper){value=value._method}result=wrapMethod(options[key]._method,value);if(needsSuper){result._method=result}options[key]=result}})}var _extend=_extend__extend;function _extend__extend(){for(var _len=arguments.length,options=Array(_len),_key=0;_key<_len;_key++){options[_key]=arguments[_key]}if(!options.length){return extendOne(this)}else{return options.reduce(extendOne,this)}}function extendOne(Parent){var options=arguments[1]===undefined?{}:arguments[1];var Child,proto;if(options.prototype instanceof _Ractive){options=unwrapExtended(options)}Child=function(options){if(!(this instanceof Child))return new Child(options);initialise(this,options)};proto=create(Parent.prototype);proto.constructor=Child;defineProperties(Child,{defaults:{value:proto},extend:{value:_extend__extend,writable:true,configurable:true},_Parent:{value:Parent}});config_config.extend(Parent,proto,options);custom_data.extend(Parent,proto,options);if(options.computed){proto.computed=utils_object__extend(create(Parent.prototype.computed),options.computed)}Child.prototype=proto;return Child}var getNodeInfo=function(node){var info={},priv,indices;if(!node||!(priv=node._ractive)){return info}info.ractive=priv.root;info.keypath=priv.keypath.str;info.index={};if(indices=Resolvers_findIndexRefs(priv.proxy.parentFragment)){info.index=Resolvers_findIndexRefs.resolve(indices)}return info};var Ractive,properties;Ractive=function(options){if(!(this instanceof Ractive))return new Ractive(options);initialise(this,options)};properties={DEBUG:{writable:true,value:true},DEBUG_PROMISES:{writable:true,value:true},extend:{value:_extend},getNodeInfo:{value:getNodeInfo},parse:{value:_parse},Promise:{value:utils_Promise},svg:{value:svg},magic:{value:environment__magic},VERSION:{value:"0.7.3"},adaptors:{writable:true,value:{}},components:{writable:true,value:{}},decorators:{writable:true,value:{}},easing:{writable:true,value:static_easing},events:{writable:true,value:{}},interpolators:{writable:true,value:static_interpolators},partials:{writable:true,value:{}},transitions:{writable:true,value:{}}};defineProperties(Ractive,properties);Ractive.prototype=utils_object__extend(prototype,config_defaults);Ractive.prototype.constructor=Ractive;Ractive.defaults=Ractive.prototype;var FUNCTION="function";if(typeof Date.now!==FUNCTION||typeof String.prototype.trim!==FUNCTION||typeof Object.keys!==FUNCTION||typeof Array.prototype.indexOf!==FUNCTION||typeof Array.prototype.forEach!==FUNCTION||typeof Array.prototype.map!==FUNCTION||typeof Array.prototype.filter!==FUNCTION||typeof window!=="undefined"&&typeof window.addEventListener!==FUNCTION){throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.")}var _Ractive=Ractive;return _Ractive})},{}],28:[function(require,module,exports){(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else if(typeof exports==="object"){factory(require("jquery"))}else{factory(jQuery)}})(function(jQuery){var S2=function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd){var S2=jQuery.fn.select2.amd}var S2;(function(){if(!S2||!S2.requirejs){if(!S2){S2={}}else{require=S2}var requirejs,require,define;(function(undef){var main,req,makeMap,handlers,defined={},waiting={},config={},defining={},hasOwn=Object.prototype.hasOwnProperty,aps=[].slice,jsSuffixRegExp=/\.js$/;function hasProp(obj,prop){return hasOwn.call(obj,prop)}function normalize(name,baseName){var nameParts,nameSegment,mapValue,foundMap,lastIndex,foundI,foundStarMap,starI,i,j,part,baseParts=baseName&&baseName.split("/"),map=config.map,starMap=map&&map["*"]||{};if(name&&name.charAt(0)==="."){if(baseName){name=name.split("/");lastIndex=name.length-1;if(config.nodeIdCompat&&jsSuffixRegExp.test(name[lastIndex])){name[lastIndex]=name[lastIndex].replace(jsSuffixRegExp,"")}name=baseParts.slice(0,baseParts.length-1).concat(name);for(i=0;i<name.length;i+=1){part=name[i];if(part==="."){name.splice(i,1);i-=1}else if(part===".."){if(i===1&&(name[2]===".."||name[0]==="..")){break}else if(i>0){name.splice(i-1,2);i-=2}}}name=name.join("/")}else if(name.indexOf("./")===0){name=name.substring(2)}}if((baseParts||starMap)&&map){nameParts=name.split("/");for(i=nameParts.length;i>0;i-=1){nameSegment=nameParts.slice(0,i).join("/");if(baseParts){for(j=baseParts.length;j>0;j-=1){mapValue=map[baseParts.slice(0,j).join("/")];if(mapValue){mapValue=mapValue[nameSegment];if(mapValue){foundMap=mapValue;foundI=i;break}}}}if(foundMap){break}if(!foundStarMap&&starMap&&starMap[nameSegment]){foundStarMap=starMap[nameSegment];starI=i}}if(!foundMap&&foundStarMap){foundMap=foundStarMap;foundI=starI}if(foundMap){nameParts.splice(0,foundI,foundMap);name=nameParts.join("/")}}return name}function makeRequire(relName,forceSync){return function(){var args=aps.call(arguments,0);if(typeof args[0]!=="string"&&args.length===1){args.push(null)}return req.apply(undef,args.concat([relName,forceSync]))}}function makeNormalize(relName){return function(name){return normalize(name,relName)}}function makeLoad(depName){return function(value){defined[depName]=value}}function callDep(name){if(hasProp(waiting,name)){var args=waiting[name];delete waiting[name];defining[name]=true;main.apply(undef,args)}if(!hasProp(defined,name)&&!hasProp(defining,name)){throw new Error("No "+name)}return defined[name]}function splitPrefix(name){var prefix,index=name?name.indexOf("!"):-1;if(index>-1){prefix=name.substring(0,index);name=name.substring(index+1,name.length)}return[prefix,name]}makeMap=function(name,relName){var plugin,parts=splitPrefix(name),prefix=parts[0];name=parts[1];if(prefix){prefix=normalize(prefix,relName);plugin=callDep(prefix)}if(prefix){if(plugin&&plugin.normalize){name=plugin.normalize(name,makeNormalize(relName))}else{name=normalize(name,relName)}}else{name=normalize(name,relName);parts=splitPrefix(name);prefix=parts[0];name=parts[1];if(prefix){plugin=callDep(prefix)}}return{f:prefix?prefix+"!"+name:name,n:name,pr:prefix,p:plugin}};function makeConfig(name){return function(){return config&&config.config&&config.config[name]||{}}}handlers={require:function(name){return makeRequire(name)},exports:function(name){var e=defined[name];if(typeof e!=="undefined"){return e}else{return defined[name]={}}},module:function(name){return{id:name,uri:"",exports:defined[name],config:makeConfig(name)}}};main=function(name,deps,callback,relName){var cjsModule,depName,ret,map,i,args=[],callbackType=typeof callback,usingExports;relName=relName||name;if(callbackType==="undefined"||callbackType==="function"){deps=!deps.length&&callback.length?["require","exports","module"]:deps;for(i=0;i<deps.length;i+=1){map=makeMap(deps[i],relName);depName=map.f;if(depName==="require"){args[i]=handlers.require(name)}else if(depName==="exports"){args[i]=handlers.exports(name);usingExports=true}else if(depName==="module"){cjsModule=args[i]=handlers.module(name)}else if(hasProp(defined,depName)||hasProp(waiting,depName)||hasProp(defining,depName)){args[i]=callDep(depName)}else if(map.p){map.p.load(map.n,makeRequire(relName,true),makeLoad(depName),{});args[i]=defined[depName]}else{throw new Error(name+" missing "+depName)}}ret=callback?callback.apply(defined[name],args):undefined;if(name){if(cjsModule&&cjsModule.exports!==undef&&cjsModule.exports!==defined[name]){defined[name]=cjsModule.exports}else if(ret!==undef||!usingExports){defined[name]=ret}}}else if(name){defined[name]=callback}};requirejs=require=req=function(deps,callback,relName,forceSync,alt){if(typeof deps==="string"){if(handlers[deps]){return handlers[deps](callback)}return callDep(makeMap(deps,callback).f)}else if(!deps.splice){config=deps;if(config.deps){req(config.deps,config.callback)}if(!callback){return}if(callback.splice){deps=callback;callback=relName;relName=null}else{deps=undef}}callback=callback||function(){};if(typeof relName==="function"){relName=forceSync;forceSync=alt}if(forceSync){main(undef,deps,callback,relName)}else{setTimeout(function(){main(undef,deps,callback,relName)},4)}return req};req.config=function(cfg){return req(cfg)};requirejs._defined=defined;define=function(name,deps,callback){if(typeof name!=="string"){throw new Error("See almond README: incorrect module build, no module name")}if(!deps.splice){callback=deps;deps=[]}if(!hasProp(defined,name)&&!hasProp(waiting,name)){waiting[name]=[name,deps,callback]}};define.amd={jQuery:true}})();S2.requirejs=requirejs;S2.require=require;S2.define=define}})();S2.define("almond",function(){});S2.define("jquery",[],function(){var _$=jQuery||$;if(_$==null&&console&&console.error){console.error("Select2: An instance of jQuery or a jQuery-compatible library was not "+"found. Make sure that you are including jQuery before Select2 on your "+"web page.")}return _$});S2.define("select2/utils",["jquery"],function($){var Utils={};Utils.Extend=function(ChildClass,SuperClass){var __hasProp={}.hasOwnProperty;function BaseConstructor(){this.constructor=ChildClass}for(var key in SuperClass){if(__hasProp.call(SuperClass,key)){ChildClass[key]=SuperClass[key]}}BaseConstructor.prototype=SuperClass.prototype;ChildClass.prototype=new BaseConstructor;ChildClass.__super__=SuperClass.prototype;return ChildClass};function getMethods(theClass){var proto=theClass.prototype;var methods=[];for(var methodName in proto){var m=proto[methodName];if(typeof m!=="function"){continue}if(methodName==="constructor"){continue}methods.push(methodName)}return methods}Utils.Decorate=function(SuperClass,DecoratorClass){var decoratedMethods=getMethods(DecoratorClass);var superMethods=getMethods(SuperClass);function DecoratedClass(){var unshift=Array.prototype.unshift;var argCount=DecoratorClass.prototype.constructor.length;var calledConstructor=SuperClass.prototype.constructor;if(argCount>0){unshift.call(arguments,SuperClass.prototype.constructor);calledConstructor=DecoratorClass.prototype.constructor}calledConstructor.apply(this,arguments)}DecoratorClass.displayName=SuperClass.displayName;function ctr(){this.constructor=DecoratedClass}DecoratedClass.prototype=new ctr;for(var m=0;m<superMethods.length;m++){var superMethod=superMethods[m];DecoratedClass.prototype[superMethod]=SuperClass.prototype[superMethod]}var calledMethod=function(methodName){var originalMethod=function(){};if(methodName in DecoratedClass.prototype){originalMethod=DecoratedClass.prototype[methodName]}var decoratedMethod=DecoratorClass.prototype[methodName];return function(){var unshift=Array.prototype.unshift;unshift.call(arguments,originalMethod);return decoratedMethod.apply(this,arguments)}};for(var d=0;d<decoratedMethods.length;d++){var decoratedMethod=decoratedMethods[d];DecoratedClass.prototype[decoratedMethod]=calledMethod(decoratedMethod)}return DecoratedClass};var Observable=function(){this.listeners={}};Observable.prototype.on=function(event,callback){this.listeners=this.listeners||{};if(event in this.listeners){this.listeners[event].push(callback)}else{this.listeners[event]=[callback]}};Observable.prototype.trigger=function(event){var slice=Array.prototype.slice;var params=slice.call(arguments,1);this.listeners=this.listeners||{};if(params==null){params=[]}if(params.length===0){params.push({})}params[0]._type=event;if(event in this.listeners){this.invoke(this.listeners[event],slice.call(arguments,1))}if("*"in this.listeners){this.invoke(this.listeners["*"],arguments)}};Observable.prototype.invoke=function(listeners,params){for(var i=0,len=listeners.length;i<len;i++){listeners[i].apply(this,params)}};Utils.Observable=Observable;Utils.generateChars=function(length){var chars="";for(var i=0;i<length;i++){var randomChar=Math.floor(Math.random()*36);chars+=randomChar.toString(36)}return chars};Utils.bind=function(func,context){return function(){func.apply(context,arguments)}};Utils._convertData=function(data){for(var originalKey in data){var keys=originalKey.split("-");var dataLevel=data;if(keys.length===1){continue}for(var k=0;k<keys.length;k++){var key=keys[k];key=key.substring(0,1).toLowerCase()+key.substring(1);if(!(key in dataLevel)){dataLevel[key]={}}if(k==keys.length-1){dataLevel[key]=data[originalKey]}dataLevel=dataLevel[key]}delete data[originalKey]}return data};Utils.hasScroll=function(index,el){var $el=$(el);var overflowX=el.style.overflowX;var overflowY=el.style.overflowY;if(overflowX===overflowY&&(overflowY==="hidden"||overflowY==="visible")){return false}if(overflowX==="scroll"||overflowY==="scroll"){return true}return $el.innerHeight()<el.scrollHeight||$el.innerWidth()<el.scrollWidth};Utils.escapeMarkup=function(markup){var replaceMap={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};if(typeof markup!=="string"){return markup}return String(markup).replace(/[&<>"'\/\\]/g,function(match){return replaceMap[match]})};Utils.appendMany=function($element,$nodes){if($.fn.jquery.substr(0,3)==="1.7"){var $jqNodes=$();$.map($nodes,function(node){$jqNodes=$jqNodes.add(node)});$nodes=$jqNodes}$element.append($nodes)};return Utils});S2.define("select2/results",["jquery","./utils"],function($,Utils){function Results($element,options,dataAdapter){this.$element=$element;this.data=dataAdapter;this.options=options;Results.__super__.constructor.call(this)}Utils.Extend(Results,Utils.Observable);Results.prototype.render=function(){var $results=$('<ul class="select2-results__options" role="tree"></ul>');if(this.options.get("multiple")){$results.attr("aria-multiselectable","true")}this.$results=$results;return $results};Results.prototype.clear=function(){this.$results.empty()};Results.prototype.displayMessage=function(params){var escapeMarkup=this.options.get("escapeMarkup");this.clear();this.hideLoading();var $message=$('<li role="treeitem" aria-live="assertive"'+' class="select2-results__option"></li>');var message=this.options.get("translations").get(params.message);$message.append(escapeMarkup(message(params.args)));$message[0].className+=" select2-results__message";this.$results.append($message)};Results.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()};Results.prototype.append=function(data){this.hideLoading();var $options=[];if(data.results==null||data.results.length===0){if(this.$results.children().length===0){this.trigger("results:message",{message:"noResults"})}return}data.results=this.sort(data.results);for(var d=0;d<data.results.length;d++){var item=data.results[d];var $option=this.option(item);$options.push($option)}this.$results.append($options)};Results.prototype.position=function($results,$dropdown){var $resultsContainer=$dropdown.find(".select2-results");$resultsContainer.append($results)};Results.prototype.sort=function(data){var sorter=this.options.get("sorter");return sorter(data)};Results.prototype.highlightFirstItem=function(){var $options=this.$results.find(".select2-results__option[aria-selected]");var $selected=$options.filter("[aria-selected=true]");if($selected.length>0){$selected.first().trigger("mouseenter")}else{$options.first().trigger("mouseenter")}this.ensureHighlightVisible()};Results.prototype.setClasses=function(){var self=this;this.data.current(function(selected){var selectedIds=$.map(selected,function(s){return s.id.toString()});var $options=self.$results.find(".select2-results__option[aria-selected]");$options.each(function(){var $option=$(this);var item=$.data(this,"data");var id=""+item.id;if(item.element!=null&&item.element.selected||item.element==null&&$.inArray(id,selectedIds)>-1){$option.attr("aria-selected","true")}else{$option.attr("aria-selected","false")}})})};Results.prototype.showLoading=function(params){this.hideLoading();var loadingMore=this.options.get("translations").get("searching");var loading={disabled:true,loading:true,text:loadingMore(params)};var $loading=this.option(loading);$loading.className+=" loading-results";this.$results.prepend($loading)};Results.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()};Results.prototype.option=function(data){var option=document.createElement("li");option.className="select2-results__option";var attrs={role:"treeitem","aria-selected":"false"};if(data.disabled){delete attrs["aria-selected"];attrs["aria-disabled"]="true"}if(data.id==null){delete attrs["aria-selected"]}if(data._resultId!=null){option.id=data._resultId}if(data.title){option.title=data.title}if(data.children){attrs.role="group";attrs["aria-label"]=data.text;delete attrs["aria-selected"]}for(var attr in attrs){var val=attrs[attr];option.setAttribute(attr,val)}if(data.children){var $option=$(option);var label=document.createElement("strong");label.className="select2-results__group";var $label=$(label);this.template(data,label);var $children=[];for(var c=0;c<data.children.length;c++){var child=data.children[c];var $child=this.option(child);$children.push($child)}var $childrenContainer=$("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});$childrenContainer.append($children);$option.append(label);$option.append($childrenContainer)}else{this.template(data,option)}$.data(option,"data",data);return option};Results.prototype.bind=function(container,$container){var self=this;var id=container.id+"-results";this.$results.attr("id",id);container.on("results:all",function(params){self.clear();self.append(params.data);if(container.isOpen()){self.setClasses();self.highlightFirstItem()}});container.on("results:append",function(params){self.append(params.data);if(container.isOpen()){self.setClasses()}});container.on("query",function(params){self.hideMessages();self.showLoading(params)});container.on("select",function(){if(!container.isOpen()){return}self.setClasses();self.highlightFirstItem()});container.on("unselect",function(){if(!container.isOpen()){return}self.setClasses();self.highlightFirstItem()});container.on("open",function(){self.$results.attr("aria-expanded","true");self.$results.attr("aria-hidden","false");self.setClasses();self.ensureHighlightVisible()});container.on("close",function(){self.$results.attr("aria-expanded","false");self.$results.attr("aria-hidden","true");self.$results.removeAttr("aria-activedescendant")});container.on("results:toggle",function(){var $highlighted=self.getHighlightedResults();if($highlighted.length===0){return}$highlighted.trigger("mouseup")});container.on("results:select",function(){var $highlighted=self.getHighlightedResults();if($highlighted.length===0){return}var data=$highlighted.data("data");if($highlighted.attr("aria-selected")=="true"){self.trigger("close",{})}else{self.trigger("select",{data:data})}});container.on("results:previous",function(){var $highlighted=self.getHighlightedResults();var $options=self.$results.find("[aria-selected]");var currentIndex=$options.index($highlighted);if(currentIndex===0){return}var nextIndex=currentIndex-1;if($highlighted.length===0){nextIndex=0}var $next=$options.eq(nextIndex);$next.trigger("mouseenter");var currentOffset=self.$results.offset().top;var nextTop=$next.offset().top;var nextOffset=self.$results.scrollTop()+(nextTop-currentOffset);if(nextIndex===0){self.$results.scrollTop(0)}else if(nextTop-currentOffset<0){self.$results.scrollTop(nextOffset)}});container.on("results:next",function(){var $highlighted=self.getHighlightedResults();var $options=self.$results.find("[aria-selected]");var currentIndex=$options.index($highlighted);var nextIndex=currentIndex+1;if(nextIndex>=$options.length){return}var $next=$options.eq(nextIndex);$next.trigger("mouseenter");var currentOffset=self.$results.offset().top+self.$results.outerHeight(false);var nextBottom=$next.offset().top+$next.outerHeight(false);var nextOffset=self.$results.scrollTop()+nextBottom-currentOffset;if(nextIndex===0){self.$results.scrollTop(0)}else if(nextBottom>currentOffset){self.$results.scrollTop(nextOffset)}});container.on("results:focus",function(params){params.element.addClass("select2-results__option--highlighted")});container.on("results:message",function(params){self.displayMessage(params)});if($.fn.mousewheel){this.$results.on("mousewheel",function(e){var top=self.$results.scrollTop();var bottom=self.$results.get(0).scrollHeight-top+e.deltaY;var isAtTop=e.deltaY>0&&top-e.deltaY<=0;var isAtBottom=e.deltaY<0&&bottom<=self.$results.height();if(isAtTop){self.$results.scrollTop(0);e.preventDefault();e.stopPropagation()}else if(isAtBottom){self.$results.scrollTop(self.$results.get(0).scrollHeight-self.$results.height());e.preventDefault();e.stopPropagation()}})}this.$results.on("mouseup",".select2-results__option[aria-selected]",function(evt){var $this=$(this);var data=$this.data("data");if($this.attr("aria-selected")==="true"){if(self.options.get("multiple")){self.trigger("unselect",{originalEvent:evt,data:data})}else{self.trigger("close",{})}return}self.trigger("select",{originalEvent:evt,data:data})});this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(evt){var data=$(this).data("data");self.getHighlightedResults().removeClass("select2-results__option--highlighted");self.trigger("results:focus",{data:data,element:$(this)})})};Results.prototype.getHighlightedResults=function(){var $highlighted=this.$results.find(".select2-results__option--highlighted");return $highlighted};Results.prototype.destroy=function(){this.$results.remove()};Results.prototype.ensureHighlightVisible=function(){var $highlighted=this.getHighlightedResults();if($highlighted.length===0){return}var $options=this.$results.find("[aria-selected]");var currentIndex=$options.index($highlighted);var currentOffset=this.$results.offset().top;var nextTop=$highlighted.offset().top;var nextOffset=this.$results.scrollTop()+(nextTop-currentOffset);var offsetDelta=nextTop-currentOffset;nextOffset-=$highlighted.outerHeight(false)*2;if(currentIndex<=2){this.$results.scrollTop(0)}else if(offsetDelta>this.$results.outerHeight()||offsetDelta<0){this.$results.scrollTop(nextOffset)}};Results.prototype.template=function(result,container){var template=this.options.get("templateResult");var escapeMarkup=this.options.get("escapeMarkup");var content=template(result,container);if(content==null){container.style.display="none"}else if(typeof content==="string"){container.innerHTML=escapeMarkup(content)}else{$(container).append(content)}};return Results});S2.define("select2/keys",[],function(){var KEYS={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return KEYS});S2.define("select2/selection/base",["jquery","../utils","../keys"],function($,Utils,KEYS){function BaseSelection($element,options){this.$element=$element;this.options=options;BaseSelection.__super__.constructor.call(this)}Utils.Extend(BaseSelection,Utils.Observable);BaseSelection.prototype.render=function(){var $selection=$('<span class="select2-selection" role="combobox" '+' aria-haspopup="true" aria-expanded="false">'+"</span>");this._tabindex=0;if(this.$element.data("old-tabindex")!=null){this._tabindex=this.$element.data("old-tabindex")}else if(this.$element.attr("tabindex")!=null){this._tabindex=this.$element.attr("tabindex")}$selection.attr("title",this.$element.attr("title"));$selection.attr("tabindex",this._tabindex);this.$selection=$selection;return $selection};BaseSelection.prototype.bind=function(container,$container){var self=this;var id=container.id+"-container";var resultsId=container.id+"-results";this.container=container;this.$selection.on("focus",function(evt){self.trigger("focus",evt)});this.$selection.on("blur",function(evt){self._handleBlur(evt)});this.$selection.on("keydown",function(evt){self.trigger("keypress",evt);if(evt.which===KEYS.SPACE){evt.preventDefault()}});container.on("results:focus",function(params){self.$selection.attr("aria-activedescendant",params.data._resultId)});container.on("selection:update",function(params){self.update(params.data)});container.on("open",function(){self.$selection.attr("aria-expanded","true");self.$selection.attr("aria-owns",resultsId);self._attachCloseHandler(container)});container.on("close",function(){self.$selection.attr("aria-expanded","false");self.$selection.removeAttr("aria-activedescendant");self.$selection.removeAttr("aria-owns");self.$selection.focus();self._detachCloseHandler(container)});container.on("enable",function(){self.$selection.attr("tabindex",self._tabindex)});container.on("disable",function(){self.$selection.attr("tabindex","-1")})};BaseSelection.prototype._handleBlur=function(evt){var self=this;window.setTimeout(function(){if(document.activeElement==self.$selection[0]||$.contains(self.$selection[0],document.activeElement)){return}self.trigger("blur",evt)},1)};BaseSelection.prototype._attachCloseHandler=function(container){var self=this;$(document.body).on("mousedown.select2."+container.id,function(e){var $target=$(e.target);var $select=$target.closest(".select2");var $all=$(".select2.select2-container--open");$all.each(function(){var $this=$(this);if(this==$select[0]){return}var $element=$this.data("element");$element.select2("close")})})};BaseSelection.prototype._detachCloseHandler=function(container){$(document.body).off("mousedown.select2."+container.id)};BaseSelection.prototype.position=function($selection,$container){var $selectionContainer=$container.find(".selection");$selectionContainer.append($selection)};BaseSelection.prototype.destroy=function(){this._detachCloseHandler(this.container)};BaseSelection.prototype.update=function(data){throw new Error("The `update` method must be defined in child classes.")};return BaseSelection});S2.define("select2/selection/single",["jquery","./base","../utils","../keys"],function($,BaseSelection,Utils,KEYS){function SingleSelection(){SingleSelection.__super__.constructor.apply(this,arguments)}Utils.Extend(SingleSelection,BaseSelection);SingleSelection.prototype.render=function(){var $selection=SingleSelection.__super__.render.call(this);$selection.addClass("select2-selection--single");$selection.html('<span class="select2-selection__rendered"></span>'+'<span class="select2-selection__arrow" role="presentation">'+'<b role="presentation"></b>'+"</span>");return $selection};SingleSelection.prototype.bind=function(container,$container){var self=this;SingleSelection.__super__.bind.apply(this,arguments);var id=container.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",id);this.$selection.attr("aria-labelledby",id);this.$selection.on("mousedown",function(evt){if(evt.which!==1){return}self.trigger("toggle",{originalEvent:evt})});this.$selection.on("focus",function(evt){});this.$selection.on("blur",function(evt){});container.on("focus",function(evt){if(!container.isOpen()){self.$selection.focus()}});container.on("selection:update",function(params){self.update(params.data)})};SingleSelection.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()};SingleSelection.prototype.display=function(data,container){var template=this.options.get("templateSelection");var escapeMarkup=this.options.get("escapeMarkup");return escapeMarkup(template(data,container))};SingleSelection.prototype.selectionContainer=function(){return $("<span></span>")};SingleSelection.prototype.update=function(data){if(data.length===0){this.clear();return}var selection=data[0];var $rendered=this.$selection.find(".select2-selection__rendered");var formatted=this.display(selection,$rendered);$rendered.empty().append(formatted);$rendered.prop("title",selection.title||selection.text)};return SingleSelection});S2.define("select2/selection/multiple",["jquery","./base","../utils"],function($,BaseSelection,Utils){function MultipleSelection($element,options){MultipleSelection.__super__.constructor.apply(this,arguments)}Utils.Extend(MultipleSelection,BaseSelection);MultipleSelection.prototype.render=function(){var $selection=MultipleSelection.__super__.render.call(this);$selection.addClass("select2-selection--multiple");$selection.html('<ul class="select2-selection__rendered"></ul>');return $selection};MultipleSelection.prototype.bind=function(container,$container){var self=this;MultipleSelection.__super__.bind.apply(this,arguments);this.$selection.on("click",function(evt){self.trigger("toggle",{originalEvent:evt})});this.$selection.on("click",".select2-selection__choice__remove",function(evt){if(self.options.get("disabled")){return}var $remove=$(this);var $selection=$remove.parent();var data=$selection.data("data");self.trigger("unselect",{originalEvent:evt,data:data})})};MultipleSelection.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()};MultipleSelection.prototype.display=function(data,container){var template=this.options.get("templateSelection");var escapeMarkup=this.options.get("escapeMarkup");return escapeMarkup(template(data,container))};MultipleSelection.prototype.selectionContainer=function(){var $container=$('<li class="select2-selection__choice">'+'<span class="select2-selection__choice__remove" role="presentation">'+"&times;"+"</span>"+"</li>");return $container};MultipleSelection.prototype.update=function(data){this.clear();if(data.length===0){return}var $selections=[];for(var d=0;d<data.length;d++){var selection=data[d];var $selection=this.selectionContainer();var formatted=this.display(selection,$selection);$selection.append(formatted);$selection.prop("title",selection.title||selection.text);$selection.data("data",selection);$selections.push($selection)}var $rendered=this.$selection.find(".select2-selection__rendered");Utils.appendMany($rendered,$selections)};return MultipleSelection});S2.define("select2/selection/placeholder",["../utils"],function(Utils){function Placeholder(decorated,$element,options){this.placeholder=this.normalizePlaceholder(options.get("placeholder"));decorated.call(this,$element,options)}Placeholder.prototype.normalizePlaceholder=function(_,placeholder){if(typeof placeholder==="string"){placeholder={id:"",text:placeholder}}return placeholder};Placeholder.prototype.createPlaceholder=function(decorated,placeholder){var $placeholder=this.selectionContainer();$placeholder.html(this.display(placeholder));$placeholder.addClass("select2-selection__placeholder").removeClass("select2-selection__choice");return $placeholder};Placeholder.prototype.update=function(decorated,data){var singlePlaceholder=data.length==1&&data[0].id!=this.placeholder.id;var multipleSelections=data.length>1;if(multipleSelections||singlePlaceholder){return decorated.call(this,data)}this.clear();var $placeholder=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append($placeholder)};return Placeholder});S2.define("select2/selection/allowClear",["jquery","../keys"],function($,KEYS){function AllowClear(){}AllowClear.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);if(this.placeholder==null){if(this.options.get("debug")&&window.console&&console.error){console.error("Select2: The `allowClear` option should be used in combination "+"with the `placeholder` option.")}}this.$selection.on("mousedown",".select2-selection__clear",function(evt){self._handleClear(evt)});container.on("keypress",function(evt){self._handleKeyboardClear(evt,container)})};AllowClear.prototype._handleClear=function(_,evt){if(this.options.get("disabled")){return}
var $clear=this.$selection.find(".select2-selection__clear");if($clear.length===0){return}evt.stopPropagation();var data=$clear.data("data");for(var d=0;d<data.length;d++){var unselectData={data:data[d]};this.trigger("unselect",unselectData);if(unselectData.prevented){return}}this.$element.val(this.placeholder.id).trigger("change");this.trigger("toggle",{})};AllowClear.prototype._handleKeyboardClear=function(_,evt,container){if(container.isOpen()){return}if(evt.which==KEYS.DELETE||evt.which==KEYS.BACKSPACE){this._handleClear(evt)}};AllowClear.prototype.update=function(decorated,data){decorated.call(this,data);if(this.$selection.find(".select2-selection__placeholder").length>0||data.length===0){return}var $remove=$('<span class="select2-selection__clear">'+"&times;"+"</span>");$remove.data("data",data);this.$selection.find(".select2-selection__rendered").prepend($remove)};return AllowClear});S2.define("select2/selection/search",["jquery","../utils","../keys"],function($,Utils,KEYS){function Search(decorated,$element,options){decorated.call(this,$element,options)}Search.prototype.render=function(decorated){var $search=$('<li class="select2-search select2-search--inline">'+'<input class="select2-search__field" type="search" tabindex="-1"'+' autocomplete="off" autocorrect="off" autocapitalize="off"'+' spellcheck="false" role="textbox" aria-autocomplete="list" />'+"</li>");this.$searchContainer=$search;this.$search=$search.find("input");var $rendered=decorated.call(this);this._transferTabIndex();return $rendered};Search.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);container.on("open",function(){self.$search.trigger("focus")});container.on("close",function(){self.$search.val("");self.$search.removeAttr("aria-activedescendant");self.$search.trigger("focus")});container.on("enable",function(){self.$search.prop("disabled",false);self._transferTabIndex()});container.on("disable",function(){self.$search.prop("disabled",true)});container.on("focus",function(evt){self.$search.trigger("focus")});container.on("results:focus",function(params){self.$search.attr("aria-activedescendant",params.id)});this.$selection.on("focusin",".select2-search--inline",function(evt){self.trigger("focus",evt)});this.$selection.on("focusout",".select2-search--inline",function(evt){self._handleBlur(evt)});this.$selection.on("keydown",".select2-search--inline",function(evt){evt.stopPropagation();self.trigger("keypress",evt);self._keyUpPrevented=evt.isDefaultPrevented();var key=evt.which;if(key===KEYS.BACKSPACE&&self.$search.val()===""){var $previousChoice=self.$searchContainer.prev(".select2-selection__choice");if($previousChoice.length>0){var item=$previousChoice.data("data");self.searchRemoveChoice(item);evt.preventDefault()}}});var msie=document.documentMode;var disableInputEvents=msie&&msie<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(evt){if(disableInputEvents){self.$selection.off("input.search input.searchcheck");return}self.$selection.off("keyup.search")});this.$selection.on("keyup.search input.search",".select2-search--inline",function(evt){if(disableInputEvents&&evt.type==="input"){self.$selection.off("input.search input.searchcheck");return}var key=evt.which;if(key==KEYS.SHIFT||key==KEYS.CTRL||key==KEYS.ALT){return}if(key==KEYS.TAB){return}self.handleSearch(evt)})};Search.prototype._transferTabIndex=function(decorated){this.$search.attr("tabindex",this.$selection.attr("tabindex"));this.$selection.attr("tabindex","-1")};Search.prototype.createPlaceholder=function(decorated,placeholder){this.$search.attr("placeholder",placeholder.text)};Search.prototype.update=function(decorated,data){var searchHadFocus=this.$search[0]==document.activeElement;this.$search.attr("placeholder","");decorated.call(this,data);this.$selection.find(".select2-selection__rendered").append(this.$searchContainer);this.resizeSearch();if(searchHadFocus){this.$search.focus()}};Search.prototype.handleSearch=function(){this.resizeSearch();if(!this._keyUpPrevented){var input=this.$search.val();this.trigger("query",{term:input})}this._keyUpPrevented=false};Search.prototype.searchRemoveChoice=function(decorated,item){this.trigger("unselect",{data:item});this.$search.val(item.text);this.handleSearch()};Search.prototype.resizeSearch=function(){this.$search.css("width","25px");var width="";if(this.$search.attr("placeholder")!==""){width=this.$selection.find(".select2-selection__rendered").innerWidth()}else{var minimumWidth=this.$search.val().length+1;width=minimumWidth*.75+"em"}this.$search.css("width",width)};return Search});S2.define("select2/selection/eventRelay",["jquery"],function($){function EventRelay(){}EventRelay.prototype.bind=function(decorated,container,$container){var self=this;var relayEvents=["open","opening","close","closing","select","selecting","unselect","unselecting"];var preventableEvents=["opening","closing","selecting","unselecting"];decorated.call(this,container,$container);container.on("*",function(name,params){if($.inArray(name,relayEvents)===-1){return}params=params||{};var evt=$.Event("select2:"+name,{params:params});self.$element.trigger(evt);if($.inArray(name,preventableEvents)===-1){return}params.prevented=evt.isDefaultPrevented()})};return EventRelay});S2.define("select2/translation",["jquery","require"],function($,require){function Translation(dict){this.dict=dict||{}}Translation.prototype.all=function(){return this.dict};Translation.prototype.get=function(key){return this.dict[key]};Translation.prototype.extend=function(translation){this.dict=$.extend({},translation.all(),this.dict)};Translation._cache={};Translation.loadPath=function(path){if(!(path in Translation._cache)){var translations=require(path);Translation._cache[path]=translations}return new Translation(Translation._cache[path])};return Translation});S2.define("select2/diacritics",[],function(){var diacritics={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};return diacritics});S2.define("select2/data/base",["../utils"],function(Utils){function BaseAdapter($element,options){BaseAdapter.__super__.constructor.call(this)}Utils.Extend(BaseAdapter,Utils.Observable);BaseAdapter.prototype.current=function(callback){throw new Error("The `current` method must be defined in child classes.")};BaseAdapter.prototype.query=function(params,callback){throw new Error("The `query` method must be defined in child classes.")};BaseAdapter.prototype.bind=function(container,$container){};BaseAdapter.prototype.destroy=function(){};BaseAdapter.prototype.generateResultId=function(container,data){var id=container.id+"-result-";id+=Utils.generateChars(4);if(data.id!=null){id+="-"+data.id.toString()}else{id+="-"+Utils.generateChars(4)}return id};return BaseAdapter});S2.define("select2/data/select",["./base","../utils","jquery"],function(BaseAdapter,Utils,$){function SelectAdapter($element,options){this.$element=$element;this.options=options;SelectAdapter.__super__.constructor.call(this)}Utils.Extend(SelectAdapter,BaseAdapter);SelectAdapter.prototype.current=function(callback){var data=[];var self=this;this.$element.find(":selected").each(function(){var $option=$(this);var option=self.item($option);data.push(option)});callback(data)};SelectAdapter.prototype.select=function(data){var self=this;data.selected=true;if($(data.element).is("option")){data.element.selected=true;this.$element.trigger("change");return}if(this.$element.prop("multiple")){this.current(function(currentData){var val=[];data=[data];data.push.apply(data,currentData);for(var d=0;d<data.length;d++){var id=data[d].id;if($.inArray(id,val)===-1){val.push(id)}}self.$element.val(val);self.$element.trigger("change")})}else{var val=data.id;this.$element.val(val);this.$element.trigger("change")}};SelectAdapter.prototype.unselect=function(data){var self=this;if(!this.$element.prop("multiple")){return}data.selected=false;if($(data.element).is("option")){data.element.selected=false;this.$element.trigger("change");return}this.current(function(currentData){var val=[];for(var d=0;d<currentData.length;d++){var id=currentData[d].id;if(id!==data.id&&$.inArray(id,val)===-1){val.push(id)}}self.$element.val(val);self.$element.trigger("change")})};SelectAdapter.prototype.bind=function(container,$container){var self=this;this.container=container;container.on("select",function(params){self.select(params.data)});container.on("unselect",function(params){self.unselect(params.data)})};SelectAdapter.prototype.destroy=function(){this.$element.find("*").each(function(){$.removeData(this,"data")})};SelectAdapter.prototype.query=function(params,callback){var data=[];var self=this;var $options=this.$element.children();$options.each(function(){var $option=$(this);if(!$option.is("option")&&!$option.is("optgroup")){return}var option=self.item($option);var matches=self.matches(params,option);if(matches!==null){data.push(matches)}});callback({results:data})};SelectAdapter.prototype.addOptions=function($options){Utils.appendMany(this.$element,$options)};SelectAdapter.prototype.option=function(data){var option;if(data.children){option=document.createElement("optgroup");option.label=data.text}else{option=document.createElement("option");if(option.textContent!==undefined){option.textContent=data.text}else{option.innerText=data.text}}if(data.id){option.value=data.id}if(data.disabled){option.disabled=true}if(data.selected){option.selected=true}if(data.title){option.title=data.title}var $option=$(option);var normalizedData=this._normalizeItem(data);normalizedData.element=option;$.data(option,"data",normalizedData);return $option};SelectAdapter.prototype.item=function($option){var data={};data=$.data($option[0],"data");if(data!=null){return data}if($option.is("option")){data={id:$option.val(),text:$option.text(),disabled:$option.prop("disabled"),selected:$option.prop("selected"),title:$option.prop("title")}}else if($option.is("optgroup")){data={text:$option.prop("label"),children:[],title:$option.prop("title")};var $children=$option.children("option");var children=[];for(var c=0;c<$children.length;c++){var $child=$($children[c]);var child=this.item($child);children.push(child)}data.children=children}data=this._normalizeItem(data);data.element=$option[0];$.data($option[0],"data",data);return data};SelectAdapter.prototype._normalizeItem=function(item){if(!$.isPlainObject(item)){item={id:item,text:item}}item=$.extend({},{text:""},item);var defaults={selected:false,disabled:false};if(item.id!=null){item.id=item.id.toString()}if(item.text!=null){item.text=item.text.toString()}if(item._resultId==null&&item.id&&this.container!=null){item._resultId=this.generateResultId(this.container,item)}return $.extend({},defaults,item)};SelectAdapter.prototype.matches=function(params,data){var matcher=this.options.get("matcher");return matcher(params,data)};return SelectAdapter});S2.define("select2/data/array",["./select","../utils","jquery"],function(SelectAdapter,Utils,$){function ArrayAdapter($element,options){var data=options.get("data")||[];ArrayAdapter.__super__.constructor.call(this,$element,options);this.addOptions(this.convertToOptions(data))}Utils.Extend(ArrayAdapter,SelectAdapter);ArrayAdapter.prototype.select=function(data){var $option=this.$element.find("option").filter(function(i,elm){return elm.value==data.id.toString()});if($option.length===0){$option=this.option(data);this.addOptions($option)}ArrayAdapter.__super__.select.call(this,data)};ArrayAdapter.prototype.convertToOptions=function(data){var self=this;var $existing=this.$element.find("option");var existingIds=$existing.map(function(){return self.item($(this)).id}).get();var $options=[];function onlyItem(item){return function(){return $(this).val()==item.id}}for(var d=0;d<data.length;d++){var item=this._normalizeItem(data[d]);if($.inArray(item.id,existingIds)>=0){var $existingOption=$existing.filter(onlyItem(item));var existingData=this.item($existingOption);var newData=$.extend(true,{},item,existingData);var $newOption=this.option(newData);$existingOption.replaceWith($newOption);continue}var $option=this.option(item);if(item.children){var $children=this.convertToOptions(item.children);Utils.appendMany($option,$children)}$options.push($option)}return $options};return ArrayAdapter});S2.define("select2/data/ajax",["./array","../utils","jquery"],function(ArrayAdapter,Utils,$){function AjaxAdapter($element,options){this.ajaxOptions=this._applyDefaults(options.get("ajax"));if(this.ajaxOptions.processResults!=null){this.processResults=this.ajaxOptions.processResults}AjaxAdapter.__super__.constructor.call(this,$element,options)}Utils.Extend(AjaxAdapter,ArrayAdapter);AjaxAdapter.prototype._applyDefaults=function(options){var defaults={data:function(params){return $.extend({},params,{q:params.term})},transport:function(params,success,failure){var $request=$.ajax(params);$request.then(success);$request.fail(failure);return $request}};return $.extend({},defaults,options,true)};AjaxAdapter.prototype.processResults=function(results){return results};AjaxAdapter.prototype.query=function(params,callback){var matches=[];var self=this;if(this._request!=null){if($.isFunction(this._request.abort)){this._request.abort()}this._request=null}var options=$.extend({type:"GET"},this.ajaxOptions);if(typeof options.url==="function"){options.url=options.url.call(this.$element,params)}if(typeof options.data==="function"){options.data=options.data.call(this.$element,params)}function request(){var $request=options.transport(options,function(data){var results=self.processResults(data,params);if(self.options.get("debug")&&window.console&&console.error){if(!results||!results.results||!$.isArray(results.results)){console.error("Select2: The AJAX results did not return an array in the "+"`results` key of the response.")}}callback(results)},function(){if($request.status&&$request.status==="0"){return}self.trigger("results:message",{message:"errorLoading"})});self._request=$request}if(this.ajaxOptions.delay&&params.term!=null){if(this._queryTimeout){window.clearTimeout(this._queryTimeout)}this._queryTimeout=window.setTimeout(request,this.ajaxOptions.delay)}else{request()}};return AjaxAdapter});S2.define("select2/data/tags",["jquery"],function($){function Tags(decorated,$element,options){var tags=options.get("tags");var createTag=options.get("createTag");if(createTag!==undefined){this.createTag=createTag}var insertTag=options.get("insertTag");if(insertTag!==undefined){this.insertTag=insertTag}decorated.call(this,$element,options);if($.isArray(tags)){for(var t=0;t<tags.length;t++){var tag=tags[t];var item=this._normalizeItem(tag);var $option=this.option(item);this.$element.append($option)}}}Tags.prototype.query=function(decorated,params,callback){var self=this;this._removeOldTags();if(params.term==null||params.page!=null){decorated.call(this,params,callback);return}function wrapper(obj,child){var data=obj.results;for(var i=0;i<data.length;i++){var option=data[i];var checkChildren=option.children!=null&&!wrapper({results:option.children},true);var checkText=option.text===params.term;if(checkText||checkChildren){if(child){return false}obj.data=data;callback(obj);return}}if(child){return true}var tag=self.createTag(params);if(tag!=null){var $option=self.option(tag);$option.attr("data-select2-tag",true);self.addOptions([$option]);self.insertTag(data,tag)}obj.results=data;callback(obj)}decorated.call(this,params,wrapper)};Tags.prototype.createTag=function(decorated,params){var term=$.trim(params.term);if(term===""){return null}return{id:term,text:term}};Tags.prototype.insertTag=function(_,data,tag){data.unshift(tag)};Tags.prototype._removeOldTags=function(_){var tag=this._lastTag;var $options=this.$element.find("option[data-select2-tag]");$options.each(function(){if(this.selected){return}$(this).remove()})};return Tags});S2.define("select2/data/tokenizer",["jquery"],function($){function Tokenizer(decorated,$element,options){var tokenizer=options.get("tokenizer");if(tokenizer!==undefined){this.tokenizer=tokenizer}decorated.call(this,$element,options)}Tokenizer.prototype.bind=function(decorated,container,$container){decorated.call(this,container,$container);this.$search=container.dropdown.$search||container.selection.$search||$container.find(".select2-search__field")};Tokenizer.prototype.query=function(decorated,params,callback){var self=this;function createAndSelect(data){var item=self._normalizeItem(data);var $existingOptions=self.$element.find("option").filter(function(){return $(this).val()===item.id});if(!$existingOptions.length){var $option=self.option(item);$option.attr("data-select2-tag",true);self._removeOldTags();self.addOptions([$option])}select(item)}function select(data){self.trigger("select",{data:data})}params.term=params.term||"";var tokenData=this.tokenizer(params,this.options,createAndSelect);if(tokenData.term!==params.term){if(this.$search.length){this.$search.val(tokenData.term);this.$search.focus()}params.term=tokenData.term}decorated.call(this,params,callback)};Tokenizer.prototype.tokenizer=function(_,params,options,callback){var separators=options.get("tokenSeparators")||[];var term=params.term;var i=0;var createTag=this.createTag||function(params){return{id:params.term,text:params.term}};while(i<term.length){var termChar=term[i];if($.inArray(termChar,separators)===-1){i++;continue}var part=term.substr(0,i);var partParams=$.extend({},params,{term:part});var data=createTag(partParams);if(data==null){i++;continue}callback(data);term=term.substr(i+1)||"";i=0}return{term:term}};return Tokenizer});S2.define("select2/data/minimumInputLength",[],function(){function MinimumInputLength(decorated,$e,options){this.minimumInputLength=options.get("minimumInputLength");decorated.call(this,$e,options)}MinimumInputLength.prototype.query=function(decorated,params,callback){params.term=params.term||"";if(params.term.length<this.minimumInputLength){this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:params.term,params:params}});return}decorated.call(this,params,callback)};return MinimumInputLength});S2.define("select2/data/maximumInputLength",[],function(){function MaximumInputLength(decorated,$e,options){this.maximumInputLength=options.get("maximumInputLength");decorated.call(this,$e,options)}MaximumInputLength.prototype.query=function(decorated,params,callback){params.term=params.term||"";if(this.maximumInputLength>0&&params.term.length>this.maximumInputLength){this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:params.term,params:params}});return}decorated.call(this,params,callback)};return MaximumInputLength});S2.define("select2/data/maximumSelectionLength",[],function(){function MaximumSelectionLength(decorated,$e,options){this.maximumSelectionLength=options.get("maximumSelectionLength");decorated.call(this,$e,options)}MaximumSelectionLength.prototype.query=function(decorated,params,callback){var self=this;this.current(function(currentData){var count=currentData!=null?currentData.length:0;if(self.maximumSelectionLength>0&&count>=self.maximumSelectionLength){self.trigger("results:message",{message:"maximumSelected",args:{maximum:self.maximumSelectionLength}});return}decorated.call(self,params,callback)})};return MaximumSelectionLength});S2.define("select2/dropdown",["jquery","./utils"],function($,Utils){function Dropdown($element,options){this.$element=$element;this.options=options;Dropdown.__super__.constructor.call(this)}Utils.Extend(Dropdown,Utils.Observable);Dropdown.prototype.render=function(){var $dropdown=$('<span class="select2-dropdown">'+'<span class="select2-results"></span>'+"</span>");$dropdown.attr("dir",this.options.get("dir"));this.$dropdown=$dropdown;return $dropdown};Dropdown.prototype.bind=function(){};Dropdown.prototype.position=function($dropdown,$container){};Dropdown.prototype.destroy=function(){this.$dropdown.remove()};return Dropdown});S2.define("select2/dropdown/search",["jquery","../utils"],function($,Utils){function Search(){}Search.prototype.render=function(decorated){var $rendered=decorated.call(this);var $search=$('<span class="select2-search select2-search--dropdown">'+'<input class="select2-search__field" type="search" tabindex="-1"'+' autocomplete="off" autocorrect="off" autocapitalize="off"'+' spellcheck="false" role="textbox" />'+"</span>");this.$searchContainer=$search;this.$search=$search.find("input");$rendered.prepend($search);return $rendered};Search.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);this.$search.on("keydown",function(evt){self.trigger("keypress",evt);self._keyUpPrevented=evt.isDefaultPrevented()});this.$search.on("input",function(evt){$(this).off("keyup")});this.$search.on("keyup input",function(evt){self.handleSearch(evt)});container.on("open",function(){self.$search.attr("tabindex",0);self.$search.focus();window.setTimeout(function(){self.$search.focus()},0)});container.on("close",function(){self.$search.attr("tabindex",-1);self.$search.val("")});container.on("focus",function(){if(container.isOpen()){self.$search.focus()}});container.on("results:all",function(params){if(params.query.term==null||params.query.term===""){var showSearch=self.showSearch(params);if(showSearch){self.$searchContainer.removeClass("select2-search--hide")}else{self.$searchContainer.addClass("select2-search--hide")}}})};Search.prototype.handleSearch=function(evt){if(!this._keyUpPrevented){var input=this.$search.val();this.trigger("query",{term:input})}this._keyUpPrevented=false};Search.prototype.showSearch=function(_,params){return true};return Search});S2.define("select2/dropdown/hidePlaceholder",[],function(){function HidePlaceholder(decorated,$element,options,dataAdapter){this.placeholder=this.normalizePlaceholder(options.get("placeholder"));decorated.call(this,$element,options,dataAdapter)}HidePlaceholder.prototype.append=function(decorated,data){data.results=this.removePlaceholder(data.results);decorated.call(this,data)};HidePlaceholder.prototype.normalizePlaceholder=function(_,placeholder){if(typeof placeholder==="string"){placeholder={id:"",text:placeholder}}return placeholder};HidePlaceholder.prototype.removePlaceholder=function(_,data){var modifiedData=data.slice(0);for(var d=data.length-1;d>=0;d--){var item=data[d];if(this.placeholder.id===item.id){modifiedData.splice(d,1)}}return modifiedData};return HidePlaceholder});S2.define("select2/dropdown/infiniteScroll",["jquery"],function($){function InfiniteScroll(decorated,$element,options,dataAdapter){this.lastParams={};decorated.call(this,$element,options,dataAdapter);this.$loadingMore=this.createLoadingMore();this.loading=false}InfiniteScroll.prototype.append=function(decorated,data){this.$loadingMore.remove();this.loading=false;decorated.call(this,data);if(this.showLoadingMore(data)){this.$results.append(this.$loadingMore)}};InfiniteScroll.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);container.on("query",function(params){self.lastParams=params;self.loading=true});container.on("query:append",function(params){self.lastParams=params;self.loading=true});this.$results.on("scroll",function(){var isLoadMoreVisible=$.contains(document.documentElement,self.$loadingMore[0]);if(self.loading||!isLoadMoreVisible){return}var currentOffset=self.$results.offset().top+self.$results.outerHeight(false);var loadingMoreOffset=self.$loadingMore.offset().top+self.$loadingMore.outerHeight(false);if(currentOffset+50>=loadingMoreOffset){self.loadMore()}})};InfiniteScroll.prototype.loadMore=function(){this.loading=true;var params=$.extend({},{page:1},this.lastParams);params.page++;this.trigger("query:append",params)};InfiniteScroll.prototype.showLoadingMore=function(_,data){return data.pagination&&data.pagination.more};InfiniteScroll.prototype.createLoadingMore=function(){var $option=$("<li "+'class="select2-results__option select2-results__option--load-more"'+'role="treeitem" aria-disabled="true"></li>');var message=this.options.get("translations").get("loadingMore");$option.html(message(this.lastParams));return $option};return InfiniteScroll});S2.define("select2/dropdown/attachBody",["jquery","../utils"],function($,Utils){function AttachBody(decorated,$element,options){this.$dropdownParent=options.get("dropdownParent")||$(document.body);decorated.call(this,$element,options)}AttachBody.prototype.bind=function(decorated,container,$container){var self=this;var setupResultsEvents=false;decorated.call(this,container,$container);container.on("open",function(){self._showDropdown();self._attachPositioningHandler(container);if(!setupResultsEvents){setupResultsEvents=true;container.on("results:all",function(){self._positionDropdown();self._resizeDropdown()});container.on("results:append",function(){self._positionDropdown();self._resizeDropdown()})}});container.on("close",function(){self._hideDropdown();self._detachPositioningHandler(container)});this.$dropdownContainer.on("mousedown",function(evt){evt.stopPropagation()})};AttachBody.prototype.destroy=function(decorated){decorated.call(this);this.$dropdownContainer.remove()};AttachBody.prototype.position=function(decorated,$dropdown,$container){
$dropdown.attr("class",$container.attr("class"));$dropdown.removeClass("select2");$dropdown.addClass("select2-container--open");$dropdown.css({position:"absolute",top:-999999});this.$container=$container};AttachBody.prototype.render=function(decorated){var $container=$("<span></span>");var $dropdown=decorated.call(this);$container.append($dropdown);this.$dropdownContainer=$container;return $container};AttachBody.prototype._hideDropdown=function(decorated){this.$dropdownContainer.detach()};AttachBody.prototype._attachPositioningHandler=function(decorated,container){var self=this;var scrollEvent="scroll.select2."+container.id;var resizeEvent="resize.select2."+container.id;var orientationEvent="orientationchange.select2."+container.id;var $watchers=this.$container.parents().filter(Utils.hasScroll);$watchers.each(function(){$(this).data("select2-scroll-position",{x:$(this).scrollLeft(),y:$(this).scrollTop()})});$watchers.on(scrollEvent,function(ev){var position=$(this).data("select2-scroll-position");$(this).scrollTop(position.y)});$(window).on(scrollEvent+" "+resizeEvent+" "+orientationEvent,function(e){self._positionDropdown();self._resizeDropdown()})};AttachBody.prototype._detachPositioningHandler=function(decorated,container){var scrollEvent="scroll.select2."+container.id;var resizeEvent="resize.select2."+container.id;var orientationEvent="orientationchange.select2."+container.id;var $watchers=this.$container.parents().filter(Utils.hasScroll);$watchers.off(scrollEvent);$(window).off(scrollEvent+" "+resizeEvent+" "+orientationEvent)};AttachBody.prototype._positionDropdown=function(){var $window=$(window);var isCurrentlyAbove=this.$dropdown.hasClass("select2-dropdown--above");var isCurrentlyBelow=this.$dropdown.hasClass("select2-dropdown--below");var newDirection=null;var offset=this.$container.offset();offset.bottom=offset.top+this.$container.outerHeight(false);var container={height:this.$container.outerHeight(false)};container.top=offset.top;container.bottom=offset.top+container.height;var dropdown={height:this.$dropdown.outerHeight(false)};var viewport={top:$window.scrollTop(),bottom:$window.scrollTop()+$window.height()};var enoughRoomAbove=viewport.top<offset.top-dropdown.height;var enoughRoomBelow=viewport.bottom>offset.bottom+dropdown.height;var css={left:offset.left,top:container.bottom};var $offsetParent=this.$dropdownParent;if($offsetParent.css("position")==="static"){$offsetParent=$offsetParent.offsetParent()}var parentOffset=$offsetParent.offset();css.top-=parentOffset.top;css.left-=parentOffset.left;if(!isCurrentlyAbove&&!isCurrentlyBelow){newDirection="below"}if(!enoughRoomBelow&&enoughRoomAbove&&!isCurrentlyAbove){newDirection="above"}else if(!enoughRoomAbove&&enoughRoomBelow&&isCurrentlyAbove){newDirection="below"}if(newDirection=="above"||isCurrentlyAbove&&newDirection!=="below"){css.top=container.top-parentOffset.top-dropdown.height}if(newDirection!=null){this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+newDirection);this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+newDirection)}this.$dropdownContainer.css(css)};AttachBody.prototype._resizeDropdown=function(){var css={width:this.$container.outerWidth(false)+"px"};if(this.options.get("dropdownAutoWidth")){css.minWidth=css.width;css.position="relative";css.width="auto"}this.$dropdown.css(css)};AttachBody.prototype._showDropdown=function(decorated){this.$dropdownContainer.appendTo(this.$dropdownParent);this._positionDropdown();this._resizeDropdown()};return AttachBody});S2.define("select2/dropdown/minimumResultsForSearch",[],function(){function countResults(data){var count=0;for(var d=0;d<data.length;d++){var item=data[d];if(item.children){count+=countResults(item.children)}else{count++}}return count}function MinimumResultsForSearch(decorated,$element,options,dataAdapter){this.minimumResultsForSearch=options.get("minimumResultsForSearch");if(this.minimumResultsForSearch<0){this.minimumResultsForSearch=Infinity}decorated.call(this,$element,options,dataAdapter)}MinimumResultsForSearch.prototype.showSearch=function(decorated,params){if(countResults(params.data.results)<this.minimumResultsForSearch){return false}return decorated.call(this,params)};return MinimumResultsForSearch});S2.define("select2/dropdown/selectOnClose",[],function(){function SelectOnClose(){}SelectOnClose.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);container.on("close",function(params){self._handleSelectOnClose(params)})};SelectOnClose.prototype._handleSelectOnClose=function(_,params){if(params&&params.originalSelect2Event!=null){var event=params.originalSelect2Event;if(event._type==="select"||event._type==="unselect"){return}}var $highlightedResults=this.getHighlightedResults();if($highlightedResults.length<1){return}var data=$highlightedResults.data("data");if(data.element!=null&&data.element.selected||data.element==null&&data.selected){return}this.trigger("select",{data:data})};return SelectOnClose});S2.define("select2/dropdown/closeOnSelect",[],function(){function CloseOnSelect(){}CloseOnSelect.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);container.on("select",function(evt){self._selectTriggered(evt)});container.on("unselect",function(evt){self._selectTriggered(evt)})};CloseOnSelect.prototype._selectTriggered=function(_,evt){var originalEvent=evt.originalEvent;if(originalEvent&&originalEvent.ctrlKey){return}this.trigger("close",{originalEvent:originalEvent,originalSelect2Event:evt})};return CloseOnSelect});S2.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(args){var overChars=args.input.length-args.maximum;var message="Please delete "+overChars+" character";if(overChars!=1){message+="s"}return message},inputTooShort:function(args){var remainingChars=args.minimum-args.input.length;var message="Please enter "+remainingChars+" or more characters";return message},loadingMore:function(){return"Loading more results"},maximumSelected:function(args){var message="You can only select "+args.maximum+" item";if(args.maximum!=1){message+="s"}return message},noResults:function(){return"No results found"},searching:function(){return"Searching"}}});S2.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function($,require,ResultsList,SingleSelection,MultipleSelection,Placeholder,AllowClear,SelectionSearch,EventRelay,Utils,Translation,DIACRITICS,SelectData,ArrayData,AjaxData,Tags,Tokenizer,MinimumInputLength,MaximumInputLength,MaximumSelectionLength,Dropdown,DropdownSearch,HidePlaceholder,InfiniteScroll,AttachBody,MinimumResultsForSearch,SelectOnClose,CloseOnSelect,EnglishTranslation){function Defaults(){this.reset()}Defaults.prototype.apply=function(options){options=$.extend(true,{},this.defaults,options);if(options.dataAdapter==null){if(options.ajax!=null){options.dataAdapter=AjaxData}else if(options.data!=null){options.dataAdapter=ArrayData}else{options.dataAdapter=SelectData}if(options.minimumInputLength>0){options.dataAdapter=Utils.Decorate(options.dataAdapter,MinimumInputLength)}if(options.maximumInputLength>0){options.dataAdapter=Utils.Decorate(options.dataAdapter,MaximumInputLength)}if(options.maximumSelectionLength>0){options.dataAdapter=Utils.Decorate(options.dataAdapter,MaximumSelectionLength)}if(options.tags){options.dataAdapter=Utils.Decorate(options.dataAdapter,Tags)}if(options.tokenSeparators!=null||options.tokenizer!=null){options.dataAdapter=Utils.Decorate(options.dataAdapter,Tokenizer)}if(options.query!=null){var Query=require(options.amdBase+"compat/query");options.dataAdapter=Utils.Decorate(options.dataAdapter,Query)}if(options.initSelection!=null){var InitSelection=require(options.amdBase+"compat/initSelection");options.dataAdapter=Utils.Decorate(options.dataAdapter,InitSelection)}}if(options.resultsAdapter==null){options.resultsAdapter=ResultsList;if(options.ajax!=null){options.resultsAdapter=Utils.Decorate(options.resultsAdapter,InfiniteScroll)}if(options.placeholder!=null){options.resultsAdapter=Utils.Decorate(options.resultsAdapter,HidePlaceholder)}if(options.selectOnClose){options.resultsAdapter=Utils.Decorate(options.resultsAdapter,SelectOnClose)}}if(options.dropdownAdapter==null){if(options.multiple){options.dropdownAdapter=Dropdown}else{var SearchableDropdown=Utils.Decorate(Dropdown,DropdownSearch);options.dropdownAdapter=SearchableDropdown}if(options.minimumResultsForSearch!==0){options.dropdownAdapter=Utils.Decorate(options.dropdownAdapter,MinimumResultsForSearch)}if(options.closeOnSelect){options.dropdownAdapter=Utils.Decorate(options.dropdownAdapter,CloseOnSelect)}if(options.dropdownCssClass!=null||options.dropdownCss!=null||options.adaptDropdownCssClass!=null){var DropdownCSS=require(options.amdBase+"compat/dropdownCss");options.dropdownAdapter=Utils.Decorate(options.dropdownAdapter,DropdownCSS)}options.dropdownAdapter=Utils.Decorate(options.dropdownAdapter,AttachBody)}if(options.selectionAdapter==null){if(options.multiple){options.selectionAdapter=MultipleSelection}else{options.selectionAdapter=SingleSelection}if(options.placeholder!=null){options.selectionAdapter=Utils.Decorate(options.selectionAdapter,Placeholder)}if(options.allowClear){options.selectionAdapter=Utils.Decorate(options.selectionAdapter,AllowClear)}if(options.multiple){options.selectionAdapter=Utils.Decorate(options.selectionAdapter,SelectionSearch)}if(options.containerCssClass!=null||options.containerCss!=null||options.adaptContainerCssClass!=null){var ContainerCSS=require(options.amdBase+"compat/containerCss");options.selectionAdapter=Utils.Decorate(options.selectionAdapter,ContainerCSS)}options.selectionAdapter=Utils.Decorate(options.selectionAdapter,EventRelay)}if(typeof options.language==="string"){if(options.language.indexOf("-")>0){var languageParts=options.language.split("-");var baseLanguage=languageParts[0];options.language=[options.language,baseLanguage]}else{options.language=[options.language]}}if($.isArray(options.language)){var languages=new Translation;options.language.push("en");var languageNames=options.language;for(var l=0;l<languageNames.length;l++){var name=languageNames[l];var language={};try{language=Translation.loadPath(name)}catch(e){try{name=this.defaults.amdLanguageBase+name;language=Translation.loadPath(name)}catch(ex){if(options.debug&&window.console&&console.warn){console.warn('Select2: The language file for "'+name+'" could not be '+"automatically loaded. A fallback will be used instead.")}continue}}languages.extend(language)}options.translations=languages}else{var baseTranslation=Translation.loadPath(this.defaults.amdLanguageBase+"en");var customTranslation=new Translation(options.language);customTranslation.extend(baseTranslation);options.translations=customTranslation}return options};Defaults.prototype.reset=function(){function stripDiacritics(text){function match(a){return DIACRITICS[a]||a}return text.replace(/[^\u0000-\u007E]/g,match)}function matcher(params,data){if($.trim(params.term)===""){return data}if(data.children&&data.children.length>0){var match=$.extend(true,{},data);for(var c=data.children.length-1;c>=0;c--){var child=data.children[c];var matches=matcher(params,child);if(matches==null){match.children.splice(c,1)}}if(match.children.length>0){return match}return matcher(params,match)}var original=stripDiacritics(data.text).toUpperCase();var term=stripDiacritics(params.term).toUpperCase();if(original.indexOf(term)>-1){return data}return null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:true,debug:false,dropdownAutoWidth:false,escapeMarkup:Utils.escapeMarkup,language:EnglishTranslation,matcher:matcher,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:false,sorter:function(data){return data},templateResult:function(result){return result.text},templateSelection:function(selection){return selection.text},theme:"default",width:"resolve"}};Defaults.prototype.set=function(key,value){var camelKey=$.camelCase(key);var data={};data[camelKey]=value;var convertedData=Utils._convertData(data);$.extend(this.defaults,convertedData)};var defaults=new Defaults;return defaults});S2.define("select2/options",["require","jquery","./defaults","./utils"],function(require,$,Defaults,Utils){function Options(options,$element){this.options=options;if($element!=null){this.fromElement($element)}this.options=Defaults.apply(this.options);if($element&&$element.is("input")){var InputCompat=require(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=Utils.Decorate(this.options.dataAdapter,InputCompat)}}Options.prototype.fromElement=function($e){var excludedData=["select2"];if(this.options.multiple==null){this.options.multiple=$e.prop("multiple")}if(this.options.disabled==null){this.options.disabled=$e.prop("disabled")}if(this.options.language==null){if($e.prop("lang")){this.options.language=$e.prop("lang").toLowerCase()}else if($e.closest("[lang]").prop("lang")){this.options.language=$e.closest("[lang]").prop("lang")}}if(this.options.dir==null){if($e.prop("dir")){this.options.dir=$e.prop("dir")}else if($e.closest("[dir]").prop("dir")){this.options.dir=$e.closest("[dir]").prop("dir")}else{this.options.dir="ltr"}}$e.prop("disabled",this.options.disabled);$e.prop("multiple",this.options.multiple);if($e.data("select2Tags")){if(this.options.debug&&window.console&&console.warn){console.warn("Select2: The `data-select2-tags` attribute has been changed to "+'use the `data-data` and `data-tags="true"` attributes and will be '+"removed in future versions of Select2.")}$e.data("data",$e.data("select2Tags"));$e.data("tags",true)}if($e.data("ajaxUrl")){if(this.options.debug&&window.console&&console.warn){console.warn("Select2: The `data-ajax-url` attribute has been changed to "+"`data-ajax--url` and support for the old attribute will be removed"+" in future versions of Select2.")}$e.attr("ajax--url",$e.data("ajaxUrl"));$e.data("ajax--url",$e.data("ajaxUrl"))}var dataset={};if($.fn.jquery&&$.fn.jquery.substr(0,2)=="1."&&$e[0].dataset){dataset=$.extend(true,{},$e[0].dataset,$e.data())}else{dataset=$e.data()}var data=$.extend(true,{},dataset);data=Utils._convertData(data);for(var key in data){if($.inArray(key,excludedData)>-1){continue}if($.isPlainObject(this.options[key])){$.extend(this.options[key],data[key])}else{this.options[key]=data[key]}}return this};Options.prototype.get=function(key){return this.options[key]};Options.prototype.set=function(key,val){this.options[key]=val};return Options});S2.define("select2/core",["jquery","./options","./utils","./keys"],function($,Options,Utils,KEYS){var Select2=function($element,options){if($element.data("select2")!=null){$element.data("select2").destroy()}this.$element=$element;this.id=this._generateId($element);options=options||{};this.options=new Options(options,$element);Select2.__super__.constructor.call(this);var tabindex=$element.attr("tabindex")||0;$element.data("old-tabindex",tabindex);$element.attr("tabindex","-1");var DataAdapter=this.options.get("dataAdapter");this.dataAdapter=new DataAdapter($element,this.options);var $container=this.render();this._placeContainer($container);var SelectionAdapter=this.options.get("selectionAdapter");this.selection=new SelectionAdapter($element,this.options);this.$selection=this.selection.render();this.selection.position(this.$selection,$container);var DropdownAdapter=this.options.get("dropdownAdapter");this.dropdown=new DropdownAdapter($element,this.options);this.$dropdown=this.dropdown.render();this.dropdown.position(this.$dropdown,$container);var ResultsAdapter=this.options.get("resultsAdapter");this.results=new ResultsAdapter($element,this.options,this.dataAdapter);this.$results=this.results.render();this.results.position(this.$results,this.$dropdown);var self=this;this._bindAdapters();this._registerDomEvents();this._registerDataEvents();this._registerSelectionEvents();this._registerDropdownEvents();this._registerResultsEvents();this._registerEvents();this.dataAdapter.current(function(initialData){self.trigger("selection:update",{data:initialData})});$element.addClass("select2-hidden-accessible");$element.attr("aria-hidden","true");this._syncAttributes();$element.data("select2",this)};Utils.Extend(Select2,Utils.Observable);Select2.prototype._generateId=function($element){var id="";if($element.attr("id")!=null){id=$element.attr("id")}else if($element.attr("name")!=null){id=$element.attr("name")+"-"+Utils.generateChars(2)}else{id=Utils.generateChars(4)}id=id.replace(/(:|\.|\[|\]|,)/g,"");id="select2-"+id;return id};Select2.prototype._placeContainer=function($container){$container.insertAfter(this.$element);var width=this._resolveWidth(this.$element,this.options.get("width"));if(width!=null){$container.css("width",width)}};Select2.prototype._resolveWidth=function($element,method){var WIDTH=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if(method=="resolve"){var styleWidth=this._resolveWidth($element,"style");if(styleWidth!=null){return styleWidth}return this._resolveWidth($element,"element")}if(method=="element"){var elementWidth=$element.outerWidth(false);if(elementWidth<=0){return"auto"}return elementWidth+"px"}if(method=="style"){var style=$element.attr("style");if(typeof style!=="string"){return null}var attrs=style.split(";");for(var i=0,l=attrs.length;i<l;i=i+1){var attr=attrs[i].replace(/\s/g,"");var matches=attr.match(WIDTH);if(matches!==null&&matches.length>=1){return matches[1]}}return null}return method};Select2.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container);this.selection.bind(this,this.$container);this.dropdown.bind(this,this.$container);this.results.bind(this,this.$container)};Select2.prototype._registerDomEvents=function(){var self=this;this.$element.on("change.select2",function(){self.dataAdapter.current(function(data){self.trigger("selection:update",{data:data})})});this.$element.on("focus.select2",function(evt){self.trigger("focus",evt)});this._syncA=Utils.bind(this._syncAttributes,this);this._syncS=Utils.bind(this._syncSubtree,this);if(this.$element[0].attachEvent){this.$element[0].attachEvent("onpropertychange",this._syncA)}var observer=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(observer!=null){this._observer=new observer(function(mutations){$.each(mutations,self._syncA);$.each(mutations,self._syncS)});this._observer.observe(this.$element[0],{attributes:true,childList:true,subtree:false})}else if(this.$element[0].addEventListener){this.$element[0].addEventListener("DOMAttrModified",self._syncA,false);this.$element[0].addEventListener("DOMNodeInserted",self._syncS,false);this.$element[0].addEventListener("DOMNodeRemoved",self._syncS,false)}};Select2.prototype._registerDataEvents=function(){var self=this;this.dataAdapter.on("*",function(name,params){self.trigger(name,params)})};Select2.prototype._registerSelectionEvents=function(){var self=this;var nonRelayEvents=["toggle","focus"];this.selection.on("toggle",function(){self.toggleDropdown()});this.selection.on("focus",function(params){self.focus(params)});this.selection.on("*",function(name,params){if($.inArray(name,nonRelayEvents)!==-1){return}self.trigger(name,params)})};Select2.prototype._registerDropdownEvents=function(){var self=this;this.dropdown.on("*",function(name,params){self.trigger(name,params)})};Select2.prototype._registerResultsEvents=function(){var self=this;this.results.on("*",function(name,params){self.trigger(name,params)})};Select2.prototype._registerEvents=function(){var self=this;this.on("open",function(){self.$container.addClass("select2-container--open")});this.on("close",function(){self.$container.removeClass("select2-container--open")});this.on("enable",function(){self.$container.removeClass("select2-container--disabled")});this.on("disable",function(){self.$container.addClass("select2-container--disabled")});this.on("blur",function(){self.$container.removeClass("select2-container--focus")});this.on("query",function(params){if(!self.isOpen()){self.trigger("open",{})}this.dataAdapter.query(params,function(data){self.trigger("results:all",{data:data,query:params})})});this.on("query:append",function(params){this.dataAdapter.query(params,function(data){self.trigger("results:append",{data:data,query:params})})});this.on("keypress",function(evt){var key=evt.which;if(self.isOpen()){if(key===KEYS.ESC||key===KEYS.TAB||key===KEYS.UP&&evt.altKey){self.close();evt.preventDefault()}else if(key===KEYS.ENTER){self.trigger("results:select",{});evt.preventDefault()}else if(key===KEYS.SPACE&&evt.ctrlKey){self.trigger("results:toggle",{});evt.preventDefault()}else if(key===KEYS.UP){self.trigger("results:previous",{});evt.preventDefault()}else if(key===KEYS.DOWN){self.trigger("results:next",{});evt.preventDefault()}}else{if(key===KEYS.ENTER||key===KEYS.SPACE||key===KEYS.DOWN&&evt.altKey){self.open();evt.preventDefault()}}})};Select2.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled"));if(this.options.get("disabled")){if(this.isOpen()){this.close()}this.trigger("disable",{})}else{this.trigger("enable",{})}};Select2.prototype._syncSubtree=function(evt,mutations){var changed=false;var self=this;if(evt&&evt.target&&(evt.target.nodeName!=="OPTION"&&evt.target.nodeName!=="OPTGROUP")){return}if(!mutations){changed=true}else if(mutations.addedNodes&&mutations.addedNodes.length>0){for(var n=0;n<mutations.addedNodes.length;n++){var node=mutations.addedNodes[n];if(node.selected){changed=true}}}else if(mutations.removedNodes&&mutations.removedNodes.length>0){changed=true}if(changed){this.dataAdapter.current(function(currentData){self.trigger("selection:update",{data:currentData})})}};Select2.prototype.trigger=function(name,args){var actualTrigger=Select2.__super__.trigger;var preTriggerMap={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(args===undefined){args={}}if(name in preTriggerMap){var preTriggerName=preTriggerMap[name];var preTriggerArgs={prevented:false,name:name,args:args};actualTrigger.call(this,preTriggerName,preTriggerArgs);if(preTriggerArgs.prevented){args.prevented=true;return}}actualTrigger.call(this,name,args)};Select2.prototype.toggleDropdown=function(){if(this.options.get("disabled")){return}if(this.isOpen()){this.close()}else{this.open()}};Select2.prototype.open=function(){if(this.isOpen()){return}this.trigger("query",{})};Select2.prototype.close=function(){if(!this.isOpen()){return}this.trigger("close",{})};Select2.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")};Select2.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")};Select2.prototype.focus=function(data){if(this.hasFocus()){return}this.$container.addClass("select2-container--focus");this.trigger("focus",{})};Select2.prototype.enable=function(args){if(this.options.get("debug")&&window.console&&console.warn){console.warn('Select2: The `select2("enable")` method has been deprecated and will'+' be removed in later Select2 versions. Use $element.prop("disabled")'+" instead.")}if(args==null||args.length===0){args=[true]}var disabled=!args[0];this.$element.prop("disabled",disabled)};Select2.prototype.data=function(){if(this.options.get("debug")&&arguments.length>0&&window.console&&console.warn){console.warn('Select2: Data can no longer be set using `select2("data")`. You '+"should consider setting the value instead using `$element.val()`.")}var data=[];this.dataAdapter.current(function(currentData){data=currentData});return data};Select2.prototype.val=function(args){if(this.options.get("debug")&&window.console&&console.warn){console.warn('Select2: The `select2("val")` method has been deprecated and will be'+" removed in later Select2 versions. Use $element.val() instead.")}if(args==null||args.length===0){return this.$element.val()}var newVal=args[0];if($.isArray(newVal)){newVal=$.map(newVal,function(obj){return obj.toString()})}this.$element.val(newVal).trigger("change")};Select2.prototype.destroy=function(){this.$container.remove();if(this.$element[0].detachEvent){this.$element[0].detachEvent("onpropertychange",this._syncA)}if(this._observer!=null){this._observer.disconnect();this._observer=null}else if(this.$element[0].removeEventListener){this.$element[0].removeEventListener("DOMAttrModified",this._syncA,false);this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,false);this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,false)}this._syncA=null;this._syncS=null;this.$element.off(".select2");this.$element.attr("tabindex",this.$element.data("old-tabindex"));this.$element.removeClass("select2-hidden-accessible");this.$element.attr("aria-hidden","false");this.$element.removeData("select2");this.dataAdapter.destroy();this.selection.destroy();this.dropdown.destroy();this.results.destroy();this.dataAdapter=null;this.selection=null;this.dropdown=null;this.results=null};Select2.prototype.render=function(){var $container=$('<span class="select2 select2-container">'+'<span class="selection"></span>'+'<span class="dropdown-wrapper" aria-hidden="true"></span>'+"</span>");$container.attr("dir",this.options.get("dir"));this.$container=$container;this.$container.addClass("select2-container--"+this.options.get("theme"));$container.data("element",this.$element);return $container};return Select2});S2.define("jquery-mousewheel",["jquery"],function($){return $});S2.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function($,_,Select2,Defaults){if($.fn.select2==null){var thisMethods=["open","close","destroy"];$.fn.select2=function(options){options=options||{};if(typeof options==="object"){this.each(function(){var instanceOptions=$.extend(true,{},options);var instance=new Select2($(this),instanceOptions)});return this}else if(typeof options==="string"){var ret;var args=Array.prototype.slice.call(arguments,1);this.each(function(){var instance=$(this).data("select2");if(instance==null&&window.console&&console.error){console.error("The select2('"+options+"') method was called on an "+"element that is not using Select2.")}ret=instance[options].apply(instance,args)});if($.inArray(options,thisMethods)>-1){return this}return ret}else{throw new Error("Invalid arguments for Select2: "+options)}}}if($.fn.select2.defaults==null){$.fn.select2.defaults=Defaults}return Select2});return{define:S2.define,require:S2.require}}();var select2=S2.require("jquery.select2");jQuery.fn.select2.amd=S2;return select2})},{jquery:16}],29:[function(require,module,exports){var inside=require("turf-inside");var featureCollection=require("turf-featurecollection");module.exports=function(ptFC,polyFC){var pointsWithin=featureCollection([]);for(var i=0;i<polyFC.features.length;i++){for(var j=0;j<ptFC.features.length;j++){var isInside=inside(ptFC.features[j],polyFC.features[i]);if(isInside){pointsWithin.features.push(ptFC.features[j])}}}return pointsWithin}},{"turf-featurecollection":30,"turf-inside":31}],30:[function(require,module,exports){module.exports=function(features){return{type:"FeatureCollection",features:features}}},{}],31:[function(require,module,exports){module.exports=function(point,polygon){var polys=polygon.geometry.coordinates;var pt=[point.geometry.coordinates[0],point.geometry.coordinates[1]];if(polygon.geometry.type==="Polygon")polys=[polys];var insidePoly=false;var i=0;while(i<polys.length&&!insidePoly){if(inRing(pt,polys[i][0])){var inHole=false;var k=1;while(k<polys[i].length&&!inHole){if(inRing(pt,polys[i][k])){inHole=true}k++}if(!inHole)insidePoly=true}i++}return insidePoly};function inRing(pt,ring){var isInside=false;for(var i=0,j=ring.length-1;i<ring.length;j=i++){var xi=ring[i][0],yi=ring[i][1];var xj=ring[j][0],yj=ring[j][1];var intersect=yi>pt[1]!=yj>pt[1]&&pt[0]<(xj-xi)*(pt[1]-yi)/(yj-yi)+xi;if(intersect)isInside=!isInside}return isInside}},{}],32:[function(require,module,exports){(function(factory){if(typeof define==="function"&&define.amd){define([],factory)}else if(typeof exports==="object"){module.exports=factory()}else{window.wNumb=factory()}})(function(){"use strict";var FormatOptions=["decimals","thousand","mark","prefix","postfix","encoder","decoder","negativeBefore","negative","edit","undo"];function strReverse(a){return a.split("").reverse().join("")}function strStartsWith(input,match){return input.substring(0,match.length)===match}function strEndsWith(input,match){return input.slice(-1*match.length)===match}function throwEqualError(F,a,b){if((F[a]||F[b])&&F[a]===F[b]){throw new Error(a)}}function isValidNumber(input){return typeof input==="number"&&isFinite(input)}function toFixed(value,decimals){var scale=Math.pow(10,decimals);return(Math.round(value*scale)/scale).toFixed(decimals)}function formatTo(decimals,thousand,mark,prefix,postfix,encoder,decoder,negativeBefore,negative,edit,undo,input){var originalInput=input,inputIsNegative,inputPieces,inputBase,inputDecimals="",output="";if(encoder){input=encoder(input)}if(!isValidNumber(input)){return false}if(decimals!==false&&parseFloat(input.toFixed(decimals))===0){input=0}if(input<0){inputIsNegative=true;input=Math.abs(input)}if(decimals!==false){input=toFixed(input,decimals)}input=input.toString();if(input.indexOf(".")!==-1){inputPieces=input.split(".");inputBase=inputPieces[0];if(mark){inputDecimals=mark+inputPieces[1]}}else{inputBase=input}if(thousand){inputBase=strReverse(inputBase).match(/.{1,3}/g);inputBase=strReverse(inputBase.join(strReverse(thousand)))}if(inputIsNegative&&negativeBefore){output+=negativeBefore}if(prefix){output+=prefix}if(inputIsNegative&&negative){output+=negative}output+=inputBase;output+=inputDecimals;if(postfix){output+=postfix}if(edit){output=edit(output,originalInput)}return output}function formatFrom(decimals,thousand,mark,prefix,postfix,encoder,decoder,negativeBefore,negative,edit,undo,input){var originalInput=input,inputIsNegative,output="";if(undo){input=undo(input)}if(!input||typeof input!=="string"){return false}if(negativeBefore&&strStartsWith(input,negativeBefore)){input=input.replace(negativeBefore,"");inputIsNegative=true}if(prefix&&strStartsWith(input,prefix)){input=input.replace(prefix,"")}if(negative&&strStartsWith(input,negative)){input=input.replace(negative,"");inputIsNegative=true}if(postfix&&strEndsWith(input,postfix)){input=input.slice(0,-1*postfix.length)}if(thousand){input=input.split(thousand).join("")}if(mark){input=input.replace(mark,".")}if(inputIsNegative){output+="-"}output+=input;output=output.replace(/[^0-9\.\-.]/g,"");if(output===""){return false}output=Number(output);if(decoder){output=decoder(output)}if(!isValidNumber(output)){return false}return output}function validate(inputOptions){var i,optionName,optionValue,filteredOptions={};for(i=0;i<FormatOptions.length;i+=1){optionName=FormatOptions[i];optionValue=inputOptions[optionName];if(optionValue===undefined){if(optionName==="negative"&&!filteredOptions.negativeBefore){filteredOptions[optionName]="-"}else if(optionName==="mark"&&filteredOptions.thousand!=="."){filteredOptions[optionName]="."}else{filteredOptions[optionName]=false}}else if(optionName==="decimals"){if(optionValue>=0&&optionValue<8){
filteredOptions[optionName]=optionValue}else{throw new Error(optionName)}}else if(optionName==="encoder"||optionName==="decoder"||optionName==="edit"||optionName==="undo"){if(typeof optionValue==="function"){filteredOptions[optionName]=optionValue}else{throw new Error(optionName)}}else{if(typeof optionValue==="string"){filteredOptions[optionName]=optionValue}else{throw new Error(optionName)}}}throwEqualError(filteredOptions,"mark","thousand");throwEqualError(filteredOptions,"prefix","negative");throwEqualError(filteredOptions,"prefix","negativeBefore");return filteredOptions}function passAll(options,method,input){var i,args=[];for(i=0;i<FormatOptions.length;i+=1){args.push(options[FormatOptions[i]])}args.push(input);return method.apply("",args)}function wNumb(options){if(!(this instanceof wNumb)){return new wNumb(options)}if(typeof options!=="object"){return}options=validate(options);this.to=function(input){return passAll(options,formatTo,input)};this.from=function(input){return passAll(options,formatFrom,input)}}return wNumb})},{}],33:[function(require,module,exports){var ractive=require("ractive");window.$=window.jQuery=require("jquery");var _=require("lodash");var bootstrap=require("bootstrap");var select2=require("select2");var turf=require("turf-within");var Bar=require("paths-js/bar");var Chartist=require("chartist");var director=require("director");numeral=require("numeral");IMDS={};IMDS.map=require("../js/map.js");IMDS.filter=require("../js/filter.js");IMDS.events=require("../js/events.js");IMDS.config=require("../ais/config.js");IMDS.graph=require("../js/graph.js");IMDS.app=ractive({el:"#results",template:"#template",transitions:{fade:require("ractive-transitions-fade")},data:{appstate:{activeTab:"button-assess",activeDetails:null,searchWithinMap:true,filters:{funding:[0,1e7],year:[2012,2017],variables:{dataquery:{invasion_stage:{field:"invasion_stage",displayName:"Invasion Stage",options:[]},taxa_targeted:{field:"taxa_targeted",displayName:"Taxa Targeted",options:[]},species_taxonomic_group_targeted:{field:"species_taxonomic_group_targeted",displayName:"Species Targeted",options:[]},vector_pathway_addressed:{field:"vector_pathway_addressed",displayName:"Vector Pathway Addressed",options:[]},specific_vector:{field:"specific_vector",displayName:"Specific Vector",options:[]},habitat_type:{field:"habitat_type",displayName:"Habitat",options:[]},project_phase:{field:"project_phase",displayName:"Project Phase",options:[]},project_focus:{field:"project_focus",displayName:"Project Focus",options:[]},project_type:{field:"project_type",displayName:"Project Type",options:[]},state:{field:"state",displayName:"State",options:[]},funding_agency:{field:"funding_agency",displayName:"Funding Agency",options:[]}},turf:{}},active:{dataquery:{},turf:{filterLabel:null,filterLayer:null,fieldName:null,filterOptions:null}}},graphs:{vector_pathway_addressed:{name:"vector_pathway_addressed",label:"Invasion Pathway",fieldToSum:"funding_i",displayOrder:1,activeSection:"projects",data:null},state:{name:"state",label:"State",fieldToSum:"funding_i",displayOrder:2,activeSection:"projects",data:null},project_focus:{name:"project_focus",label:"Project Focus",fieldToSum:"funding_i",displayOrder:3,activeSection:"projects",data:null},species_taxonomic_group_targeted:{name:"species_taxonomic_group_targeted",label:"Species Targeted",fieldToSum:"funding_i",displayOrder:4,activeSection:"projects",data:null}},mapCenter:null,mapZoom:null,scrollPosition:null},inputData:{},derivedData:{},formatNumber:function(number,numeralFormat){return numeral(number).format(numeralFormat)},sumAttribute:function(pointArray,fieldName){var itemSum=0;var reportingProjects=0;for(var i=0;i<pointArray.length;i++){if(pointArray[i][fieldName]){itemSum+=+Num(pointArray[i][fieldName]);reportingProjects+=1}}return Math.floor(itemSum).toLocaleString()},sumAttributeClean:function(pointArray,fieldName,ignoreCharacter){var itemSum=0;var reportingProjects=0;for(var i=0;i<pointArray.length;i++){if(pointArray[i][fieldName]){var dirtyValue=pointArray[i][fieldName];var cleanValue=dirtyValue.replace(/,/g,"").replace(ignoreCharacter,"");if(cleanValue){itemSum+=+cleanValue}reportingProjects+=1}}return Math.floor(itemSum).toLocaleString()},sumBy:function(sumArray,fieldName){return numeral(_.sumBy(sumArray,fieldName)).format("0,0")},findBy:function(findArray,fieldName,fieldValue,returnField){var foundArray=_.find(findArray,{ibi_class:"Total"});var returnValue=foundArray[returnField];return returnValue},sumMultiAttributes:function(pointArray,fieldArray){var itemSum=0;var reportingProjects=[];for(var i=0;i<pointArray.length;i++){for(var j=0;j<fieldArray.length;j++){var habitat=fieldArray[j];if(pointArray[i][habitat]){itemSum+=pointArray[i][habitat];if(reportingProjects.indexOf(pointArray[i]["projectname"])===-1&&pointArray[i]["projectname"]!==""){reportingProjects.push(pointArray[i]["projectname"])}}}}return Math.round(itemSum).toLocaleString()},cleanField:function(cleanField,titleField){var titleLength=titleField.length;var textSlice=cleanField.slice(0,titleLength+9);var textSliceClean=textSlice.slice(4,titleLength+4);var removeTitle=cleanField.slice(titleLength+9);var removeNbsp=removeTitle.replace("<p></p>","");if(textSliceClean===titleField){return cleanField.slice(titleLength+9).replace(/<p><\/p>/g,"").replace(/<p>&nbsp;<\/p>/g,"").replace(/<h3> <\/h3>/g,"").replace(/<h3>&nbsp;<\/h3>/g,"").replace(/<\/h2>/g,"</h3>").replace(/<h2>/g,"<h3>").replace(/<h4> <\/h4>/g,"").replace(/<h4>&nbsp;<\/h4>/g,"")}else{return cleanField.replace(/<p><\/p>/g,"").replace(/<p>&nbsp;<\/p>/g,"").replace(/<h3>&nbsp;<\/h3>/g,"").replace(/<h3> <\/h3>/g,"").replace(/<\/h2>/g,"</h3>").replace(/<h2>/g,"<h3>").replace(/<h4> <\/h4>/g,"").replace(/<h4>&nbsp;<\/h4>/g,"")}},testMultipleFields:function(fieldArray){var fieldTrueSum=0;for(field in fieldArray){if(fieldArray[field]){console.log("Girl you know it's true");fieldTrueSum+=1}else{console.log("So false. OMG")}}console.log(fieldTrueSum);if(fieldTrueSum>0){return true}else{return false}},parseImages:function(field){console.log(field);var imageArray=field.split("; ");return imageArray},computed:{returnProjects:function(){console.log("yeah")}}}});IMDS.init=function(){var map=IMDS.map.setupMap(IMDS.config);var points=IMDS.map.addPoints(map,IMDS.app,IMDS.config.projects);IMDS.map.zoomToFullExtentControl(map,points);var spatialFilterLayerGroup=(new L.FeatureGroup).addTo(map);var turfLayerGroup=(new L.FeatureGroup).addTo(map);IMDS.events.browserWarning();IMDS.events.onMapMove(map,IMDS.app,points);IMDS.events.showPopupFromOffMap(IMDS.app,points);IMDS.events.changeSection(IMDS.app);IMDS.events.changeGraph(IMDS.app);IMDS.events.processMapEvents(map,IMDS.app,points,turfLayerGroup);IMDS.events.buildSlider("funding-slider","IMDS.app.appstate.filters.funding",{maxValue:1e7,dollars:true,snap:false,pipsvalues:[0,33,66,1e7],range:{min:[0,1e3],"33%":[1e5,1e5],"66%":[1e6,1e6],max:1e7}});IMDS.events.getSliderChange("funding-slider","funding",map,IMDS.app,points,turfLayerGroup);var query="https://dmajka.cartodb.com/api/v2/sql?q=SELECT MIN(funding_year), MAX(funding_year) FROM imds_ais_projects";$.getJSON(query,function(data){var min=data.rows[0].min;var max=data.rows[0].max;IMDS.app.set("appstate.filters.variables.year.min",min);IMDS.app.set("appstate.filters.variables.year.max",max);console.log(min,max);IMDS.events.buildSlider("year-slider","IMDS.app.appstate.filters.year",{maxValue:max,snap:false,step:1,pipsvalues:[0,50,100],range:{min:min,max:max}});IMDS.events.getSliderChange("year-slider","year",map,IMDS.app,points,turfLayerGroup)});IMDS.events.resetFilters(IMDS.app,map,points,turfLayerGroup,spatialFilterLayerGroup,"funding-slider","year-slider");IMDS.events.getThematicSelectionChange(IMDS.app,map,points,turfLayerGroup);IMDS.events.removeActiveFilter(IMDS.app);IMDS.events.getSpatialExtentLayer("spatial-select","spatial-select-options",IMDS.app,map,spatialFilterLayerGroup,turfLayerGroup,points);IMDS.events.getSpatialSelectChange(IMDS.app,map,points,turfLayerGroup);IMDS.events.initRoutes(IMDS.app,points);IMDS.app.decorators.select2=function(node){var ractive=this;$(node).select2().on("change",function(){ractive.updateModel()});return{teardown:function(){$(node).select2("destroy")}}}};IMDS.init();IMDS.events.buildFilterDropdowns(IMDS.app,"invasion_stage");IMDS.events.buildFilterDropdowns(IMDS.app,"vector_pathway_addressed");IMDS.events.buildFilterDropdowns(IMDS.app,"specific_vector");IMDS.events.buildFilterDropdowns(IMDS.app,"taxa_targeted");IMDS.events.buildFilterDropdowns(IMDS.app,"species_taxonomic_group_targeted");IMDS.events.buildFilterDropdowns(IMDS.app,"project_phase");IMDS.events.buildFilterDropdowns(IMDS.app,"project_type");IMDS.events.buildFilterDropdowns(IMDS.app,"project_focus");IMDS.events.buildFilterDropdowns(IMDS.app,"state");IMDS.app.observe("appstate.filters.active.dataquery.*",function(n,o,k,property){if(typeof n==="undefined"){delete IMDS.app.get("appstate.filters.active.dataquery")[property];IMDS.app.update(k)}},{init:false})},{"../ais/config.js":34,"../js/events.js":35,"../js/filter.js":36,"../js/graph.js":37,"../js/map.js":38,bootstrap:1,chartist:14,director:15,jquery:16,lodash:17,numeral:19,"paths-js/bar":20,ractive:27,"ractive-transitions-fade":26,select2:28,"turf-within":29}],34:[function(require,module,exports){var projectsURL="https://dmajka.cartodb.com/api/v2/sql?format=GeoJSON&q=SELECT * FROM imds_ais_projects";var projects={url:"https://dmajka.cartodb.com/api/v2/sql?format=GeoJSON&q=SELECT * FROM imds_ais_projects",addToMap:"yes",id:"imdsprojects"};var wetlandpts={url:"https://dmajka.carto.com/api/v2/sql?format=GeoJSON&q=SELECT * FROM vegibi_pt84",addToMap:"no",id:"wetlandpts",ibiField:"score_valu"};var wetlandsPoly="https://services.arcgis.com/F7DSX1DSNSiWmOqh/ArcGIS/rest/services/IMDS_Wetlands_IBI/FeatureServer/0";var mapboxToken="pk.eyJ1IjoiZG1hamthIiwiYSI6IlNuSHVNb0UifQ.zIkArM4rtyvdtMZjZEesBA";var cartoDBToken="";var mapCenter=[45.07,-84.63];var mapZoom=6;var fieldsParseArray=["lead_organization","major_area_of_interest","major_programmatic_or_funding_initiatives","funding_sources","major_conservation_strategies","major_ecological_attributes","major_ecosystems","major_human_activities","major_taxa","partners","project_type","status"];var projectsPopupTemplate=function(feature){var popupTemplate='<div class="popup-title">'+feature.properties.name+"</div>"+'<div class="popup-body">'+"<p>"+feature.properties.project_title+"</p>"+'<ul class="popup-links list-inline">'+'<li><a href="#" class="popup-zoom"><i class="fa fa-search-plus"></i> Zoom to location</a></li>'+'<li><a href="#/details/'+feature.properties.nid+'" class="popup-details"> <i class="fa fa-table"></i> View details</a></li>'+"</ul>"+"<div>";return popupTemplate};var projectsIcon={"marker-symbol":"star","marker-color:":"c65328","marker-size":"small"};var spatialOverlay={usa_states:{table:"usa_states_imds",field:"postal",field2:"name",label:"Select states",name:"operating unit(s)"},countries:{table:"countries",field:"name",label:"Select countries",name:"countries"},congressional_districts:{table:"imds_cd114",field:"cd_abbrev",field2:"districtid",label:"Select Congressional Districts",name:"Congressional Districts"},whole_systems:{table:"whole_systems",field:"name",field_cat:"type",label:"Select whole system",name:"whole system(s)"},imds_watersheds_greatlakes:{table:"imds_watersheds_greatlakes",field:"shortname",field_cat:"type",label:"Select Great Lake Basin",name:"basin"},imds_wetland_focus_area:{table:"imds_wetland_focus_area",field:"focus_area",field2:"focus_area",label:"Select focus area",name:"focus_area"},huc2:{table:"huc2",field:"hucnamelong",field2:"huc2name",label:"Select HUC2 watershed",name:"watershed"},huc4:{table:"imds_huc4",field:"hucnamelong",field2:"huc4name",label:"Select HUC4 watershed",name:"watershed"},huc6:{table:"imds_huc6",field:"hucnamelong",field2:"huc6name",label:"Select HUC6 watershed",name:"watershed"},huc8:{table:"imds_huc8",field:"hucnamelong",field2:"huc8name",label:"Select HUC8 watershed",name:"watershed"}};module.exports={projects:projects,wetlandpts:wetlandpts,mapboxToken:mapboxToken,spatialOverlay:spatialOverlay,mapCenter:mapCenter,mapZoom:mapZoom,fieldsParseArray:fieldsParseArray,projectsPopupTemplate:projectsPopupTemplate}},{}],35:[function(require,module,exports){var filter=require("./filter.js");var map=require("./map.js");var config=require("../ais/config.js");var turfwithin=require("turf-within");var graph=require("./graph.js");var director=require("director");var noUiSlider=require("nouislider");var wnumb=require("wnumb");var _=require("lodash");function initRoutes(ractive,points){function index(){console.log("index")}function assess(){IMDS.app.set("appstate.activeTab","button-assess");graph.buildGraphs(IMDS.app,"inputData.imdsprojects.markers.inBounds","appstate.graphs")}function projects(){IMDS.app.set("appstate.activeTab","button-pieces")}function details(){IMDS.app.set("appstate.activeTab","button-details")}function detailsProject(projectId){var markers=ractive.get("inputData.imdsprojects.markers.inBounds");var projectDetails=_.find(markers,{database_id:Number(projectId)});ractive.set("appstate.activeDetails",projectDetails);ractive.set("appstate.activeTab","button-details")}function getMapState(){return console.log(ractive.get("appstate.mapZoom")+"/"+ractive.get("appstate.mapCenter.lat").toFixed(3)+"/"+ractive.get("appstate.mapCenter.lng").toFixed(3)+"/projects")}var routes={"/":assess,"/assess":assess,"/projects":projects,"/details":details,"/details/:projectId":detailsProject};var router=new director.Router(routes);router.init()}function browserWarning(){var tooSmall=767;var wHeight=$(window).height();var wWidth=$(window).width();if(wWidth<tooSmall){$("#width-warning").removeClass("hide")}}function onMapMove(map,ractive,markerLayerGroup){function pushInBounds(layer){var inBounds=[];var bounds=map.getBounds();initRoutes(ractive);layer.eachLayer(function(marker){if(layer.id!=="cartoDbOverlay"){if(bounds.contains(marker.getLatLng())){inBounds.push(marker.feature.properties)}}});return inBounds}map.on("move",function(){ractive.set("appstate.mapCenter",map.getCenter());ractive.set("appstate.mapZoom",map.getZoom());markerLayerGroup.eachLayer(function(layer){var mapMarkers=pushInBounds(layer);ractive.set("inputData."+layer.id+".markers.inBounds",mapMarkers)});if(ractive.get("appstate.activeTab")==="button-assess"){graph.buildGraphs(IMDS.app,"inputData.imdsprojects.markers.inBounds","appstate.graphs")}})}function mapHighlight(ractive,markerInfo,points){var unique_id=markerInfo.unique_id;markers=points.getLayers()[0];markers.eachLayer(function(layer){if(layer.feature.properties.unique_id===unique_id){layer.openPopup()}})}function showPopupFromOffMap(ractive,points){ractive.on("show-popup",function(event){var markers=ractive.get("inputData.imdsprojects.markers.inBounds");var projectDetails=_.find(markers,{unique_id:event.node.id});ractive.set("appstate.mapPopup",projectDetails);mapHighlight(ractive,{unique_id:projectDetails.unique_id,dataname:projectDetails.dataname},points)})}function showDetails(ractive){ractive.on("show-details",function(event){var markers=ractive.get("inputData.imdsprojects.markers.inBounds");var projectDetails=_.find(markers,{unique_id:event.node.id});ractive.set("appstate.activeTab","button-details");ractive.set("appstate.activeDetails",projectDetails)})}function showDetailsFromPopup(map,ractive){map.on("popupopen",function(centerMarker){$(".popup-details").click(function(){var projectDetails=centerMarker.popup._source.feature.properties;ractive.set("appstate.activeTab","button-details");ractive.set("appstate.activeDetails",projectDetails);ractive.update()})})}function processMapEvents(map,ractive,points,turfLayerGroup){map.on("popupopen",function(centerMarker){try{var lng=centerMarker.popup._source.feature.geometry.coordinates[0],lat=centerMarker.popup._source.feature.geometry.coordinates[1],coords={lat:lat,lng:lng},newarray;$(".popup-zoom").click(function(){var cM=map.project(coords);map.setView(map.unproject(cM),12,{animate:true});setTimeout(function(){map.panBy([1,1])},50)});$(".polygon-select").click(function(){var id=$(this).find("a").attr("id");console.log(id);var currentSel=ractive.get("appstate.filters.active.turf.filterOptions");if(currentSel){ractive.push("appstate.filters.active.turf.filterOptions",id);newarray=ractive.get("appstate.filters.active.turf.filterOptions")}else{var newArray=[id];ractive.set("appstate.filters.active.turf.filterOptions",[id]);newarray=ractive.get("appstate.filters.active.turf.filterOptions")}var $selOptions=$("#spatial-select-options").select2();$selOptions.val(newarray).trigger("change")})}catch(e){$(".polygon-select").click(function(){var id=$(this).find("a").attr("id");console.log(id);var currentSel=ractive.get("appstate.filters.active.turf.filterOptions");if(currentSel){ractive.push("appstate.filters.active.turf.filterOptions",id);newarray=ractive.get("appstate.filters.active.turf.filterOptions")}else{var newArray=[id];ractive.set("appstate.filters.active.turf.filterOptions",[id]);newarray=ractive.get("appstate.filters.active.turf.filterOptions")}var $selOptions=$("#spatial-select-options").select2();$selOptions.val(newarray).trigger("change")})}})}function changeSection(ractive){ractive.on("section-change",function(event){var buttonid=event.node.id;ractive.set("appstate.activeTab",buttonid);if(buttonid==="button-assess"){graph.buildGraphs(IMDS.app,"inputData.imdsprojects.markers.inBounds","appstate.graphs")}})}function changeGraph(ractive){ractive.on("graph-change",function(event){graph.buildGraphs(IMDS.app,"inputData.imdsprojects.markers.inBounds","appstate.graphs")})}function buildFilterDropdowns(ractive,filterID){if(!(filterID in ractive.get("appstate.filters.active.dataquery"))){var blankobj={};var obj=ractive.set("appstate.filters.active.dataquery."+filterID,blankobj);var getFilterInfo=ractive.get("appstate.filters.variables.dataquery."+filterID);var filterInfo=$.extend({},getFilterInfo);var cartoDbTable="imds_ais_projects";var uniqueArray;ractive.set("appstate.filters.active.dataquery."+filterID,filterInfo);var query="https://dmajka.cartodb.com/api/v2/sql?q=SELECT DISTINCT "+filterID+" FROM "+cartoDbTable+" ORDER BY "+filterID+" ASC";$.getJSON(query,function(data){var allOptions=[];for(var i=0;i<data.rows.length;i++){if(filterID==="funding_sources, major_programmatic_or_funding_initiatives"){uniqueArray=data.rows[i]["funding_sources"]+"; "+data.rows[i]["major_programmatic_or_funding_initiatives"]}else{uniqueArray=data.rows[i][filterID]}if(uniqueArray){if(filterID==="keywords"){var split=uniqueArray.split(", ")}else{var featReplace=_.replace(uniqueArray,/\&amp;/g,"and");var split=featReplace.split(", ")}for(var j=0;j<split.length;j++){allOptions.push(split[j])}}}ractive.set("appstate.filters.active.dataquery."+filterID+".options",_.uniq(allOptions).sort());var placeholderText;if(filterID==="funding_sources, major_programmatic_or_funding_initiatives"){placeholderText="Funding sources";$("#funding").select2({placeholder:placeholderText})}else{placeholderText=filterInfo["displayName"];$("#"+filterID).select2({placeholder:placeholderText})}})}}function getThematicFilterChange(ractive){$("#filter-dropdown .dropdown-menu-right").on({click:function(e){e.stopImmediatePropagation()}});ractive.on("thematic-filter-change",function(event,filterID){if(!(filterID in ractive.get("appstate.filters.active.dataquery"))){console.log("not null");var blankobj={};var obj=ractive.set("appstate.filters.active.dataquery."+filterID,blankobj);var getFilterInfo=ractive.get("appstate.filters.variables.dataquery."+filterID);var filterInfo=$.extend({},getFilterInfo);var cartoDbTable="imds_ais_projects";var uniqueArray;ractive.set("appstate.filters.active.dataquery."+filterID,filterInfo);var query="https://dmajka.cartodb.com/api/v2/sql?q=SELECT DISTINCT "+filterID+" FROM "+cartoDbTable+" ORDER BY "+filterID+" ASC";$.getJSON(query,function(data){var allOptions=[];for(var i=0;i<data.rows.length;i++){if(filterID==="funding_sources, major_programmatic_or_funding_initiatives"){uniqueArray=data.rows[i]["funding_sources"]+"; "+data.rows[i]["major_programmatic_or_funding_initiatives"]}else{uniqueArray=data.rows[i][filterID]}if(uniqueArray){if(filterID==="keywords"){var split=uniqueArray.split(", ")}else{var featReplace=_.replace(uniqueArray,/\&amp;/g,"and");var split=featReplace.split("; ")}for(var j=0;j<split.length;j++){allOptions.push(split[j])}}}ractive.set("appstate.filters.active.dataquery."+filterID+".options",_.uniq(allOptions).sort());$("#"+filterID).select2({placeholder:"Select a Value"})})}})}function removeActiveFilter(ractive){ractive.on("filter-remove",function(event,filterToRemove){console.log(filterToRemove);ractive.set("appstate.filters.active.dataquery."+filterToRemove,undefined)})}function getSpatialExtentLayer(selectID,optionsID,ractive,map,spatialFilterLayerGroup,turfLayerGroup,points){$("#filter-dropdown .dropdown-menu-right").on({click:function(e){e.stopPropagation()}});var dropdown=document.getElementById(selectID);dropdown.onchange=function(){var selOpt=$("#"+selectID).val();ractive.set("appstate.filters.active.turf.filterOptions",null);ractive.set("appstate.filters.active.turf.filterLayer",selOpt);populateOptions(optionsID,selOpt)};function displayOverlay(map,query,spatialFilterLayerGroup){var featureLayer=L.mapbox.featureLayer().loadURL(query);featureLayer.on("ready",function(){spatialFilterLayerGroup.clearLayers();featureLayer.setStyle({color:"#4D5557",weight:1,fillColor:"#4D5557",fillOpacity:.1});featureLayer.addTo(spatialFilterLayerGroup);featureLayer.eachLayer(addPopups)})}function addPopups(layer){var feature=layer.toGeoJSON();var labelField=ractive.get("appstate.filters.active.turf.fieldName");feature.properties.popupname=feature.properties[labelField];var popupTemplate='<div class="popup-title-polygon">'+feature.properties.popupname+'</div> <div class="polygon-select"><a href="#" role="tab" id="'+feature.properties.popupname+'">View projects within this extent</a></div>';layer.bindPopup(popupTemplate)}function populateOptions(optionsID,selOpt){document.getElementById(optionsID).options.length=0;var field=config.spatialOverlay[selOpt]["field"];var cartoDbTable=config.spatialOverlay[selOpt]["table"];var placeholderLabel=config.spatialOverlay[selOpt]["label"];var placeholderName=config.spatialOverlay[selOpt]["name"];ractive.set("appstate.filters.active.turf.filterLabel",placeholderName);ractive.set("appstate.filters.active.turf.fieldName",field);var query="https://dmajka.cartodb.com/api/v2/sql?q=SELECT DISTINCT "+field+" FROM "+cartoDbTable+" ORDER BY "+field+" ASC";var layerQuery="https://dmajka.cartodb.com/api/v2/sql?format=GeoJSON&q=SELECT * FROM "+cartoDbTable;$.getJSON(query,function(data){var sel=document.getElementById(optionsID);for(var i=0;i<data.rows.length;i++){var opt=document.createElement("option");opt.innerHTML=data.rows[i][field];opt.value=data.rows[i][field];sel.appendChild(opt)}$("#spatial-select-options").select2({placeholder:placeholderLabel})});displayOverlay(map,layerQuery,spatialFilterLayerGroup)}}function getSpatialSelectChange(ractive,mapDiv,markerGroup,turfLayerGroup){var dropdown=document.getElementById("spatial-select-options");dropdown.onchange=function(){var selOpt=$("#spatial-select-options").val();ractive.set("appstate.filters.active.turf.filterOptions",selOpt);updateMapFilter(ractive,mapDiv,markerGroup,turfLayerGroup)}}function getMapSpatialSelectChange(ractive,mapDiv,markerGroup,turfLayerGroup){$(".polygon-select").click(function(){var id=$(this).find("a").attr("id");ractive.set("appstate.filters.active.turf.filterOptions",selOpt);updateMapFilter(ractive,mapDiv,markerGroup,turfLayerGroup)})}function getThematicSelectionChange(ractive,mapDiv,markerGroup,turfLayerGroup){ractive.observe("appstate.filters.active.dataquery.*.selected",function(newValue,oldValue,keypath){if(oldValue&&oldValue.length>0||newValue&&newValue.length>0){updateMapFilter(ractive,mapDiv,markerGroup,turfLayerGroup)}})}function updateMapFilter(ractive,mapDiv,markerGroup,turfLayerGroup){function filterPoints(points){var activeCount=0;var key,fieldName,selectedOptions,intersect,intersectCount=0,selOpt;var fundingMin=ractive.get("appstate.filters.funding[0]");var fundingMax=ractive.get("appstate.filters.funding[1]");var yearMin=ractive.get("appstate.filters.year[0]");var yearMax=ractive.get("appstate.filters.year[1]");for(key in activeFilters){if(activeFilters[key].selected.length>0){activeCount+=1}else{activeCount+0}}if(activeCount>0){points.setFilter(function(f){for(key in activeFilters){if(activeFilters[key].selected.length>0){fieldName=ractive.get("appstate.filters.variables.dataquery."+[key]+".field");selectedOptions=activeFilters[key].selected;intersect=_.intersection(f.properties[fieldName],selectedOptions);if(intersect.length>0){intersectCount+=1}else{return false}}}if(intersectCount>0){if(f.properties.funding_i>=fundingMin&&f.properties.funding_i<=fundingMax){if(f.properties.funding_year>=yearMin&&f.properties.funding_year<=yearMax){return true}else{return false}}else{return false}}})}else{points.setFilter(function(f){if(f.properties.funding_i>=fundingMin&&f.properties.funding_i<=fundingMax){if(f.properties.funding_year>=yearMin&&f.properties.funding_year<=yearMax){return true}else{return false}}else{return false}})}}function buildSpatialQuery(){var filterLayer=ractive.get("appstate.filters.active.turf.filterLayer"),filterOptions=ractive.get("appstate.filters.active.turf.filterOptions"),fieldName=ractive.get("appstate.filters.active.turf.fieldName"),cartoDbTable,fieldName,singleFilters,i,stringJoin,cartoDbQuery;singleFilters=[];for(i=0;i<filterOptions.length;i++){singleFilters.push("'"+filterOptions[i]+"'")}stringJoin=singleFilters.join(",");cartoDbQuery="https://dmajka.cartodb.com/api/v2/sql?format=GeoJSON&q=SELECT * FROM "+filterLayer+" WHERE "+fieldName+" IN ("+stringJoin+")";return cartoDbQuery}var activeFilters=ractive.get("appstate.filters.active.dataquery");var turfFilter=ractive.get("appstate.filters.active.turf");var spatialQueryString;console.log(turfFilter.filterOptions);if(turfFilter.filterOptions){console.log("YUP turf");var spatialQueryString=buildSpatialQuery();var cartoDbOverlay=L.mapbox.featureLayer();var overlayGeojson;var ptsWithin;var points2=ractive.get("inputData.imdsprojects.markers.complete");var pointsGeojson=points2.getGeoJSON();cartoDbOverlay.loadURL(spatialQueryString);cartoDbOverlay.on("ready",function(){markerGroup.clearLayers();turfLayerGroup.clearLayers();cartoDbOverlay.id="cartoDbOverlay";cartoDbOverlay.setStyle({color:"#318F95",weight:2.5,fillColor:"#318F95",fillOpacity:.1});cartoDbOverlay.addTo(turfLayerGroup);overlayGeojson=cartoDbOverlay.getGeoJSON();ptsWithin=turfwithin(pointsGeojson,overlayGeojson);var points3=L.mapbox.featureLayer(ptsWithin);filterPoints(points3);points3.eachLayer(map.addPopups);points3.eachLayer(map.changeIcon);points3.id="imdsprojects";markerGroup.addLayer(points3);onMapMove(mapDiv,ractive,markerGroup);mapDiv.panBy([0,1]);mapDiv.fitBounds(cartoDbOverlay.getBounds(),{padding:[0,0]});return markerGroup})}else{markerGroup.clearLayers();turfLayerGroup.clearLayers();var points=ractive.get("inputData.imdsprojects.markers.complete");filterPoints(points);points.eachLayer(map.addPopups);points.eachLayer(map.changeIcon);points.id="imdsprojects";markerGroup.addLayer(points);onMapMove(mapDiv,ractive,markerGroup);mapDiv.panBy([0,1]);return markerGroup}}function buildSlider(sliderId,keypath,config){var slider=document.getElementById(sliderId);var formatting;if(config.dollars){formatting=wnumb({decimals:0,thousand:",",prefix:"$"})}noUiSlider.create(slider,{start:[0,config.maxValue],tooltips:[false,false],connect:true,range:config.range,snap:config.snap,step:config.step,pips:{mode:"positions",values:config.pipsvalues,density:50,stepped:true,format:formatting}})}function getSliderChange(sliderId,keypath,map,ractive,markerGroup,turfLayerGroup){var slider=document.getElementById(sliderId);slider.noUiSlider.on("update",function(){var timeArray=slider.noUiSlider.get();ractive.set("appstate.filters."+keypath,timeArray)});slider.noUiSlider.on("set",function(){updateMapFilter(ractive,map,markerGroup,turfLayerGroup)})}function resetFilters(ractive,map,markerGroup,turfLayerGroup,spatialFilterLayerGroup,fundingSliderId,yearSliderId){var fundingSlider=document.getElementById(fundingSliderId);var yearSlider=document.getElementById(yearSliderId);var filters=ractive.get("appstate.filters.active.dataquery");var resetString;ractive.on("reset-filters",function(event){document.getElementById("spatial-select").value="Select Extent";ractive.set("appstate.filters.active.turf",{filterLabel:null,filterLayer:null,fieldName:null,filterOptions:null});var newarray=ractive.get("appstate.filters.active.turf.filterOptions");var $selOptions=$("#spatial-select-options").select2();$selOptions.val(null).trigger("change");ractive.set("appstate.filters.funding",[0,1e7]);fundingSlider.noUiSlider.set([0,1e7]);var yearMin=ractive.get("appstate.filters.variables.year.min");var yearMax=ractive.get("appstate.filters.variables.year.max");ractive.set("appstate.filters.year",[yearMin,yearMax]);yearSlider.noUiSlider.set([yearMin,yearMax]);var thematicFilters=$(".thematic-filter");thematicFilters.val(null).trigger("change");spatialFilterLayerGroup.clearLayers()})}module.exports={initRoutes:initRoutes,browserWarning:browserWarning,onMapMove:onMapMove,showPopupFromOffMap:showPopupFromOffMap,showDetails:showDetails,showDetailsFromPopup:showDetailsFromPopup,processMapEvents:processMapEvents,changeSection:changeSection,changeGraph:changeGraph,getSpatialExtentLayer:getSpatialExtentLayer,getMapSpatialSelectChange:getMapSpatialSelectChange,getSpatialSelectChange:getSpatialSelectChange,buildFilterDropdowns:buildFilterDropdowns,getThematicFilterChange:getThematicFilterChange,getThematicSelectionChange:getThematicSelectionChange,removeActiveFilter:removeActiveFilter,updateMapFilter:updateMapFilter,buildSlider:buildSlider,getSliderChange:getSliderChange,resetFilters:resetFilters}},{"../ais/config.js":34,"./filter.js":36,"./graph.js":37,"./map.js":38,director:15,lodash:17,nouislider:18,"turf-within":29,wnumb:32}],36:[function(require,module,exports){function buildDataFilterArray(fieldArray,selectID,optionDelimiter){var selectArray=[];for(field in fieldArray){var dropprop=fieldArray[field];for(var key in lyr.features){var prop=lyr.features[key].properties[dropprop];if(selectArray.indexOf(prop)===-1&&prop!==""){selectArray.push(prop)}}}selectArray.sort();var sel=document.getElementById(id);for(var i=0;i<selectArray.length;i++){var opt=document.createElement("option");opt.innerHTML=selectArray[i];opt.value=selectArray[i];sel.appendChild(opt)}}function buildCartoDBDataSelect(cartoDbTable,field,selectID){var query="https://dmajka.cartodb.com/api/v2/sql?q=SELECT DISTINCT "+field+" FROM "+cartoDbTable+" ORDER BY "+field+" ASC";$.getJSON(query,function(data){var sel=document.getElementById(selectID);for(var i=0;i<data.rows.length;i++){var opt=document.createElement("option");opt.innerHTML=data.rows[i][field];opt.value=data.rows[i][field];sel.appendChild(opt)}$("#"+selectID).select2({placeholder:"Select a Value"})})}module.exports={buildCartoDBDataSelect:buildCartoDBDataSelect}},{}],37:[function(require,module,exports){var _=require("lodash");function summarizeByAttribute(ractive,inProjectsKeyPath,fieldToSum,categoryField){var projectsInBounds=ractive.get(inProjectsKeyPath);var attribute,option,optName,project,theAttribute,thePushArray;var projectsByUniqueOptions={};var optionArray=[];var uniqueOptionsSummary=[];var uniqueOptions=ractive.get("appstate.filters.active.dataquery."+categoryField+".options");for(option in uniqueOptions){optName=uniqueOptions[option];projectsByUniqueOptions[optName]=[]}for(proj in projectsInBounds){project=projectsInBounds[proj]
;for(attr in project[categoryField]){theAttribute=project[categoryField][attr];if(theAttribute){projectsByUniqueOptions[theAttribute].push(project)}}}var cleanedProjectsByUnique=projectsByUniqueOptions;for(property in cleanedProjectsByUnique){if(cleanedProjectsByUnique[property].length>0){uniqueOptionsSummary.push({name:property,projectCount:cleanedProjectsByUnique[property].length,fundingTotal:_.sumBy(cleanedProjectsByUnique[property],fieldToSum)})}}var orderedData=_.orderBy(uniqueOptionsSummary,["projectCount","fundingTotal"],["desc","desc"]);var naSummary=_.find(orderedData,{name:"N/A"});if(naSummary){_.remove(orderedData,{name:"N/A"});orderedData.push(naSummary)}ractive.set("appstate.graphs."+categoryField+".data",orderedData);ractive.set("appstate.graphs."+categoryField+".summary",{fundingMin:_.minBy(uniqueOptionsSummary,function(o){return o.fundingTotal}).fundingTotal,fundingMax:_.maxBy(uniqueOptionsSummary,function(o){return o.fundingTotal}).fundingTotal,projectMin:_.minBy(uniqueOptionsSummary,function(o){return o.projectCount}).projectCount,projectMax:_.maxBy(uniqueOptionsSummary,function(o){return o.projectCount}).projectCount})}function buildGraphs(ractive,inProjectsKeyPath,inGraphsKeyPath){var inputGraphs=ractive.get(inGraphsKeyPath);var activeGraph;var fieldToSum;var categoryField;for(graph in inputGraphs){activeGraph=inputGraphs[graph];outKeyPath=activeGraph["data"];fieldToSum=activeGraph["fieldToSum"];categoryField=activeGraph["name"];summarizeByAttribute(ractive,inProjectsKeyPath,fieldToSum,categoryField)}}module.exports={summarizeByAttribute:summarizeByAttribute,buildGraphs:buildGraphs}},{lodash:17}],38:[function(require,module,exports){var _=require("lodash");function setupMap(config){L.mapbox.accessToken="pk.eyJ1IjoiZG1hamthIiwiYSI6IlNuSHVNb0UifQ.zIkArM4rtyvdtMZjZEesBA";var map=L.mapbox.map("map","mapbox.outdoors",{zoomControl:false,minZoom:5}).setView(config.mapCenter,config.mapZoom);var layers={Outdoors:L.mapbox.tileLayer("mapbox.outdoors"),Streets:L.mapbox.tileLayer("dmajka.m431fjbc"),Satellite:L.mapbox.tileLayer("mapbox.satellite")};layers.Outdoors.addTo(map);map.scrollWheelZoom.disable();return map}function addPoints(map,ractive,config2){var config=jQuery.extend({},config2);var markerGroup=new L.FeatureGroup;markerGroup.addTo(map);var featureLayer=L.mapbox.featureLayer();featureLayer.loadURL(config.url);featureLayer.addTo(markerGroup);featureLayer.id=config.id;featureLayer.on("ready",function(config){ractive.set("inputData.imdsprojects.markers.complete",featureLayer);featureLayer.eachLayer(parseStrings);featureLayer.eachLayer(addPopups);featureLayer.eachLayer(changeIcon);map.fitBounds(featureLayer.getBounds(),{padding:[0,0]})});return markerGroup}function parseStrings(layer){var feature=layer.toGeoJSON();var fieldArray=["invasion_stage","taxa_targeted","species_taxonomic_group_targeted","vector_pathway_addressed","specific_vector","habitat_type","project_phase","project_focus","project_type","funding_agency","state"],prop;for(field in fieldArray){try{prop=fieldArray[field];featReplace=_.replace(feature.properties[prop],/\&amp;/g,"and");feature.properties[prop]=featReplace.split(", ")}catch(err){}}if(feature.properties["award_amount"]){var dirtyValue=feature.properties["award_amount"];var cleanValue=dirtyValue.replace(/,/g,"").replace("$","");feature.properties["funding_i"]=Number(cleanValue)}else{feature.properties["funding_i"]=0}}function addPopups(layer){var feature=layer.toGeoJSON();var inUniqueID="cartodb_id";var dataName="imds";var datestring;if(feature.properties["actual_end_date"]){datestring=feature.properties["actual_end_date"]}else if(feature.properties["status"]==="Completed"){datestring=feature.properties["proposed_end_date"]}feature.properties.unique_id=dataName+feature.properties[inUniqueID].toString();if(datestring){feature.properties.enddate=datestring.slice(34,41);feature.properties.endyear=datestring.slice(0,4)}var popupTemplate='<div class="popup-title">'+feature.properties.project_title+"</div>"+'<div class="popup-body">'+"<p>"+feature.properties.project_description+"</p>"+'<ul class="popup-links list-inline">'+'<li><a href="#" class="popup-zoom"><i class="fa fa-search-plus"></i> Zoom to location</a></li>'+'<li><a href="#/details/'+feature.properties.database_id+'" class="popup-details"> <i class="fa fa-table"></i> View details</a></li>'+"</ul>"+"<div>";layer.bindPopup(popupTemplate)}function changeIcon(layer){layer.setIcon(L.mapbox.marker.icon({"marker-symbol":"star","marker-color":"c65328","marker-size":"small"}))}function zoomToFullExtentControl(map,points){L.Control.ZoomMin=L.Control.Zoom.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out",zoomMinText:"Zoom to full extent of projects",zoomMinTitle:"Zoom to full extent of projects"},onAdd:function(map){var zoomName="leaflet-control-zoom",container=L.DomUtil.create("div",zoomName+" leaflet-bar"),options=this.options;this._map=map;this._zoomInButton=this._createButton(options.zoomInText,options.zoomInTitle,zoomName+"-in",container,this._zoomIn,this);this._zoomOutButton=this._createButton(options.zoomOutText,options.zoomOutTitle,zoomName+"-out",container,this._zoomOut,this);this._zoomMinButton=this._createButton(options.zoomMinText,options.zoomMinTitle,zoomName+"-min",container,this._zoomMin,this);this._updateDisabled();map.on("zoomend zoomlevelschange",this._updateDisabled,this);return container},_zoomMin:function(){if(this.options.minBounds){return this._map.fitBounds(this.options.minBounds)}this._map.fitBounds(points.getBounds())},_updateDisabled:function(){var map=this._map,className="leaflet-disabled";L.DomUtil.removeClass(this._zoomInButton,className);L.DomUtil.removeClass(this._zoomOutButton,className);L.DomUtil.removeClass(this._zoomMinButton,className);if(map._zoom===map.getMinZoom()){L.DomUtil.addClass(this._zoomOutButton,className)}if(map._zoom===map.getMaxZoom()){L.DomUtil.addClass(this._zoomInButton,className)}if(map._zoom===map.getMinZoom()){L.DomUtil.addClass(this._zoomMinButton,className)}}});map.addControl(new L.Control.ZoomMin)}module.exports={setupMap:setupMap,addPoints:addPoints,addPopups:addPopups,changeIcon:changeIcon,zoomToFullExtentControl:zoomToFullExtentControl}},{lodash:17}]},{},[33]);